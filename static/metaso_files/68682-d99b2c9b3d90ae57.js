(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[68682],{85562:function(e,t,n){"use strict";var o,r,a,i=n(94746);function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",width:49,height:30,fill:"none",viewBox:"0 0 49 30"},e),o||(o=i.createElement("path",{fill:"url(#paint0_linear_1565_2625)",d:"M15.846 13.91a1.74 1.74 0 0 1 3.008 0l8.233 14.203c1.153 1.99 3.867 2.534 5.722.995 1.448-1.198 1.651-3.347.724-4.975L20.595 1.898"})),r||(r=i.createElement("path",{fill:"#175CD3",d:"m48.122 24.314-7.94-13.73c-1.04-1.81-3.37-2.42-5.179-1.38s-2.42 3.37-1.38 5.18l7.94 13.73c1.04 1.809 3.37 2.42 5.179 1.379s2.42-3.37 1.38-5.18M35.116 1.899c-1.04-1.81-3.37-2.42-5.18-1.38s-2.42 3.37-1.38 5.18 3.37 2.42 5.18 1.38c1.81-1.064 2.443-3.37 1.38-5.18M19.216.52a3 3 0 0 0-.362-.182 3.75 3.75 0 0 0-4.614 1.244l-.023.023c-.023.045-.045.068-.068.113s-.068.113-.09.158L1.166 24.11a4 4 0 0 0-.497 1.402v.091a2.8 2.8 0 0 0-.068.588c-.023 1.086.407 2.171 1.289 2.895.724.61 1.56.882 2.398.905h.135c1.29 0 2.556-.679 3.257-1.878l8.301-14.407 4.637-8.03A3.78 3.78 0 0 0 19.216.52"})),a||(a=i.createElement("defs",null,i.createElement("linearGradient",{id:"paint0_linear_1565_2625",x1:15.845,x2:34.095,y1:15.945,y2:15.945,gradientUnits:"userSpaceOnUse"},i.createElement("stop",{offset:.144,stopColor:"#194185"}),i.createElement("stop",{offset:.218,stopColor:"#1849A9"}),i.createElement("stop",{offset:.375,stopColor:"#175CD3"}),i.createElement("stop",{offset:.579,stopColor:"#175CD3"}),i.createElement("stop",{offset:1,stopColor:"#175CD3"})))))}},53839:function(e,t,n){"use strict";n.d(t,{j:function(){return w}});var o=n(12249),r=n(50059),a=n(85735),i=n(57437),c=n(23905),s=n.n(c),l=n(23760),u=n(78693),d=n(25590),f=n(7870),g=n(99376),m=n(39207),h=n(22322),p=n(2265);n(98633),n(42233),n(43180),n(97120),n(46075);var v=n(99305);n(79943);var _=n(25222),b=n(35170),y=n(88272),I=n(89576),w=function(e){var t,n,c,w,x,S=function(){E(!0),C.setMessageClosed();var e="".concat(C.metasoAIConfig.version);if(localStorage.getItem("bannerClose")){var t=JSON.parse(localStorage.getItem("bannerClose"));t[e]?t[e]=t[e]+1:t[e]=1,localStorage.setItem("bannerClose",JSON.stringify(t)),C.login&&t[e]>=3&&(0,m.dlX)().then(function(e){}).catch(function(e){(0,h.y)("关闭失败",{variant:"error",autoHideDuration:2e3})})}else localStorage.setItem("bannerClose",JSON.stringify((0,o._)({},e,1)))},C=(0,l.LM)();(0,g.usePathname)();var T=(0,r._)((0,p.useState)(!0),2),M=T[0],E=T[1];(0,p.useEffect)(function(){var e;if(!C.metasoAIConfig||C.messageClosed){E(!0);return}if(C.login&&(null===(e=C.userInfo)||void 0===e?void 0:e.notes)){var t=JSON.parse(C.userInfo.notes);if(t.hideBannerVersion&&parseInt(t.hideBannerVersion)>=C.metasoAIConfig.version){E(!0);return}}localStorage.getItem("bannerClose")&&JSON.parse(localStorage.getItem("bannerClose"))["".concat(C.metasoAIConfig.version)]>=3?E(!0):E(!1)},[C.metasoAIConfig,C.messageClosed,C.login,C.userInfo]);var N=(0,p.useRef)([]),A=(0,r._)((0,p.useState)(null),2),k=A[0],P=A[1];(0,p.useEffect)(function(){if(k){var e=[],t=function(t){var n=(0,a._)(k.querySelectorAll("a")),o=function(e){e.currentTarget instanceof HTMLAnchorElement&&(0,v.Uq)(e.currentTarget.href)&&e.preventDefault()},r=!0,i=!1,c=void 0;try{for(var s,l=n[Symbol.iterator]();!(r=(s=l.next()).done);r=!0)!function(){var t=s.value;!N.current.includes(t)&&(N.current.push(t),t.addEventListener("click",o),e.push(function(){t.removeEventListener("click",o)}))}()}catch(e){i=!0,c=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw c}}};return k.addEventListener("mousedown",t),function(){e.forEach(function(e){return e()}),k.removeEventListener("mousedown",t)}}},[k]);var D=_.WorkFlowBridgeV2.useAPI("workFlow"),Z=b.GO.useAPI("settingDrawer"),j=function(t){var n=t.target.closest("a").href;if(n&&n.startsWith("metasoapp://")){t.stopPropagation(),t.preventDefault();var o,r,a=n.replace("metasoapp://","");"workflow"===a&&((0,f.dW)("open-workflow-from-banner",a),e.isH5?null===(o=Z.current)||void 0===o||o.open():null===(r=D.current)||void 0===r||r.open());return}},H=(t=(0,p.useRef)(null),n=(0,p.useRef)([]),c=(0,p.useRef)([]),w=(0,p.useCallback)(function(){t.current||(t.current=new I.Z(function(e,t){n.current.forEach(function(e){return e(x.current)})}),t.current.observe(x.current),c.current.forEach(function(e){return e(x.current)}),c.current.length=0)},[]),y.a.useRegister("systemBanner",function(){return{subscribeResize:function(e){return n.current.push(e),x.current?e(x.current):c.current.push(e),function(){n.current.splice(n.current.indexOf(e),1)}}}}),(0,p.useEffect)(function(){return function(){var e;return null===(e=t.current)||void 0===e?void 0:e.disconnect()}},[]),x=(0,p.useRef)(null),(0,p.useCallback)(function(e){x.current=e,e&&w()},[w]));return(0,i.jsx)(i.Fragment,{children:C.metasoAIConfig&&!M&&(0,i.jsxs)(i.Fragment,{children:[e.isH5&&C.metasoAIConfig.pcMessage&&(0,i.jsxs)(u.Z,{className:s().container+" ".concat(s()["h5-container"]),ref:H,children:[(0,i.jsx)("div",{className:s()["h5-message-content"],ref:P,onClickCapture:j,dangerouslySetInnerHTML:{__html:C.metasoAIConfig.pcMessage}}),(0,i.jsx)(d.P,{sx:(0,f.KI)({top:"unset",right:10}),onClick:S})]}),!e.isH5&&C.metasoAIConfig.pcMessage&&(0,i.jsxs)(u.Z,{className:s().container+" ".concat(s()["pc-container"]),ref:H,children:[(0,i.jsx)("div",{className:s()["message-content"],onClick:j,dangerouslySetInnerHTML:{__html:C.metasoAIConfig.pcMessage}}),(0,i.jsx)(d.P,{sx:(0,f.KI)({top:"unset",right:20}),onClick:S})]})]})})}},90631:function(e,t,n){"use strict";var o=n(5194),r=n(1780),a=n(46796),i=n(45008),c=n(57437),s=n(78693),l=n(16210),u=n(19643),d=n(74634),f=n(26058),g=n(79943);function m(){var e=(0,i._)(["\n  padding: 10px;\n  font-size: 12px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 18px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return m=function(){return e},e}function h(){var e=(0,i._)(["\n  width: 1px;\n  height: 16px;\n  background: #cbd0d9;\n"]);return h=function(){return e},e}t.Z=function(e){var t,n,i=e.isH5,l=e.sx,u=(0,a._)(e,["isH5","sx"]),m=(null===(t=(0,f.ZD)())||void 0===t?void 0:t.isMiniWebView)||(null===(n=(0,f.ZD)())||void 0===n?void 0:n.isAliApp),h=(0,d.a8)();return((0,g.WS)(),!h||m)?(0,c.jsx)("div",{style:{marginTop:8}}):i?(0,c.jsx)(p,(0,r._)((0,o._)({sx:(0,o._)({fontSize:"12px",color:"#98a2b3"},l)},u),{children:(0,c.jsx)(s.Z,{children:(0,c.jsx)("a",{style:{color:"inherit",textDecoration:"none"},href:"https://beian.miit.gov.cn/",target:"_blank",children:"沪ICP备18046118号-1"})})})):(0,c.jsx)(p,(0,r._)((0,o._)({direction:"row",sx:l},u),{children:(0,c.jsx)("a",{style:{color:"#98a2b3",padding:"2px 6px",borderRadius:"8px",textDecoration:"none"},href:"https://beian.miit.gov.cn/",target:"_blank",children:"沪ICP备18046118号-1"})}))};var p=(0,l.ZP)(u.Z,{name:"copyright",slot:"root"})(m());(0,l.ZP)("div")(h())},5806:function(e,t,n){"use strict";n.d(t,{a:function(){return I}});var o=n(2403),r=n(50059),a=n(5853),i=n(99376),c=n(55833),s=n(2265),l=n(36570),u=n(22629),d=n(47812),f=n(74634),g=n(39207),m=n(22322),h=n(75825),p=n(89480),v=n(26058),_=n(23760),b=n(96339),y=n(53998),I=function(e){var t,n=function(){"research"===l.ZP.defaultMode.get()&&l.ZP.defaultMode.set("detail")},I=(e||{}).onProcess,w=(0,i.useSearchParams)(),x=w.get("q"),S=w.get("m")||"detail",C=(0,s.useRef)(S),T=w.get("st"),M=w.get("et"),E=w.get("sti"),N=w.getAll("pt"),A=w.get("fi"),k=JSON.parse(w.get("var")||"null"),P=JSON.parse(w.get("imi")||"null"),D=JSON.parse(w.get("advm")||"null"),Z=w.get("mdl"),j=w.get("iid"),H=w.get("imc"),L=(0,y.qd)().onSubmit;(0,s.useLayoutEffect)(function(){n();var e=l.ZP.defaultMode.get(),t=l.ZP.defaultModeWithTimePriority.get();null===w.get("m")&&t?Date.now()-t.time>216e5?(C.current=e,G.current.mode=e,l.ZP.defaultModeWithTimePriority.remove()):(C.current=t.mode,G.current.mode=t.mode):null===w.get("m")&&e&&(C.current=e,G.current.mode=e);var o=l.ZP.defaultEngine.get();null===w.get("et")&&!M&&o&&(M=o,G.current.engineType=M);var r=u.a2.getState();M!==d.rG.WEBPAGE||r.isTraditionalSearchEngineModeActive||r.setTraditionalSearchEngineModeActive(!0)},[]);var O=(0,i.usePathname)(),G=(0,s.useRef)(x?{question:x,mode:S,searchType:T||void 0,engineType:M,searchTopicId:E,scholarSearchDomain:d.wb.ALL,flowId:A||void 0,variable:k||void 0,imgInfo:P||void 0,imgId:j||void 0,imgCategory:H||void 0,advanceMath:D||void 0,model:Z||void 0}:{question:"",mode:"detail",engineType:d.rG.DEFAULT,scholarSearchDomain:d.wb.ALL}),R=(0,r._)((0,f.W6)(function(){G.current.scholarSearchDomain=l.ZP.scholarLang.get(),x&&N.length>0?(0,g.a5N)(x,N).then(function(e){0===e.data.errCode?(G.current.question=e.data.data,L(G.current,function(){return null==I?void 0:I("cancel-submitting")})):(0,m.y)("获取问题失败",{variant:"error",autoHideDuration:3e3})}).catch(function(e){(0,m.y)("获取问题失败",{variant:"error",autoHideDuration:3e3})}):x&&O===h.l.Home&&L(G.current,function(){return null==I?void 0:I("cancel-submitting")})},[x,N,L,I]),2),q=R[0];R[1],(0,s.useLayoutEffect)(function(){p.wS.done.then(function(){q.current()})},[]);var B=(0,s.useCallback)(function(e,t){var n,r,i=e.question,c=e.searchType,s=e.engineType,u=e.variable,f=e.flowId,g=e.cost,m=e.openInNewTab,p=e.searchTopicId,_=e.topicId,b=e.topicName,y=e.searchTopicName,I=e.imgInfo,w=e.saveShareKey,x=e.imgId,S=e.imgCategory,T=e.advanceMath,M=e.enableImageGroup,E=e.model,N=e.deepResearchModel;if(!m||(null===(n=(0,v.ZD)())||void 0===n?void 0:n.isMiniWebView)||(null===(r=(0,v.ZD)())||void 0===r?void 0:r.isAliApp)){var A=s===d.rG.SCHOLAR?l.ZP.scholarLang.get():s===d.rG.KNOWLEDGE&&p||d.wb.ALL;L({question:i,mode:C.current,model:E,deepResearchModel:N,searchType:c,engineType:s,scholarSearchDomain:A,variable:u,flowId:f,cost:g,searchTopicId:p,topicId:_,topicName:b,searchTopicName:y,imgInfo:I,imgId:x,imgCategory:S,advanceMath:T,enableImageGroup:M},t,w)}else{var k=h.l.Home+"?q=".concat(encodeURIComponent(i),"&m=").concat(C.current).concat(c?"&st=".concat(c):"","&et=").concat(s||"","&sti=").concat(p||"");w&&(k+="&ssi=".concat(w||"","&tsk=").concat(w||"")),(0,o._)(function(){var e;return(0,a.Jh)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),e=window.open(),[4,new Promise(function(e){return setTimeout(e)})];case 1:return t.sent(),e.location=k,[3,3];case 2:return t.sent(),location.href=k,[3,3];case 3:return[2]}})})()}},[L]),W=(0,s.useCallback)((t=(0,o._)(function(e){var t,n,o,r,i,s,l,u,f,g,h,v,y,x,S,T,M,E,N,A,k,P,D,Z;return(0,a.Jh)(this,function(a){switch(a.label){case 0:if(t=e.question,n=e.engineType,o=e.openInNewTab,r=e.autoChange,i=e.searchType,s=e.path,l=e._mode,u=e.variable,f=e.flowId,g=e.cost,h=e.searchTopicId,v=e.topicId,y=e.topicName,x=e.searchTopicName,S=e.imgInfo,T=e.saveShareKey,M=e.imgId,E=e.imgCategory,N=e.advanceMath,A=e.enableImageGroup,k=e.model,P=e.deepResearchModel,l&&(C.current=l),n!==d.rG.KNOWLEDGE&&(h=void 0,x=void 0),D=(0,c.G2)({question:t,mode:C.current,engineType:n,searchType:i,path:s,variable:u,flowId:f,searchTopicId:h,topicId:v,topicName:y,searchTopicName:x,imageInfo:S,imgId:M,imgCategory:E,advanceMath:N}),!T&&w.get("tsk")&&(T=w.get("tsk")),!T&&w.get("ssi")&&(T=w.get("ssi")),Z=p.LM.getState().login,!("research"===C.current&&!Z))return[3,2];return[4,(0,c.Im)()];case 1:if(!a.sent()){if(!Z)return _.aK.setState({backPath:location.href}),(0,b.x3)({showTips:!0,tipsHtml:"登录后，可<b>免费</b>使用<u>研究模式</u>",redirectUrl:D,logDesc:"use-research-mode"}),[2];if(!r)return(0,m.y)("研究模式超过当日上限，请明天再来～",{variant:"info",autoHideDuration:3e3,className:"info-blue"}),[2];C.current="detail",(0,m.y)("【研究模式】超过当日上限，已为您切换到【深入模式】继续搜索",{variant:"info",autoHideDuration:3e3,className:"info-blue"})}a.label=2;case 2:return null==I||I("submitting"),B({question:t,searchType:i,engineType:n,variable:u,flowId:f,cost:g,openInNewTab:o,searchTopicId:h,topicId:v,topicName:y,searchTopicName:x,imgInfo:S,saveShareKey:T,imgId:M,imgCategory:E,advanceMath:N,enableImageGroup:A,model:k,deepResearchModel:P},function(){null==I||I("cancel-submitting")}),[2]}})}),function(e){return t.apply(this,arguments)}),[B,S,I,w]);return{modelRef:C,onSearchSubmit:W,question:x}}},9261:function(e,t,n){"use strict";var o=n(5194),r=n(1780),a=n(46796),i=n(57437),c=n(7870),s=n(93416),l=n.n(s);n(2265);var u=n(78693),d=n(85562),f=n(42233),g=n(75825),m=n(79943);t.Z=function(e){var t=(0,m.WS)(),n=e.logo,s=e.sizeFactor,h=e.classes,p=(e.sxs,e.isBackToHome),v=e.onLogoClicked,_=e.style,b=(0,a._)(e,["logo","sizeFactor","classes","sxs","isBackToHome","onLogoClicked","style"]);return(0,i.jsx)(u.Z,(0,r._)((0,o._)({},b),{onClick:function(){null==v||v(),p&&t.push(g.l.Home)},style:(0,o._)({fontSize:16*(void 0===s?1:s),cursor:p?"pointer":"default",flex:"none"},_),className:(0,c.zk)([l()["meta-law-logo-wrapper"],null==h?void 0:h.wrapper]),children:null!=n?n:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.Z,{}),(0,i.jsx)(u.Z,{component:"span",sx:{ml:.75,color:"#175CD3",lineHeight:1,fontSize:"2em",fontWeight:"bold"},children:f.re.ProjectName})]})}))}},56486:function(e,t,n){"use strict";n.d(t,{U:function(){return T}});var o=n(12249),r=n(5194),a=n(1780),i=n(46796),c=n(50059),s=n(57437),l=n(78693),u=n(74370),d=n.n(u),f=n(7870),g=n(2265),m=n(54632),h=n(15438),p=n(55833),v=n(23760),_=n(96339),b=n(31219),y=n(16056),I=n(25222),w=n(41963),x=n(99376),S=n(47812),C=n(68956);function T(e){var t=e.models,n=e.defaultModel,u=e.onModelChange,T=e.isH5,M=e.engineType,E=(0,i._)(e,["models","defaultModel","onModelChange","isH5","engineType"]),N=(0,c._)((0,g.useState)(n),2),A=N[0],k=N[1],P=(0,v.LM)(function(e){return e.login}),D=(0,c._)((0,g.useState)(!1),2),Z=D[0];D[1],(0,g.useEffect)(function(){Z&&P&&q("research")},[Z,P]),(0,C.cF)(),(0,g.useEffect)(function(){(M===S.rG.PODCAST&&"research"===A||M==S.rG.IMAGE)&&(k("detail"),u("detail"))},[M,A]);var j=I.HomeBridgeV2.useAPI("homeSearchBox"),H=(0,w.A8)(),L=H.removeUrlCmd,O=H.store,G=(0,w.Qv)(function(e){var t=e.find(function(e){return e.type===b.a.HomeInputSetting});if(t){var n=JSON.parse(t.payload).mode;k(n),u(n),O.get("HomeSearchBox")?L(b.a.HomeInputSetting):O.set("ModelTab",1)}}),R=(0,x.useSearchParams)();(0,g.useEffect)(function(){G()},[R]);var q=function(e){"research"!==e||P?(k(e),u(e)):(0,p.Im)().then(function(t){if(t)k(e),u(e);else if(P)k(e),u(e);else{var n,o=(0,y.GZ)(location.href,[{type:b.a.HomeInputSetting,payload:JSON.stringify({text:(null===(n=j.current)||void 0===n?void 0:n.getText())||"",mode:e})}]);(0,_.x3)({redirectUrl:o.href,showTips:!0,tipsHtml:"登录后，可<b>免费</b>使用<u>研究模式</u>",logDesc:"switch-research-mode"})}})},B=(0,c._)((0,g.useState)({width:"calc(calc(100% - ".concat(T?23.9:15.9,"px) / ").concat(t.length,")"),height:T?30:40,transform:"translate(calc(100% + ".concat(T?12:8,"px), ").concat(T?3:0,"px)")}),2),W=B[0],F=B[1],J=(0,h.YF)({placement:"top-start",middleware:[{name:"custom-offset",fn:function(e){var t=e.elements.floating.getBoundingClientRect();return(0,a._)((0,r._)({},e),{y:e.y+t.height})}}]}),U=J.floatingStyles,z=(J.elements,J.refs);J.update;var K=t.findIndex(function(e){return e.value===A});return(0,g.useLayoutEffect)(function(){var e,t=null===(e=z.reference.current)||void 0===e?void 0:e.getBoundingClientRect();t&&F({width:t.width,height:t.height})},[U]),(0,s.jsxs)(l.Z,(0,a._)((0,r._)({className:d()["tab-container"]},E),{children:[t.map(function(e,t,n){var r=A===e.value,a=M===S.rG.IMAGE||"research"===e.value&&M===S.rG.PODCAST;return(0,s.jsx)(m.Z,{ref:function(e){r&&e&&z.setReference(e)},disabled:a,className:(0,f.zk)([d().tab],(0,o._)({},d().active,r)),onClick:function(){return q(e.value)},children:e.label},t)}),T?(0,s.jsx)(l.Z,{ref:z.setFloating,className:d()["model-tab-indicator"],style:(0,r._)({},U,W)}):(0,s.jsx)(l.Z,{ref:z.setFloating,className:d()["model-tab-indicator"],style:{transform:"translateX(calc(".concat(100*K,"% + ").concat(8*K,"px))"),position:"absolute",left:0,top:0,width:"calc((100% - ".concat(8*(t.length-1),"px) / ").concat(t.length,")"),height:"100%"}})]}))}},23905:function(e){e.exports={container:"SystemMessage_container__59ZCq","h5-container":"SystemMessage_h5-container__TuCUU","pc-container":"SystemMessage_pc-container__fX_xn","h5-close-btn":"SystemMessage_h5-close-btn__F4rY1","close-btn":"SystemMessage_close-btn__eK8nC","h5-message-content":"SystemMessage_h5-message-content__aBuic","message-content":"SystemMessage_message-content__jqSud","bold-underline":"SystemMessage_bold-underline__l7aER"}},93416:function(e){e.exports={"meta-law-logo-wrapper":"meta-law-logo_meta-law-logo-wrapper__YtmxX","meta-law-logo-icon":"meta-law-logo_meta-law-logo-icon__CeSQd","meta-law-logo-text":"meta-law-logo_meta-law-logo-text__tO2_5","meta-law-logo-beta-icon":"meta-law-logo_meta-law-logo-beta-icon__08OVh",super:"meta-law-logo_super__jq8I5"}}}]);