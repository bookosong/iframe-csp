(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4274],{42480:function(){},24654:function(){},31876:function(e,t,n){"use strict";var r,o=n(94746);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return o.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:12,height:13,fill:"none",viewBox:"0 0 12 13"},e),r||(r=o.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.667,d:"m11 1.5-10 10m0-10 10 10"})))}},98379:function(e,t,n){"use strict";var r,o=n(94746);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return o.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),r||(r=o.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 13.334V10m0-3.333h.008M18.333 10a8.333 8.333 0 1 1-16.666 0 8.333 8.333 0 0 1 16.666 0"})))}},12623:function(e,t,n){"use strict";var r,o=n(94746);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return o.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},e),r||(r=o.createElement("path",{fill:"#47B881",d:"M9 17.25A8.25 8.25 0 1 0 9 .75a8.25 8.25 0 0 0 0 16.5m-.708-4.897L5.47 9.53l1.06-1.06 1.678 1.677 3.973-4.635 1.139.976z"})))}},28816:function(e,t,n){"use strict";var r,o,i,a=n(94746);function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return a.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",width:30,height:14,fill:"#fff",viewBox:"0 0 120 30"},e),r||(r=a.createElement("circle",{cx:15,cy:15,r:15,fill:"#2D2D2D"},a.createElement("animate",{attributeName:"r",begin:"0s",calcMode:"linear",dur:"0.8s",from:15,repeatCount:"indefinite",to:15,values:"15;9;15"}),a.createElement("animate",{attributeName:"fill-opacity",begin:"0s",calcMode:"linear",dur:"0.8s",from:1,repeatCount:"indefinite",to:1,values:"1;.2;.2"}))),o||(o=a.createElement("circle",{cx:60,cy:15,r:9,fill:"#2D2D2D",fillOpacity:.3},a.createElement("animate",{attributeName:"r",begin:"0s",calcMode:"linear",dur:"0.8s",from:9,repeatCount:"indefinite",to:9,values:"9;15;9"}),a.createElement("animate",{attributeName:"fill-opacity",begin:"0s",calcMode:"linear",dur:"0.8s",from:.5,repeatCount:"indefinite",to:.5,values:".2;1;1"}))),i||(i=a.createElement("circle",{cx:105,cy:15,r:15,fill:"#2D2D2D"},a.createElement("animate",{attributeName:"r",begin:"0s",calcMode:"linear",dur:"0.8s",from:15,repeatCount:"indefinite",to:15,values:"15;9;15"}),a.createElement("animate",{attributeName:"fill-opacity",begin:"0s",calcMode:"linear",dur:"0.8s",from:1,repeatCount:"indefinite",to:1,values:".2;.2;1"}))))}},39207:function(e,t,n){"use strict";n.d(t,{vOA:function(){return q},EO7:function(){return v},faC:function(){return tj},Z3G:function(){return el},FqK:function(){return _},xXm:function(){return eo},sS5:function(){return eO},R5n:function(){return rt},TAj:function(){return nP},KQu:function(){return tp},O8Z:function(){return ny},yS_:function(){return ol},Onw:function(){return oU},fgH:function(){return eH},yGc:function(){return ej},Y2L:function(){return nS},hFz:function(){return oj},IL8:function(){return op},RGK:function(){return eS},ka1:function(){return tq},w59:function(){return te},jGE:function(){return nG},bf1:function(){return nl},$NR:function(){return r_},DrM:function(){return eY},Dyf:function(){return ne},qnN:function(){return ri},oi2:function(){return ta},B32:function(){return ro},tWx:function(){return eT},kPV:function(){return on},QQj:function(){return tx},arA:function(){return oT},l$f:function(){return r2},njh:function(){return n$},B6N:function(){return tM},inu:function(){return rB},mgk:function(){return eX},EGj:function(){return tY},lrA:function(){return rV},Dx1:function(){return nk},Cz_:function(){return nT},vRe:function(){return nm},DB7:function(){return nb},oZK:function(){return nC},ed6:function(){return ty},dsJ:function(){return oL},XiY:function(){return rW},$n4:function(){return tk},qKj:function(){return o1},XO6:function(){return rJ},TMt:function(){return rv},RX8:function(){return tm},g9m:function(){return oe},LYd:function(){return iE},$TW:function(){return il},SOp:function(){return tT},jUZ:function(){return r7},Na9:function(){return eJ},MHR:function(){return eK},BKg:function(){return rr},HlZ:function(){return rp},$BC:function(){return na},SvO:function(){return nd},IMx:function(){return iS},X7z:function(){return n3},cME:function(){return ix},TSn:function(){return rI},Tmp:function(){return th},rnj:function(){return eq},QrE:function(){return ra},taO:function(){return e8},Ydr:function(){return e3},JS6:function(){return rw},mSW:function(){return rb},Sqh:function(){return rS},Aod:function(){return rM},s_t:function(){return rR},ArE:function(){return n1},wkR:function(){return rA},Ng$:function(){return ry},hCt:function(){return iB},kEs:function(){return iW},K8J:function(){return o6},QDj:function(){return o0},PSx:function(){return oa},JjP:function(){return t5},DOL:function(){return eG},SoC:function(){return rC},F9E:function(){return rE},Pb$:function(){return iT},qNJ:function(){return tI},CC2:function(){return tn},hq7:function(){return nZ},sOk:function(){return oW},XL2:function(){return nM},vJZ:function(){return or},uCJ:function(){return rs},yZe:function(){return nR},eJy:function(){return no},Zaw:function(){return og},BbM:function(){return oN},Wbx:function(){return o_},kQc:function(){return of},DYB:function(){return od},uZJ:function(){return oI},DCv:function(){return ia},atk:function(){return tG},cKi:function(){return rN},ejW:function(){return tD},AUF:function(){return rT},q3T:function(){return tJ},JCq:function(){return ov},qzB:function(){return oZ},kmm:function(){return tg},fR$:function(){return tR},LlV:function(){return t8},miJ:function(){return rh},j5b:function(){return tV},Ygb:function(){return ni},MbX:function(){return rH},oFt:function(){return rP},Li6:function(){return oM},bvQ:function(){return n5},z$Q:function(){return rc},SFo:function(){return ru},t9f:function(){return rl},v0E:function(){return nv},ayz:function(){return oJ},ICg:function(){return oV},bIb:function(){return tE},K0G:function(){return rO},lRq:function(){return oc},Evb:function(){return rx},wUC:function(){return td},sAl:function(){return tl},t6W:function(){return ng},oOz:function(){return np},usX:function(){return oG},tXK:function(){return rZ},Eud:function(){return rK},Tt$:function(){return tW},aYA:function(){return nt},sP0:function(){return t7},wr9:function(){return tU},jl7:function(){return ih},xnE:function(){return os},lfo:function(){return ow},sGA:function(){return oS},qPb:function(){return ox},$mb:function(){return oy},bl3:function(){return o2},Yoe:function(){return ou},rrL:function(){return oH},YKh:function(){return oC},t7y:function(){return om},MH6:function(){return oz},Oy7:function(){return o$},F$N:function(){return o8},PYu:function(){return r$},ur5:function(){return r0},DDF:function(){return nf},Z$6:function(){return ei},uJF:function(){return r9},cZ5:function(){return rk},_ln:function(){return tX},Sy$:function(){return eC},anp:function(){return tc},ayj:function(){return iR},eNg:function(){return ip},HgF:function(){return oR},W5v:function(){return iw},hnB:function(){return im},owH:function(){return iz},xK9:function(){return iF},oCh:function(){return rU},XpN:function(){return eP},u7t:function(){return rz},Bf$:function(){return eR},a5N:function(){return tO},twO:function(){return iv},iJp:function(){return eI},ppx:function(){return nJ},C5f:function(){return oD},wuH:function(){return oF},Fx$:function(){return rQ},Urb:function(){return tN},l1e:function(){return iP},B7k:function(){return iN},Hiq:function(){return oX},vHi:function(){return oQ},ij3:function(){return oY},Xk8:function(){return oq},dGu:function(){return tZ},eO_:function(){return e$},wB2:function(){return e0},rkk:function(){return t_},k01:function(){return ir},cCC:function(){return it},Tu5:function(){return ie},ffG:function(){return t$},Bot:function(){return t0},VUo:function(){return tb},sao:function(){return oi},FfW:function(){return o9},cgk:function(){return nB},XS6:function(){return tC},pBY:function(){return tP},w0F:function(){return tt},Pao:function(){return nh},CP4:function(){return nz},Fkn:function(){return r3},Bf1:function(){return r5},Vnk:function(){return r4},m3j:function(){return t4},VP0:function(){return eB},Kt3:function(){return eL},YYv:function(){return eW},prU:function(){return nu},KtT:function(){return nI},saR:function(){return nc},Rhm:function(){return nx},z86:function(){return ns},QE:function(){return n7},aje:function(){return n9},$em:function(){return n8},I_U:function(){return oP},SkV:function(){return e_},Icd:function(){return tA},N1$:function(){return ez},uIr:function(){return tf},Gum:function(){return ek},NZH:function(){return io},X$K:function(){return nW},oTN:function(){return tH},ZLq:function(){return iC},dlX:function(){return t9},_m5:function(){return rn},OmF:function(){return nH},yEX:function(){return tw},PMf:function(){return t1},HQW:function(){return ex},Cso:function(){return eA},dNN:function(){return eM},NJ7:function(){return to},_CT:function(){return nQ},Xr_:function(){return n0},AwV:function(){return eN},Lqu:function(){return iU},IBE:function(){return iD},DAF:function(){return iO},Hw4:function(){return iL},BAb:function(){return ij},FD8:function(){return n2},McY:function(){return iu},$LL:function(){return rj},jjL:function(){return rL},wdN:function(){return iI},fyJ:function(){return nO},w3:function(){return nD},jYv:function(){return nL},gQE:function(){return nq},iio:function(){return nY},qCN:function(){return nX},U3N:function(){return tu},QEc:function(){return ts},Pwy:function(){return eD},YS6:function(){return eU},A2A:function(){return rq},c0U:function(){return nr},WzX:function(){return nn},jaP:function(){return eh},x$_:function(){return ed},k3p:function(){return ep},khe:function(){return tr},Mx0:function(){return oK},d0z:function(){return tK},AS8:function(){return oE},zbA:function(){return r8},iUR:function(){return r6},HY$:function(){return ic},yQh:function(){return oO},Tui:function(){return o7},hFy:function(){return ob},qET:function(){return tz},fpm:function(){return oB},ikV:function(){return eV},FGO:function(){return ig},Fb7:function(){return n4},N5D:function(){return oh},Grb:function(){return t6},VwT:function(){return eZ},kGl:function(){return e4},COp:function(){return e9},qbg:function(){return tv},mug:function(){return nj},pgQ:function(){return eF},hW$:function(){return ok},sUD:function(){return nK},drl:function(){return o5},HzA:function(){return o3},jQW:function(){return oA},cJ:function(){return oo},UsC:function(){return tQ},bE6:function(){return rY},yvK:function(){return is},RsU:function(){return nF},VK7:function(){return nU},O0j:function(){return e1},M8n:function(){return e2},hiv:function(){return o4},qu5:function(){return rg},jy7:function(){return nN},pv_:function(){return rF},TId:function(){return iH},o6y:function(){return iM},Cn7:function(){return nA},LBm:function(){return rd},iPX:function(){return nV},sKc:function(){return nw},Ov7:function(){return rm},Tau:function(){return n_},zlM:function(){return ti},n9Z:function(){return rD},kIr:function(){return rX},Q_A:function(){return rf},BZM:function(){return nE},sEl:function(){return n6},Ta1:function(){return ew},kF3:function(){return eE},jLG:function(){return re},POi:function(){return id},jgw:function(){return r1},Mo8:function(){return ii},FGH:function(){return ef},amx:function(){return em},RU1:function(){return i_},DUK:function(){return ev},Cmf:function(){return eg},KrV:function(){return iy},Vys:function(){return tB},fLr:function(){return t2},Dvu:function(){return t3},WDe:function(){return tL},qQ1:function(){return tF}});var r,o,i,a,c,u,s,l,f,d,p,h,m,g,v,_,y=n(2403),S=n(5194),b=n(1780),w=n(46796),E=n(5853),C=n(64927),T=n.n(C),k=n(83464),x=n(58494),A=n(47812),N=n(23760),I=n(57456);n(7330);var P=n(82984),R=n(7870),M=n(26058),O=n(25060),D=n(64654);n(80928);var L=n(54493),U=n(89831),F=n(24095),j=n(64798),z=n.n(j),H=n(82139),B=n(70888),W=n(76904),K=n(97635),V=n(36570),J=n(74634),Z=function(){if("undefined"!=typeof document)return x.ZP.load("h5Study-id",!0)||G()},G=function(){var e=new Date().getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)})},q={baseURL:"https://metaso.cn",headers:{}},Y=(0,O.pb)("undefined"!=typeof navigator?navigator.userAgent:null),X=(0,M.ZD)()||{},Q=X.isMiniWebView,$=X.isAliApp,ee={};Q?ee["metaso-mini"]="1":$?ee["metaso-aliapp"]="1":(0,F.EM)()?ee["metaso-app"]="iosh5":(0,F.oc)()?ee["metaso-app"]="androidh5":Y?ee["metaso-h5"]="1":ee["metaso-pc"]="pc";var et={};Q&&(et["is-mini-webview"]="1"),Object.assign(q.headers,ee,et);var en=k.default.create(q),er=k.default.create(q),eo="https://metaso.cn",ei=function(){return"https://metaso.cn".includes("metamiao.metaso.cn")?"https://metamiao.metaso.cn":"https://metaso.cn".includes("metaso.cn")?"https://files.metaso.cn":"https://metaso.cn".includes("localhost")?"http://localhost:8068":"https://metaso.cn".includes("172.168")?"https://metaso.cn":""},ea=function(e){throw e.msg||e.message||e.errMsg,e.code,e};en.interceptors.request.use((r=(0,y._)(function(e){var t,n,r,o;return(0,E.Jh)(this,function(i){return n=document.querySelector("#meta-token").getAttribute("content"),e.headers.set("token",n),("learn.metasotalaw.cn"===(r=null===(t=location)||void 0===t?void 0:t.host)||"learn.metaso.cn"===r)&&(e.withCredentials=!0),(o=tD("custom_header"))&&((o=decodeURIComponent(o)).toLowerCase().indexOf("ios")>-1||o.toLowerCase().indexOf("android")>-1?e.headers.set("metaso-app",o):"h5"==o&&e.headers.set("metaso-h5","1")),[2,e]})}),function(e){return r.apply(this,arguments)})),en.interceptors.response.use(void 0,ea),er.interceptors.request.use((o=(0,y._)(function(e){var t,n,r;return(0,E.Jh)(this,function(o){switch(o.label){case 0:if(!((t=N.LM.getState()).verify&&t.verify.val&&(!t.verifyShowTime||new Date().getTime()-t.verifyShowTime<3e5)))return[3,2];return[4,new Promise(function(e,n){(0,P.Z)(function(){t.updateVerify((0,b._)((0,S._)({},t.verify),{val:!1,isRequestFrequently:!1})),e()},function(){})})];case 1:o.sent(),o.label=2;case 2:return n=document.querySelector("#meta-token").getAttribute("content"),e.headers.set("token",n),(r=tD("custom_header"))&&((r=decodeURIComponent(r)).toLowerCase().indexOf("ios")>-1||r.toLowerCase().indexOf("android")>-1?e.headers.set("metaso-app",r):"h5"==r&&e.headers.set("metaso-h5","1")),[2,e]}})}),function(e){return o.apply(this,arguments)})),er.interceptors.response.use((i=(0,y._)(function(e){var t,n,r,o,i,a;return(0,E.Jh)(this,function(c){switch(c.label){case 0:if(t=e.config.url,n=e.config.method,!e.data)return[3,10];if(!("errCode"in e.data))return[3,9];if(0==(r=e.data.errCode)&&(t.indexOf("/api/file")>0&&"put"==n&&0>t.indexOf("/chunk/upload")||t.indexOf("/chunk/complete")>0||t.endsWith("/topic"))&&(N.LM.getState().updateUserInfo(),t.endsWith("/topic")&&N.LM.getState().updateUserRecentlyUsedTopics()),!L.dp.isNeedLoginErrorCode(r))return[3,7];if(o=!1,"pending"!==H.A.status)return[3,2];return[4,H.A.done];case 1:return o="offline"===c.sent(),[3,4];case 2:return[4,rG()];case 3:o=!c.sent(),c.label=4;case 4:if(!(1!=x.ZP.load("register")&&o))return[3,6];return[4,N.LM.getState().logOut({desc:"iAxios-error, ".concat(e.config.url),isStatic:!0})];case 5:c.sent(),c.label=6;case 6:throw new L.dp(r,"用户信息过期且无额度,需要登录");case 7:r===U.cO.BLACK_LIST?(i={val:!0,params:{realIp:e.data.realIp}},N.LM.getState().updateVerify(i)):L.dp.isRequestFrequentlyErrorCode2(r)?eS():L.dp.isRequestFrequentlyErrorCode(r)?(a={val:!0,params:{isRequestFrequently:!0}},N.LM.getState().updateVerify(a)):r!==U.cO.SAFE&&r!==U.cO.SUCCESS&&e&&e.config&&e.config.url&&e.config.url.endsWith("event_report"),c.label=8;case 8:return[3,10];case 9:e.data,c.label=10;case 10:return[2,e]}})}),function(e){return i.apply(this,arguments)}),ea);var ec=function(e){var t=JSON.stringify(e),n=new Headers,r=document.querySelector("#meta-token").getAttribute("content");return n.append("token",r),n.append("Content-Type","application/json"),{method:"POST",body:t,headers:n}},eu=[{pageUrlParamName:"shareKey",requestUrlParamName:"shareKey"},{pageUrlParamName:A.Vp.SEARCH_TOPIC_SHARE_KEY,requestUrlParamName:A.Vp.SEARCH_TOPIC_SHARE_KEY}],es="shareKey",el=[{pageUrlParamName:A.Vp.COMMON,requestUrlParamName:"shareKey"},{pageUrlParamName:"shareKey",requestUrlParamName:"shareKey"},{pageUrlParamName:A.Vp.SEARCH_TOPIC_SHARE_KEY,requestUrlParamName:"shareKey"}];function ef(e){return e_(e,el)}var ed=function(e){return e_(e,[{pageUrlParamName:A.Vp.COMMON,requestUrlParamName:A.Vp.COMMON}])},ep=function(e){return e_(e,[{pageUrlParamName:A.Vp.SEARCH_TOPIC_SHARE_KEY,requestUrlParamName:A.Vp.SEARCH_TOPIC_SHARE_KEY}])},eh=function(e){return e_(e,[{pageUrlParamName:A.Vp.SEARCH_TOPIC_SHARE_KEY,requestUrlParamName:A.Vp.SEARCH_TOPIC_SHARE_KEY},{pageUrlParamName:A.Vp.COMMON,requestUrlParamName:A.Vp.COMMON},{pageUrlParamName:es,requestUrlParamName:es}])},em=function(e){return e_(e,[{pageUrlParamName:A.Vp.COMMON,requestUrlParamName:A.Vp.SEARCH_TOPIC_SHARE_KEY}])},eg=function(e){return e_(e,eu)},ev=function(e){return e_(e,[{pageUrlParamName:"shareKey",requestUrlParamName:"shareKey"},{pageUrlParamName:A.Vp.COMMON,requestUrlParamName:"shareKey"},{pageUrlParamName:A.Vp.SEARCH_TOPIC_SHARE_KEY,requestUrlParamName:"tsk"}])},e_=function(e,t){try{if(void 0!==t&&t||(t=[{pageUrlParamName:A.Vp.COMMON,requestUrlParamName:"shareKey"},{pageUrlParamName:A.Vp.SEARCH_TOPIC_SHARE_KEY,requestUrlParamName:"tsk"}]),!location)return e;var n=new URLSearchParams(location.search),r=e.trim().startsWith("http"),o=r?new URL(e):new URL(e,location.origin),i=!0,a=!1,c=void 0;try{for(var u,s=t[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var l=u.value,f=n.get(l.pageUrlParamName);null!=f&&o.searchParams.set(l.requestUrlParamName,f)}}catch(e){a=!0,c=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw c}}null!=n.get(A.Vp.SHARE_TYPE)&&o.searchParams.set(A.Vp.SHARE_TYPE,n.get(A.Vp.SHARE_TYPE));var d=localStorage.getItem("visitingTopicId");if(d){var p=(0,R.DI)("topic-pwd").get(d);p&&o.searchParams.set("pwd",p.item)}return r?o.toString():o.pathname+o.search}catch(t){return e}};function ey(e,t){try{if(!location)return e;var n=(0,S._)({},e),r=new URLSearchParams(location.search),o=!0,i=!1,a=void 0;try{for(var c,u=t[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var s=c.value,l=r.get(s.pageUrlParamName);null!=l&&(n[s.requestUrlParamName]=l)}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}null!=r.get(A.Vp.SHARE_TYPE)&&(n[A.Vp.SHARE_TYPE]=r.get(A.Vp.SHARE_TYPE));var f=localStorage.getItem("visitingTopicId");if(f){var d=(0,R.DI)("topic-pwd").get(f);d&&(n.pwd=d.item)}return n}catch(t){return e}}function eS(){var e,t;return(null===(e=(0,M.ZD)())||void 0===e?void 0:e.isMiniWebView)||(null===(t=(0,M.ZD)())||void 0===t?void 0:t.isAliApp)?((0,D.yv)("由于您的访问过于频繁，请用浏览器访问metaso.cn进行验证(小程序暂不支持人机验证)",{variant:"warning"}),!1):(eb(),!0)}var eb=function(){var e=(0,M.ZD)();localStorage.setItem("cloudflareVerifySuccess","false"),(0,R.MU)({event_name:"metasoai-cloudflare-show",text:"success"}),turnstile.render("#metalaw-cf-turnstile",{sitekey:"0x4AAAAAAAQOPvhuv77B9173",callback:function(t){(0,R.MU)({event_name:"metasoai-cloudflare-check",text:"success  token:"+t}),fetch(e.backend+"/api/cloudflare/verify",ec({token:t})).then(function(e){return e.json()}).then(function(e){if(!0===JSON.parse(e.data).success){(0,R.MU)({event_name:"metasoai-cloudflare-verify",text:"success  token:"+t}),localStorage.setItem("cloudflareVerifySuccess","true");var n=document.querySelector(".cf-turnstile");n&&(n.innerHTML="")}else(0,R.MU)({event_name:"metasoai-cloudflare-verify",text:"failed"})}).catch(function(e){})},"error-callback":function(t){(0,R.MU)({event_name:"metasoai-cloudflare-check",text:"failed"}),fetch(e.backend+"/api/cloudflare/failed",ec({})).then(function(e){}).catch(function(e){})},"before-interactive-callback":function(){(0,R.MU)({event_name:"metasoai-cloudflare-check",text:"before-interactive"}),fetch(e.backend+"/api/cloudflare/beforeInteractive",ec({})).then(function(e){}).catch(function(e){})},"timeout-callback":function(){(0,R.MU)({event_name:"metasoai-cloudflare-check",text:"timeout"}),fetch(e.backend+"/api/cloudflare/timeout",ec({})).then(function(e){}).catch(function(e){})}})},ew=function(e,t){var n=tD("sid");return er.post("/verify?type=".concat(e,"&sid=").concat(n),t)},eE=function(e){var t=tD("sid");return er.get("/verify?type=new_email&content=".concat(e,"&sid=").concat(t))},eC=function(e,t){return er.post("".concat(eo,"/verify?type=").concat(e.type),t)},eT=function(e){var t=localStorage.getItem("getPhoneCodeSid");return t&&x.ZP.save("sid",t,{expires:new Date(Date.now()+2592e6)}),er.get("".concat(eo,"/verify"),{params:e})},ek=function(e){return eT(e)},ex=function(e,t){return en.post("".concat(eo,"/login"),e,t)},eA=function(e){return en.post("".concat(eo,"/login"),e)},eN=function(){var e;return tD("h5Study")&&(e={alFrom:"aliminipro",alId:Z()}),en.get("/api/my-info",{params:e})},eI=function(){return en.get("/api/recently-used-topic")},eP=function(e){return en.get("".concat(eo,"/products"),{params:e})},eR=function(e){return en.get("".concat(eo,"/orders/").concat(e.order_no,"/status"))},eM=function(e){return en.post("".concat(eo,"/orders"),e)},eO=function(e){return en.post("".concat("https://metaso.cn","/admin/user/event_report"),e)},eD=function(e,t){var n=x.ZP.load("s")?x.ZP.load("s"):"",r=localStorage.getItem("getPhoneCodeSid");return r&&x.ZP.save("sid",r,{expires:new Date(Date.now()+2592e6)}),en.post("".concat(eo,"/user?s=").concat(n),e).then(function(e){t({user:e.data})}).catch(function(e){(0,R.MU)({event_name:"metasoai-requestLogin-fail",text:"failed  err:"+JSON.stringify(e)}),(0,D.yv)("服务器繁忙，请稍后再试",{variant:"error",autoHideDuration:1500})}).finally(function(){r&&localStorage.removeItem("getPhoneCodeSid")})},eL=function(e){return en.get("".concat(eo,"/teams"),{params:e})},eU=(a=(0,y._)(function(){return(0,E.Jh)(this,function(e){switch(e.label){case 0:return[4,en.post("/api/logout")];case 1:return e.sent(),[2,en.post("".concat(eo,"/logout"))]}})}),function(){return a.apply(this,arguments)}),eF=function(e){return en.post("".concat(eo,"/preregister"),e)},ej=function(e){return en.post("".concat(eo,"/teams/").concat(e.team_id,"/members/").concat(e.member_uid))},ez=function(e){return en.get("".concat(eo,"/user/by-manager"),{params:e})},eH=function(e,t){return en.post("".concat(eo,"/teams/members/").concat(e.member_uid),t)},eB=function(e){return en.get("".concat(eo,"/teams/").concat(e.team_id),{params:e})},eW=function(e){return en.get("".concat(eo,"/teams/").concat(e.team_id,"/members"),{params:e})},eK=function(e){return en.delete("".concat(eo,"/teams/").concat(e.team_id,"/members/").concat(e.member_uid))},eV=function(e){return en.post("".concat(eo,"/teams/").concat(e.team_id,"/managers/").concat(e.member_uid))},eJ=function(e){return en.delete("".concat(eo,"/teams/").concat(e.team_id,"/managers/").concat(e.member_uid))},eZ=function(e,t){var n=document.querySelector("#meta-token").getAttribute("content");return(0,I.L)("".concat("https://metaso.cn","/").concat(e),(0,S._)({method:"POST",headers:Object.assign({"Content-Type":"application/json",token:n},ee),openWhenHidden:!0},t))},eG=function(){var e=new Date().getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)})},eq=function(e){return er.post(eg("/api/event-extraction"),{resultId:e})},eY=function(e,t){return er.post(eg("/api/mind-mapping"),{resultId:e})},eX=function(e){return er.post("/api/case-session",{id:"",store:e})},eQ=Object.values(A.FF).filter(function(e){return"number"==typeof e&&e!=A.FF.SEARCH}),e$=function(e){return e.extraTypes=[1],er.get("/api/search-history",{params:e,paramsSerializer:function(e){return T().stringify(e,{arrayFormat:"repeat"})}})},e0=function(e){return e.extraTypes=eQ,er.get("/api/search-historyV2",{params:e,paramsSerializer:function(e){return T().stringify(e,{arrayFormat:"repeat"})}})},e1=function(e,t,n,r){return er.post(eg("/api/case/comment"),{sessionId:e,level:t,id:n,comment:r})},e2=function(e,t,n,r,o){return er.post("/api/case/relationShipChart",{sessionId:e,level:t,id:n,code:r,base64:o})},e3=function(e,t){return er({url:"/api/export/docx/".concat(t),method:"post",data:e,responseType:"blob"})},e5=(c=(0,y._)(function(e,t){var n;return(0,E.Jh)(this,function(r){switch(r.label){case 0:return[4,en.post("/api/export/docx/".concat(t,"/v2"),e)];case 1:if(0===(n=r.sent()).data.errCode)return[2,n.data.data];if(L.dp.isNeedLoginErrorCode(n.data.errCode))throw new L.dp(n.data.errCode,"需要登录");if(n.data.errCode===U.cO.NEED_SUBSCRIBE)throw new L.dp(n.data.errCode,"导出类案检索报告的次数已用尽，升级后可继续使用");throw Error("提交失败")}})}),function(e,t){return c.apply(this,arguments)}),e4=(u=(0,y._)(function(e,t){var n;return(0,E.Jh)(this,function(r){switch(r.label){case 0:return[4,e5(e,t)];case 1:return n=r.sent(),[2,"/api/export/docx/download?uuid=".concat(n,"&title=").concat(e.title)]}})}),function(e,t){return u.apply(this,arguments)}),e6=(s=(0,y._)(function(e,t){var n;return(0,E.Jh)(this,function(r){switch(r.label){case 0:return[4,en.post("/api/export/pdf/submit/".concat(t),e)];case 1:if(0===(n=r.sent()).data.errCode)return[2,n.data.data];if(L.dp.isNeedLoginErrorCode(n.data.errCode))throw new L.dp(n.data.errCode,"需要登录");if(n.data.errCode===U.cO.NEED_SUBSCRIBE)throw new L.dp(n.data.errCode,"导出类案检索报告的次数已用尽，升级后可继续使用");throw Error("提交失败")}})}),function(e,t){return s.apply(this,arguments)}),e7=(l=(0,y._)(function(e){var t,n,r;return(0,E.Jh)(this,function(o){switch(o.label){case 0:t=0,o.label=1;case 1:if(++t>100)throw Error("超时");return[4,en.get("/api/export/pdf/status?uuid=".concat(e))];case 2:if(-1===(r=(n=o.sent()).data.data)||0!==n.data.errCode){if(401===n.data.errCode||4001==n.data.errCode)throw new L.dp(n.data.errCode,"需要登录");throw Error("转换失败")}if(2===r)return[2];return[4,new Promise(function(e){return setTimeout(e,3e3)})];case 3:return o.sent(),[3,1];case 4:return[2]}})}),function(e){return l.apply(this,arguments)}),e8=(f=(0,y._)(function(e,t){var n;return(0,E.Jh)(this,function(r){switch(r.label){case 0:return[4,e6(e,t)];case 1:return[4,e7(n=r.sent())];case 2:var o;return r.sent(),[2,(o=n,en({url:"/api/export/pdf/download?uuid=".concat(o),method:"get",responseType:"blob"}))]}})}),function(e,t){return f.apply(this,arguments)}),e9=(d=(0,y._)(function(e,t){var n;return(0,E.Jh)(this,function(r){switch(r.label){case 0:return[4,e6(e,t)];case 1:return[4,e7(n=r.sent())];case 2:return r.sent(),[2,"/api/export/pdf/download?uuid=".concat(n,"&title=").concat(e.title)]}})}),function(e,t){return d.apply(this,arguments)}),te=function(e){return en.get("/login/auto?sid=".concat(e))},tt=function(){return en.get("/api/share-reward/status")},tn=function(e,t,n,r,o){return en.get("/api/admin/share-reward",{params:{pageIndex:e,pageSize:t,onlyUncheck:n,startDate:r,endDate:o}})},tr=function(e){return en.patch("/api/admin/share-reward/review",e)},to=function(e){var t=tD("uid"),n=tD("sid");return en.patch("".concat(eo,"/user/").concat(t,"?sid=").concat(n),e)},ti=function(e){var t=tD("sid");return er({url:"".concat(eo,"/upload/?sid=").concat(t),method:"post",data:e})},ta=function(e){var t=tD("sid");return er({url:"".concat(eo,"/password/?sid=").concat(t),method:"post",data:e})},tc=function(e){return en.post("/api/captcha/get",e,{withCredentials:!0})},tu=function(e){return en.post("/api/captcha/check",e,{withCredentials:!0})},ts=function(e){return en.post("/api/captcha/verify",e,{withCredentials:!0})},tl=function(e){return en.get("".concat(eo,"/invoices"),{params:e})},tf=function(e){return en.get("".concat(eo,"/orders"),{params:e})},td=function(e){return en.get("".concat(eo,"/invoiceheaders"),{params:e})},tp=function(e){return en.post("".concat(eo,"/invoiceheaders"),e)},th=function(e){return en.patch("".concat(eo,"/invoiceheaders/").concat(e.invoice_header_id),e)},tm=function(e){return en.delete("".concat(eo,"/invoiceheaders/").concat(e.invoice_header_id))},tg=function(e){return en.post("".concat(eo,"/download"),e)},tv=function(e){return en.post("".concat(eo,"/invoices"),e)};function t_(e,t){if("research"===e&&!t){var n=V.ZP.defaultResearchMode.get();return n===A.s5.ThinkSearch?"strong-research":n===A.s5.ThinkSearchParallel?"think-research":"research"}return e}var ty=function(e,t){(0,R.oh)("search");try{(0,R.dW)("search-create-session",{query:e.question,s:new URLSearchParams(location.search).get("s")||localStorage.getItem("s")||x.ZP.load("s"),mode:t_(e.mode,J.mk),engineType:e.engineType,imgId:e.imgId||void 0,searchTopic:e.searchTopicId,advanceMath:!!e.advanceMath,client:(0,M.Fk)(),model:e.model})}catch(e){}if(e.mode=t_(e.mode,J.mk),t)return er.post(ef("/api/session"),e);var n=x.ZP.load("uid"),r=eG();(0,W.Oz)(r,e);var o=e.shareKey;return e=ey(e,el),o&&(e.shareKey=o),(0,K.b2)(r,e,{}),new Promise(function(t,o){t({data:{errCode:0,data:Object.assign({id:r,owner:n||"guest"},e)}})})};function tS(e,t,n,r,o){var i={shareKey:e,tsk:t};n&&(i.debug=!0);var a=localStorage.getItem("visitingTopicId");if(a){var c=(0,R.DI)("topic-pwd").get(a);c&&(i.pwd=c.item)}return i.pageIndex=r,i.pageSize=o,i}var tb=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,a=tS(r,o,i,t,n);return er.get("/api/session/".concat(e),{params:a})};function tw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,a=tS(r,o,i,t,n);return er.get("/api/session/".concat(e,"/result"),{params:a})}var tE=function(e,t,n){return er.get("/api/group/".concat(e,"/session"),{params:{engineType:t,languageDomain:n}})},tC=function(e){return er.get(eg("/api/session/".concat(e,"/share-key")))},tT=function(e){return er.delete("/api/session/".concat(e))},tk=function(e){return er.delete("/api/search/".concat(e))},tx=function(){return er.delete("/api/clear-history")},tA=function(){return er.get("/api/usage")},tN=function(){return er.get("/api/research-usage")},tI=function(){return er.get("/api/advance-usage")},tP=function(){return er.get("/api/solve-problem-share-reward")},tR=function(e){return er.post(eg("/api/entity-extraction"),{resultId:e})},tM=function(e){return er.post("/api/copy-sessionV2",{sessionIds:e})},tO=function(e,t){return er.post("/api/question",{question:e,path:t})},tD=function(e){for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var r=t[n].trim();if(0===r.indexOf(e+"="))return r.substring(e.length+1,r.length)}return null};(p=v||(v={})).DOCX="docx",p.PDF="pdf",p.HTML="html",p.TXT="txt",p.CAT="xiezuocat";var tL=function(e,t,n,r){return en.get("".concat(eo,"/wxjssdkconf"),{params:{client_type:null!=r?r:"mb",url:e,mode:n},signal:t})},tU=function(e){return en.get("".concat(eo,"/wx_applets/tokeninfo"),{params:{name:"mb",code:e}})},tF=(h=(0,y._)(function(e,t){var n;return(0,E.Jh)(this,function(r){return N.LM.getState().openId?(n={content:t,version:2,scene:e,openid:N.LM.getState().openId},[2,er.post("/api/msg-sec-check",n)]):[2,Promise.resolve({data:{errCode:0,data:{errcode:0,errmsg:"",result:{suggest:"pass",label:100}}}})]})}),function(e,t){return h.apply(this,arguments)}),tj={10001:"广告",20001:"时政",20002:"色情",20003:"辱骂",20006:"违法犯罪",20008:"欺诈",20012:"低俗",20013:"版权"};(0,y._)(function(e,t,n,r){var o;return(0,E.Jh)(this,function(i){switch(i.label){case 0:return[4,en.get("".concat(eo,"/wx_applets/access_token?name=aisearch_minipro"))];case 1:return i.sent(),o={version:2,scene:e,openid:N.LM.getState().openId},t?o.content=t:n&&(o.media_url=n,o.media_type=r),[2,{errcode:0,errmsg:"success"}]}})});var tz=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r="",o=!0,i=!1,a=void 0;try{for(var c,u=t[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var s=c.value;if("string"!=typeof s)try{s=JSON.stringify(s)}catch(e){s="string"!=typeof s&&"toString"in s?s.toString():"[无法转换的片段]"}r+=s}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}en.get("/log",{params:{text:r}})},tH=function(e){return er.get("/api/record/websocket/url",{signal:e})},tB=function(e,t,n){return er.post("/api/export/xiezuocat/md",{title:e,md:t,mindMapMd:n})},tW=function(){return er.get("/api/metaso-ai-config")},tK=function(e){return er.post("/api/feed-back",e)},tV=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return er.get("/api/feed-backs?pageNumber=".concat(e,"&pageSize=").concat(t,"&startDate=").concat(n,"&endDate=").concat(r,"&uid=").concat(o,"&ip=").concat(i))},tJ=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return er.get("/api/daily-actives?pageNumber=".concat(e,"&pageSize=").concat(t))},tZ=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return er.get("/api/search-count-statistics?s=".concat(e))},tG=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return er.get("/api/complaints?pageNumber=".concat(e,"&pageSize=").concat(t,"&auditStatus=").concat(n))},tq=function(e,t){return er.post("/api/audit-complaint?id=".concat(e,"&auditStatus=").concat(t))},tY=function(e){return er.post("/api/complaint",e,{headers:{"Content-Type":"multipart/form-data"}})},tX=function(e){return er.get("/api/pdf-offed?pdfUrl=".concat(encodeURIComponent(e)))},tQ=function(e){return er.post("/api/translate/abstract",{content:e})},t$=function(e){return er.get(ev("/api/result/".concat(e,"/ppt")))},t0=function(e){return er.get(ev("/api/result/".concat(e,"/ppt/num")))},t1=function(){return er.post("/user/logoff")},t2=function(e,t,n){return er.post("/api/export/xiezuocat/mind",{title:e,md:t,references:n})},t3=function(e,t,n){return er.post("/api/export/xiezuocat/temp",{title:e,md:t,type:n})};(m=_||(_={}))[m.DEFAULT=0]="DEFAULT",m[m.SEARCH_QA=1]="SEARCH_QA",m[m.SEARCH_PPT=2]="SEARCH_PPT",m[m.SEARCH_PODCAST=3]="SEARCH_PODCAST",m[m.BOOK_SELF=4]="BOOK_SELF",m[m.TOPIC=5]="TOPIC",m[m.ACADEMIC_DETAIL=6]="ACADEMIC_DETAIL",m[m.PPT=7]="PPT";var t5=function(e,t,n){return er.post("/api/short-url",{url:e,urlType:t,dataId:n})},t4=function(){return er.get("/api/podcast-recommend")},t6=function(e){return er.get("/api/session/".concat(e,"/stop"))},t7=function(e){return er.get("".concat(ei(),"/api/official-website?question=").concat(encodeURIComponent(e)))},t8=function(e){return er.get("/api/episode/".concat(e,"/timeline"))},t9=function(){return er.post("/api/hideBanner")},ne=function(e){return er.post("/api/settings",e)},nt=function(e,t,n){return er.get("/api/news/topic-event",{params:{topic:e,tag:t},signal:n})},nn=function(e){return er.post("".concat(eo,"/user/reset_passwd/verify"),e)},nr=function(e){return er.post("".concat(eo,"/user/reset_passwd"),e)},no=function(e,t){return er.get("/api/calendar",{params:{year:e,month:t}})},ni=function(e){return er.get("/api/festival",{params:{year:e}})},na=function(e){window.open("".concat(q.baseURL,"/api/downloadCrx?browser=").concat(e))},nc=function(e){return en.get("/api/news/tag",{params:{topic:e}})},nu=function(e){return en.get("/api/news/article-num",{params:{topic:e}})},ns=function(e){return en.get("/api/news/emotion-tracking",{params:{topic:e}})},nl=function(e){return en.post("/api/open/search_base",e)},nf=function(e,t,n,r){return er.post("/api/pdf/highlight",{id:e,index:t,content:n,highlight:r})},nd=function(e){return er.get(e,{responseType:"blob"})},np=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return er.get("/api/topic",{params:{s:e,v4:t}})},nh=function(){return en.get("/api/topic/simple",{})},nm=function(e,t,n){return en.put("/api/topic",{name:e,description:t,v4:n||-1!=e.indexOf("v4")})},ng=function(e){return en.get(e_("/api/topic/".concat(e,"/knowledgeNum")))},nv=function(e,t){return en.get(e_("/api/file/".concat(e,"/folder")),t)},n_=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return er.put("".concat(ei(),"/api/file/").concat(e),t,(0,S._)({withCredentials:!0},n))},ny=function(e){return er.put("".concat(ei(),"/api/book/addLocalFile"),e,{withCredentials:!0})},nS=function(e){return er.post("".concat(ei(),"/api/book/addLocalFileByUrl"),{url:e},{withCredentials:!0})},nb=function(e,t,n){return er.put("/api/file/".concat(e,"/upload/folder"),{name:t},n)},nw=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return er.put("".concat(ei(),"/api/file/").concat(e,"/batch"),t,(0,S._)({withCredentials:!0},n))},nE=function(e,t,n){return er.put("/api/topic/".concat(e,"/url"),{url:t},n)},nC=function(e,t,n){return er.put("/api/topic/".concat(e,"/file"),{name:t},n)},nT=function(e,t,n){return en.put("/api/file/".concat(e,"/folder"),{name:t},n)},nk=function(e,t,n){return en.post("/api/file/".concat(e,"/file"),{name:t},n)},nx=function(e){return en.get(e_("/api/topic/".concat(e,"/detail")))},nA=function(e,t){return en.put(eg("/api/session/".concat(e,"/topicId")),{topicId:t})},nN=function(e,t){return en.post("/api/file/".concat(e,"/pro/topicId"),{topicId:t})},nI=function(e){return en.get(e_("/api/topic/".concat(e,"/article")))},nP=function(e){return er.post("/api/book",e)},nR=function(e,t,n,r){return er.get("/api/book",{params:{pageIndex:e,pageSize:t,s:n,clientType:"pc",type:r}})},nM=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return er.get("/api/book/url",{params:{url:e,hasPPT:t}})},nO=function(e){return er.delete("/api/book/".concat(e))},nD=function(e){return er.delete("/api/book/remove-share-ppt?shareKey=".concat(e))},nL=function(e,t){return er.post("/api/book/".concat(e,"/rename"),{title:t})},nU=function(e,t,n){return ot(e,t,n),er.put("/api/book/".concat(e,"/page"),{page:t,totalPage:n})},nF=function(e){return er.post("/api/book/image/upload-base64",{base64:e})},nj=function(e){return er.post("/api/act/slogan",{slogan:e})},nz=function(){return er.get("/api/act/slogan")},nH=function(){return er.post("/api/act/share")},nB=function(){return er.get("/api/act/share")},nW=function(){return er.get("".concat(ei(),"/api/workflows"))},nK=function(e){return er.post("/api/workflows/sync",{flowIds:e})},nV=function(e,t){return er.put("/api/workflow/".concat(e),t)},nJ=function(){return er.get("/api/workflows/recently")},nZ=function(){return en.get("/api/app-config")},nG=function(e){return er.post("/api/pan/baidu/auth?code=".concat(e))},nq=function(e,t){return er.post("/api/file/".concat(e,"/rename"),{newName:t})},nY=function(e,t){return er.post("/api/file/".concat(e,"/pro/rename"),{newName:t})},nX=function(e,t,n){return er.post("/api/topic/".concat(e,"/rename"),{newName:t,newDescription:n})},nQ=function(e,t){return er.post("/api/file/".concat(t,"/move"),{ids:e})},n$=function(e,t){return er.post("/api/file/".concat(t,"/copy"),{ids:e})},n0=function(e){return en.post("/api/file/trash",{ids:e})},n1=function(e){return en.get(ef("/api/file/".concat(e,"/pdf/status")))},n2=function(e){return ei()+"/api/file/".concat(e,"/preview")},n3=function(e){return ef(ei()+"/api/file/".concat(e,"/stream-download"))},n5=function(e,t){return er.get(e_("/api/file/".concat(e,"/parents")),{signal:t})},n4=function(e,t){return en.post("/api/topic/".concat(e,"/share"),t)},n6=function(e){return en.post(e_("/api/topic/".concat(e,"/used")))},n7=function(e,t){return en.get(e_("/api/topic/".concat(e,"/share"),t))},n8=function(e,t){return en.get(e_("/api/getTopicSimpleDetail?id=".concat(e),t))},n9=function(e,t){return en.get(e_("/api/topic/".concat(e,"/share/data"),t))},re=function(e){return en.post("/api/verifyTopicShareKeyAndPassword",e)},rt=function(e){return en.post(e_("/api/topic/".concat(e,"/share/accept")))},rn=function(e){return en.put("/api/topic/".concat(e,"/share/hide"))},rr=function(e){return en.post("/api/topic/trash",{ids:e})},ro=function(e){return en.get(ef("/api/file/".concat(e,"/permission")))},ri=function(e,t){return en.post("/api/topic/sort-index",{sortId:e,newIndex:t})},ra=function(e){return en.post("/api/exec",e)},rc=function(e){return en.get("/api/file/".concat(e,"/progress"))},ru=function(e,t){return en.post(ef("/api/file/progress/batch"),{ids:e},t)},rs=function(e){return en.post("/api/book/progress/batch",{ids:e})},rl=function(e){return en.get(ef("/api/file/".concat(e,"/topic")))},rf=function(e,t,n,r){return en.post("/api/topic/".concat(e,"/cover-image?mobile=").concat(n),t,r)},rd=function(e,t,n){return en.put("/api/topic/".concat(e,"/cover-image?mobile=").concat(n),t)},rp=function(e,t){return en.delete("/api/topic/".concat(e,"/cover-image?mobile=").concat(t))},rh=function(){return en.get("/api/cover-images")},rm=function(e,t,n,r){return en.post("/api/file/".concat(e,"/cover-image?mobile=").concat(n),t,r)},rg=function(e,t,n){return en.put("/api/file/".concat(e,"/cover-image?mobile=").concat(n),t)},rv=function(e,t){return en.delete("/api/file/".concat(e,"/cover-image?mobile=").concat(t))},r_=function(e,t,n,r){return er.put("".concat(ei(),"/api/book/addLocalFile/chunk"),{contentType:e,size:t,name:n,type:r},{withCredentials:!0})},ry=function(e,t,n,r,o){return er.put("".concat(ei(),"/api/file/").concat(e,"/chunk"),{contentType:t,size:n,name:r,type:o},{withCredentials:!0})},rS=function(e,t,n){return er.put("".concat(ei(),"/api/file/").concat(e,"/chunk/upload"),t,(0,S._)({withCredentials:!0},n))},rb=function(e,t){return er.post("/api/file/".concat(e,"/chunk/complete?partCount=").concat(t))},rw=function(e){return er.post("/api/file/".concat(e,"/chunk/cancel"))},rE=(g=(0,y._)(function(){return(0,E.Jh)(this,function(e){return[2,en.get("/products?type=metasoaibundle")]})}),function(){return g.apply(this,arguments)}),rC=function(){return en.get("/products?type=metasoai")},rT=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;return er.get("/api/credit_usage_record",{params:{startTime:e,endTime:t,pageSize:r,pageNumber:n}})},rk=function(e,t,n){return er.get("/api/pdf-markdown/".concat(e,"/").concat(t),{params:{lang:n}})},rx=function(e,t,n){return er.get(ef("/api/file/".concat(e,"/pdf-markdown/").concat(t)),{params:{lang:n}})},rA=function(e,t,n,r,o,i){return en.post("/api/file/".concat(e,"/system-copy"),{size:t,name:n,fileType:r,docId:o},i)},rN=function(e,t){return er.get("/api/consume-record",{params:{pageIndex:e,pageSize:t}})},rI=function(e){return en.post(eg("/api/search/".concat(e,"/edit")))},rP=function(e){return er.get(e_("/api/file/".concat(e,"/meta")))},rR=function(e,t){return en.put("/api/file/".concat(e,"/image"),t)},rM=function(e){return en.get(e_("/api/file-image/".concat(e)))},rO=function(e){return er.post("/api/image-category",{imgId:e})},rD=function(e){var t=new FormData;return t.append("file",e),er.post("/api/uploadImage",t)},rL=function(e,t){return er.put("/api/topic/".concat(e,"/by-user"),{byUser:t})},rU=function(e){return en.get("/api/file/".concat(e,"/pro"))},rF=function(e,t,n){return en.post("/api/file/".concat(e,"/links"),{ev:t,links:n})},rj=function(e,t){return en.post("/api/file/".concat(e,"/publish"),{ev:t})},rz=function(e){return en.get(e_("/api/file/".concat(e,"/pro/published")))},rH=function(e){return en.get(e_("/api/file/".concat(e,"/classify-task")))},rB=function(e){return er.post("/api/edit_api_key",{action:"create",name:e})},rW=function(e,t){return er.post("/api/edit_api_key",{action:"delete",createdAt:e,redactedKey:t})},rK=function(e){return en.get("/login/binding",{params:{sid:e}})},rV=function(e,t){return en.post("/api/search/".concat(e,"/search-extra-box"),t)},rJ=function(e){return en.delete("/api/search-extra-box/".concat(e))},rZ=function(e,t){return en.get("/api/search/".concat(e,"/summary-link"),{params:{linkId:t}})},rG=z()(B.K,1e4,{leading:!0}),rq=function(e,t){return en.post("/api/file/".concat(e,"/request-table-lock"),t)},rY=function(e){return en.post("/api/translate/pdfContent",{content:e})},rX=function(e,t,n){return en.put("/api/topic/".concat(e,"/text"),{title:t,text:n})},rQ=function(e){return en.get("/api/reference/".concat(e))},r$=function(e,t,n,r,o){return en.get("/api/reference/".concat(e,"/paperReference"),{params:{pageIndex:t,pageSize:n,sortBy:r,order:o}})},r0=function(e,t,n,r,o){return en.get("/api/reference/".concat(e,"/papersCited"),{params:{pageIndex:t,pageSize:n,sortBy:r,order:o}})},r1=function(e){var t=x.ZP.load("tid")||void 0,n=R.oG.get()||void 0,r=localStorage.getItem("s")||void 0,o=localStorage.getItem("bd_vid")||void 0,i=localStorage.getItem("logidUrl")||void 0;if(o&&i&&("sbdh5hc"===r||"sbdpchc"===r)){var a={s:r,refS:n,bdVid:o,tid:t,logidUrl:i,eventType:"form",clientType:Y?"h5":"pc",extraInfo:JSON.stringify(e)};en.post("/api/app/analytics/bd/conversion",a).then(function(e){0===e.data.errCode&&(0,R.dW)("WebConversionPost",a)})}},r2=function(e){return en.put("/api/activity/solve-problem",e)},r3=function(){return en.get("/api/activity/solve-problem")},r5=function(){return en.get("/api/solve-problem-share-reward")},r4=function(){return en.get("/api/source-preference")},r6=function(e){return en.post("/api/source-preference",e)},r7=function(e){return en.delete("/api/source-preference/".concat(e))},r8=function(e){return en.post("/api/pdf/underline",e)},r9=function(e,t){return en.get("/api/pdf/underlines",{params:{docId:e,page:t}})},oe=function(e){return en.delete("/api/pdf/underline/".concat(e))},ot=function(e,t,n){var r={},o=localStorage.getItem("bookPageCache");o&&(r=JSON.parse(o)),r[e]={page:t,totalPage:n},localStorage.setItem("bookPageCache",JSON.stringify(r))},on=function(){localStorage.removeItem("bookPageCache")},or=function(e){var t=localStorage.getItem("bookPageCache");if(t){var n=JSON.parse(t);if(n[e])return n[e]}return 0},oo=function(e){var t=e.topicId,n=e.s,r=e.pageSize,o=e.pageIndex;return en.get("/api/topic/".concat(t,"/search"),{params:{s:n,pageSize:r,pageIndex:o}})},oi=function(e){return en.get(e)},oa=function(e){return location.href.indexOf("172.168")>-1||location.href.indexOf("localhost")>-1?en.post("http://172.168.1.40:3000/render-image",e):location.href.indexOf("metasotalaw")>-1?en.post("https://metamiaobeta.metasotalaw.cn/render-image",e):en.post("/render-image",e)},oc=function(e){return en.get(e,{headers:{"cache-control":"public, max-age=3600000"},responseType:"arraybuffer"})},ou=function(e,t,n){return en.get(ev("/api/ppt/".concat(e,"/question?pageNumber=").concat(t,"&pageSize=").concat(n)))},os=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return en.get(ev("/api/chapter/".concat(e,"/comment?pageNumber=").concat(t,"&pageSize=").concat(n)))},ol=function(e,t){return en.put(ev("/api/chapter/".concat(e,"/comment")),{comment:t})},of=function(e){return en.get(ev("/api/chapter/".concat(e,"/exam/rank")))},od=function(e){return en.get(ev("/api/chapter/".concat(e,"/exam/v2")))},op=function(e,t){return en.post(ev("/api/chapter/exam/question/".concat(e)),{answer:t})},oh=function(e,t){return en.post(ev("/api/chapter/".concat(e,"/exam/share")),{questionId:t})},om=function(e,t){return en.get(ev("/api/ppt/".concat(e,"/share")),{params:{url:t}})},og=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return en.get(ev("/api/chapter?docId=".concat(e,"&sourceId=").concat(t||"","&sourceType=").concat(n)))},ov=function(e,t){return en.get(ev("/api/document/".concat(e,"?noCover=true")),{signal:t})},o_=function(e){return en.get(ev("/api/chapter/statistics?chapterId=".concat(e)))},oy=function(e){return en.get("/api/ppt/detail",{params:{shareKey:e}})},oS=function(){return en.get("/api/ppt/config")},ob=function(e,t,n,r){return en.post(ev("/api/chapter/".concat(e,"/sendGift")),{chapterId:e,giftType:t,pptPageId:n,audioPlayTime:r})},ow=function(e){return en.get(ev("/api/chapter/setting"),{params:{chapterId:e}})},oE=function(e){return en.put(ev("/api/chapter/setting"),e)},oC=function(e,t){return en.get(ev("/api/chapter/recent?docId=".concat(e,"&sourceType=").concat(t||1)))},oT=function(e,t){return en.post(ev("/api/chapter/".concat(e,"/comment/").concat(t,"/like")))},ok=function(e,t){return en.put("/api/chapter/sync",{setting:e,record:t})},ox=function(){return en.get("/api/ppt/config")},oA=function(e){return en.post("/api/tts",e)},oN=function(e){return en.get(ev("/api/chapter/".concat(e,"/meta")))},oI=function(e){return en.get(ev("/api/chapter/".concat(e)))},oP=function(e){return en.get("/api/getUploadImage?id=".concat(e))},oR=function(e){return en.get(ev("/api/ppt-page/".concat(e,"/highlight")))},oM=function(e){return en.get(ev("/api/file/".concat(e,"/mode-status")))},oO=function(e){return en.get("/api/document/search",{params:{s:e,noCover:!0}})},oD=function(){return en.get("".concat(ei(),"/api/document/recommend"),{withCredentials:!0,params:{noCover:!0}})},oL=function(e,t,n,r){return en.put("/api/chapter/custom",{docId:e,startPage:t,endPage:n,name:r})},oU=function(e){return en.post("/api/document/".concat(e,"/read"))},oF=function(e){return en.post("/api/document/lesson-recommend",{docId:e,noCover:!0})},oj=function(e){return en.put("/api/ppt/user/info/duration",{duration:e})},oz=function(){return en.get("/api/ppt/user/info")},oH=function(e){return en.get("/api/ppt/".concat(e,"/read-position"))},oB=function(e,t,n){return en.put("/api/ppt/".concat(e,"/read-position"),{pageIndex:t,sentenceIndex:n})},oW=function(){return en.get("/api/ppt/book-claims")},oK=function(e){return en.post("/api/ppt/book-claims",e)},oV=function(e){return en.get(eg("/api/html-report/".concat(e)))},oJ=function(e,t){return en.post("/api/html-report/".concat(e,"/share"),{url:t})},oZ=function(e){return"".concat(ei(),"/api/document/").concat(e,"/cover/thumbnail")},oG=function(){return en.get("/api/ppt/last-read")},oq=function(e){var t=e.key,n=(0,w._)(e,["key"]);return en.post("/api/v1/search",(0,S._)({},n),{headers:{Authorization:"Bearer ".concat(t)}})},oY=function(e){var t=e.key,n=(0,w._)(e,["key"]);return en.post("/api/v1/reader",(0,S._)({},n),{headers:{Accept:"markdown"===e.accept?"text/plain":"application/json",Authorization:"Bearer ".concat(t)}})},oX=function(e){var t=e.key,n=(0,w._)(e,["key"]);return en.post("/api/v1/chat/completions",(0,S._)({},n),{headers:{Authorization:"Bearer ".concat(t)}})},oQ=function(e){var t=e.key,n=(0,w._)(e,["key"]);return en.post("/api/v1/chat/completions",(0,S._)({},n),{headers:{Authorization:"Bearer ".concat(t)}})},o$=function(e,t){return en.get(ev("/api/ppt/".concat(e,"/video-progress")),{params:{pptVideoKey:t}})},o0=function(e){return en.post("/ppt-generate-video",{domain:"metaso.cn",client:(0,M.Fk)(),uid:tD("uid"),sid:tD("sid"),pptId:e.pptId,speed:e.speed,startPage:e.range.start,endPage:e.range.end,s:e.shortUrl,aliyungf_tc:tD("aliyungf_tc"),defaultViewport:{width:1572}})},o1=function(e){return en.delete("/api/ppt/".concat(e,"/delete"))},o2=function(e,t){return en.get("/api/ppt/preview",{params:{shareKey:e,page:t}})},o3=function(e,t,n,r){return ev("".concat("https://metaso.cn","/api/test-paper/extract?docId=").concat(e,"&startPage=").concat(t,"&endPage=").concat(n,"&extractType=").concat(r))},o5=function(e,t){return en.post("/api/test-paper/confirm",{extractId:e,questionIds:t})},o4=function(e,t){return en.post("/api/chapter/".concat(e,"/progress"),{progress:t})},o6=function(e,t){return en.post("/api/pptx-generate",{pptId:e,s:t})},o7=function(e,t){return en.post("/api/search-ppt/".concat(e,"/download-ppt-create-task?shareKey=").concat(t))},o8=function(e,t){return en.get("/api/ppt/".concat(e,"/pptx-progress?key=").concat(t))},o9=function(e,t){return en.get("/api/search-ppt/".concat(e,"/ppt-progress?key=").concat(t))},ie=function(e,t){return en.post(ev("/api/search-ppt/".concat(e,"/share")),{url:t})},it=function(e,t){return en.post(ev("/api/search-ppt/".concat(e,"/download-share")),{url:t})},ir=function(e){return en.get(ev("/api/search-ppt/".concat(e)))},io=function(e,t){return en.get(ev("/api/chapter/webpage"),{params:{docId:e,url:t}})},ii=function(e){return e_(e)},ia=function(e,t){return en.get("/api/ppt-circle/list",{params:{pageIndex:e,pageSize:t}})},ic=function(e,t,n){return en.get("/api/ppt-circle/search",{params:{s:e,pageIndex:t,pageSize:n}})},iu=function(e){return en.post("/api/ppt-circle/".concat(e,"/publish"),{state:1})},is=function(e){return en.post("/api/ppt-circle/".concat(e,"/publish"),{state:0})},il=function(e){return en.post("/api/ppt-circle/".concat(e,"/publish"),{state:2})},id=function(e){return en.get(ii("/api/ppt-circle/".concat(e,"/view")))},ip=function(e){return en.get(ev("/api/ppt-circle/from-ppt/".concat(e)))},ih=function(e){return en.get(ii("/api/ppt/info/".concat(e)))},im=function(e){return en.get(ii("/api/ppt-circle/".concat(e)))},ig=function(e){return en.post(ii("/api/ppt-circle/".concat(e,"/share")))},iv=function(e){return en.get(ii("/api/question-info/".concat(e)))};function i_(e){return ey(e,[{pageUrlParamName:"shareKey",requestUrlParamName:"shareKey"},{pageUrlParamName:A.Vp.COMMON,requestUrlParamName:"shareKey"},{pageUrlParamName:A.Vp.SEARCH_TOPIC_SHARE_KEY,requestUrlParamName:"tsk"}])}function iy(e){return ey(e,eu)}function iS(e,t){return ib.apply(this,arguments)}function ib(){return(ib=(0,y._)(function(e,t){var n,r;return(0,E.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,fetch(e,{method:"HEAD"})];case 1:return(n=function(e){if(!e)return null;var t=e.match(/filename\*=UTF-8''([^;]+)/i);if(t)try{return decodeURIComponent(t[1])}catch(e){}var n=e.match(/filename=["']?([^;"']+)["']?/i);if(n){var r=n[1];if(r.includes("%"))try{return decodeURIComponent(r)}catch(e){}return r}return null}(o.sent().headers.get("Content-Disposition"))||t)&&((r=document.createElement("a")).href=e,r.download=n,document.body.appendChild(r),r.click(),document.body.removeChild(r)),[3,3];case 2:return o.sent(),window.open(e),[3,3];case 3:return[2]}})})).apply(this,arguments)}var iw=function(){return er.get("/api/ppt/recent_play_list")},iE=function(e){return er.post("/api/ppt/recent_play_list/delete-batch",{chapterIds:e})},iC=function(e,t){var n=new URLSearchParams;n.set("age",String(e));var r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var u=a.value;n.append("docId",u)}}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n.set("cover","false"),er.get("/api/youth/list",{params:n})};function iT(){return ik.apply(this,arguments)}function ik(){return(ik=(0,y._)(function(){return(0,E.Jh)(this,function(e){return[2,er.get("/api/get_api_keys")]})})).apply(this,arguments)}function ix(e,t,n){return iA.apply(this,arguments)}function iA(){return(iA=(0,y._)(function(e,t,n){return(0,E.Jh)(this,function(e){return[2,er.post("/api/edit_api_key",{name:name,action:"update",createdAt:t,redactedKey:keyValue})]})})).apply(this,arguments)}var iN=function(e){return er.get("/api/dashboard/daily-usage",{params:e})},iI=function(e){return er.post("/api/edit_api_key",{action:"refresh",redactedKey:e.sensitive_show_id})},iP=function(){return er.get("/api/dashboard/credit-label")},iR=function(){return er.get("/api/dashboard/qpm")},iM=function(e,t){return er.put("/api/presentation-page/".concat(e),t)},iO=function(e){return er.post("/api/presentation/prepare",e)},iD=function(e){return er.get(ev("/api/presentation/".concat(e)))},iL=function(e){return er.get(ev("/api/presentation/".concat(e,"/pages")))},iU=function(e){return en.post(ev(ev("/api/presentation/".concat(e,"/export-pdf-create-task"))))},iF=function(e,t){return en.get(ev(ev("/api/presentation/".concat(e,"/export-pdf-progress?taskId=").concat(t))))},ij=function(e){return en.get("/api/presentation/".concat(e,"/share"))},iz=function(){return er.get("/api/presentation/config")},iH=function(e){return er.put("/api/presentation/config",e)},iB=function(e){return er.put("".concat(ei(),"/api/presentation/file"),e,{withCredentials:!0})},iW=function(e,t,n,r){return er.put("".concat(ei(),"/api/presentation/file/chunk"),{contentType:e,size:t,name:n,type:r},{withCredentials:!0})}},70888:function(e,t,n){"use strict";n.d(t,{K:function(){return m}});var r,o=n(2403),i=n(5853),a=n(58494),c=n(89831),u=n(7870),s=n(26058),l=n(43577),f=n(64654),d=n(54493),p=n(39207),h=n(8e3),m=(r=(0,o._)(function(){var e,t,n,r,o,m;return(0,i.Jh)(this,function(i){switch(i.label){case 0:if(e=!0,t=h.Z.get(),!((n=a.ZP.load("uid")&&a.ZP.load("sid"))||t))return[3,5];r=(0,s.Fk)(),i.label=1;case 1:return i.trys.push([1,3,,4]),(0,u.dW)("login-binding-req",{}),[4,(0,p.Eud)(n?void 0:t)];case 2:return o=i.sent(),n||(0,u.dW)("login-binding-with-local-sid",{localSid:t,client:r}),o.data.code===c.Cq.NO_AUTH?(e=!1,(0,u.dW)("login-binding-401",{data:o.data,client:r}),h.Z.remove()):(0,u.dW)("login-binding-res",{data:o.data,client:r}),[3,4];case 3:return(m=i.sent())instanceof l.d7?m.response&&401===m.response.status&&(e=!1,(0,u.dW)("login-binding-401",{data:m.response.data,client:r})):((0,f.yv)("login-binding接口请求异常:".concat(m),{variant:"warning"}),(0,u.dW)("login-binding-error",{err:(0,d.d3)(m),client:r})),h.Z.remove(),[3,4];case 4:return[3,6];case 5:e=!1,i.label=6;case 6:return[2,e]}})}),function(){return r.apply(this,arguments)})},82139:function(e,t,n){"use strict";n.d(t,{A:function(){return r}});var r=(0,n(27030).I)()},82984:function(e,t,n){"use strict";var r=n(57437),o=n(2265),i=n(40100),a=n(42468),c=n(34040),u=(0,o.forwardRef)(function(e,t){return(0,r.jsx)(i.k,{maskSx:{zIndex:"9999 !important"},open:!0,onClose:function(){e.onClose&&e.onClose()},title:"请滑动滑块验证",children:(0,r.jsx)(a.Z,{onSuccess:function(){e.onSuccess()}})})}),s=!1;t.Z=function(e,t){if(!s){s=!0;var n=document.createElement("div");document.body.appendChild(n);var o=(0,c.createRoot)(n);o.render((0,r.jsx)(u,{onSuccess:function(){e&&e(),o.unmount(),n.remove(),s=!1},onClose:function(){t&&t(),o.unmount(),n.remove(),s=!1}}))}}},5767:function(e,t,n){"use strict";n.d(t,{h:function(){return c}});var r=n(57437),o=n(2265),i=n(81263),a=n.n(i),c=(0,o.forwardRef)(function(e,t){var n;return(0,r.jsxs)("button",{ref:t,className:a()["icon-button"]+" ".concat(e.bordered&&a().border," ").concat(e.shadow&&a().shadow," ").concat(null!==(n=e.className)&&void 0!==n?n:""," clickable"),onClick:e.onClick,title:e.title,disabled:e.disabled,role:"button",children:[e.icon&&(0,r.jsx)("div",{className:a()["icon-button-icon"]+" ".concat("primary"===e.type&&"no-dark"),children:e.icon}),e.text&&(0,r.jsx)("div",{className:a()["icon-button-text"],children:e.text})]})});c.displayName="IconButton"},42468:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(85999),o=n(2473),i=n(53929),a=n(49699),c=n(57437),u=n(2265),s=n(39207),l=n(5613);n(69282);var f={src:"https://static-1.metaso.cn/_next/static/media/default.910183a3.jpg"},d={src:"https://static-1.metaso.cn/_next/static/media/loading-circle.0767d33c.png"},p=n(7870),h=n(22322),m=function(e){(0,i._)(n,e);var t=(0,a._)(n);function n(e){var i;return(0,o._)(this,n),(i=t.call(this,e)).refresh=function(){i.getData(),i.tempState.status=!1,i.tempState.isEnd=!1,i.setState({moveBlockLeft:"",leftBarWidth:"",text:"向右滑动完成验证",moveBlockBackgroundColor:"#fff",leftBarBorderColor:"#337AB7",iconColor:"#fff",status:!1,isEnd:!1})},i.setBarArea=function(e){var t=e&&e.getBoundingClientRect().left,n=e&&e.offsetWidth;i.tempState.barAreaLeft=t,i.tempState.barAreaOffsetWidth=n},i.start=function(e){if((e=e||window.event).touches)var t=e.touches[0].pageX;else var t=e.clientX;i.tempState.startLeft=Math.floor(t-i.tempState.barAreaLeft),i.tempState.startMoveTime=+new Date,!1==i.tempState.isEnd&&(i.tempState.status=!0,i.setState({text:"",moveBlockBackgroundColor:"#337ab7",leftBarBorderColor:"#337AB7",iconColor:"#fff",status:!0}),i.text="",e.stopPropagation())},i.move=function(e){if(e=e||window.event,i.tempState.status&&!1==i.tempState.isEnd){if(e.touches)var t=e.touches[0].pageX;else var t=e.clientX;var n=t-i.tempState.barAreaLeft;n>=i.tempState.barAreaOffsetWidth-parseInt(i.tempState.blockSize.width)/2-2&&(n=i.tempState.barAreaOffsetWidth-parseInt(i.tempState.blockSize.width)/2-2),n<=0&&(n=i.tempState.blockSize.width/2),i.tempState.moveBlockLeft=n-i.tempState.startLeft+"px",i.tempState.leftBarWidth=n-i.tempState.startLeft+"px",i.setState({moveBlockLeft:i.tempState.moveBlockLeft,leftBarWidth:i.tempState.leftBarWidth})}},i.end=function(){if(i.tempState.endMovetime=+new Date,(0,r._)(i),i.tempState.status&&!1==i.tempState.isEnd){var e=parseInt((i.tempState.moveBlockLeft||"").replace("px",""));e=310*e/parseInt(i.tempState.setSize.imgWidth);var t={captchaType:i.state.captchaType,pointJson:i.state.secretKey?(0,p.oj)(JSON.stringify({x:e,y:5}),i.state.secretKey):JSON.stringify({x:e,y:5}),token:i.state.backToken,clientUid:localStorage.getItem("slider"),ts:Date.now()};(0,s.U3N)(t).then(function(t){"0000"==t.data.repCode?((0,p.MU)({event_name:"metasoai-captcha-check",text:"success"}),i.tempState.isEnd=!0,i.tempState.passFlag=!0,i.tempState.tipWords="".concat(((i.tempState.endMovetime-i.tempState.startMoveTime)/1e3).toFixed(2),"s验证成功"),i.setState({tipWords:i.tempState.tipWords,passFlag:i.tempState.passFlag}),setTimeout(function(){var t=RegExp("(^|&)phone=([^&]*)(&|$)","i");-1!==window.location.search.indexOf("phone")&&unescape(window.location.search.substr(1).match(t)[2]);var n=RegExp("(^|&)realIp=([^&]*)(&|$)","i");-1!==window.location.search.indexOf("realIp")&&unescape(window.location.search.substr(1).match(n)[2]);var r={captchaVerification:i.state.secretKey?(0,p.oj)(i.state.backToken+"---"+JSON.stringify({x:e,y:5}),i.state.secretKey):i.state.backToken+"---"+JSON.stringify({x:e,y:5})};if(i.props.isMiniWebView)r.phone=i.props.phone,r.realIp=i.props.realIp,r.email=i.props.email;else{var o=i.getUserInfo();if(!o.verify||!o.verify.val){i.props.onSuccess&&i.props.onSuccess();return}!0===o.verify.params.isRequestFrequently?r.liftLockdown=!0:(r.phone=o.verify.params.phone,r.email=o.verify.params.email,r.realIp=o.verify.params.realIp)}(0,s.QEc)(r).then(function(e){0===e.data.errCode?((0,p.MU)({event_name:"metasoai-captcha-verify",text:"success"}),i.props.onSuccess&&i.props.onSuccess()):(0,p.MU)({event_name:"metasoai-captcha-verify",text:"failed"})})},1e3)):((0,p.MU)({event_name:"metasoai-captcha-check",text:"failed"}),i.tempState.isEnd=!0,i.tempState.passFlag=!1,i.setState({isEnd:!0,moveBlockBackgroundColor:"#d9534f",leftBarBorderColor:"#d9534f",iconColor:"#fff",iconClass:"icon-close",passFlag:!1,tipWords:t.data.repMsg||"验证失败"}),setTimeout(function(){i.refresh(),i.setState({tipWords:""})},1e3))}),i.tempState.status=!1}},i.state={blockSize:{width:"50px",height:"50px"},setSize:{imgHeight:200,imgWidth:310,barHeight:40,barWidth:310},backImgBase:"",blockBackImgBase:"",backToken:"",startMoveTime:"",endMovetime:"",tipsBackColor:"",secretKey:"",captchaType:"blockPuzzle",moveBlockBackgroundColor:"rgb(255, 255, 255)",leftBarBorderColor:"",iconColor:"",barAreaLeft:0,barAreaOffsetWidth:0,startLeft:null,moveBlockLeft:null,leftBarWidth:null,status:!1,isEnd:!1,passFlag:"",tipWords:"",iconClass:"",text:"向右滑动完成验证"},i.text="",i.tempState={blockSize:{width:"50px",height:"50px"},setSize:{imgHeight:200,imgWidth:310,barHeight:40,barWidth:310},backImgBase:"",blockBackImgBase:"",backToken:"",startMoveTime:"",endMovetime:"",tipsBackColor:"",secretKey:"",captchaType:"blockPuzzle",moveBlockBackgroundColor:"rgb(255, 255, 255)",leftBarBorderColor:"",iconColor:"",barAreaLeft:0,barAreaOffsetWidth:0,startLeft:null,moveBlockLeft:null,leftBarWidth:null,status:!1,isEnd:!1,passFlag:"",tipWords:"",iconClass:"",text:"向右滑动完成验证"},i}var u=n.prototype;return u.getUserInfo=function(){return JSON.parse(localStorage.getItem("chat-next-web-store-user")).state},u.componentDidMount=function(){this.uuid(),this.getData(),this.init()},u.uuid=function(){for(var e=[],t="0123456789abcdef",n=0;n<36;n++)e[n]=t.substr(Math.floor(16*Math.random()),1);e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-";var r="slider-"+e.join(""),o="point-"+e.join("");localStorage.getItem("slider")||localStorage.setItem("slider",r),localStorage.getItem("point")||localStorage.setItem("point",o)},u.init=function(){var e=this;window.removeEventListener("touchmove",function(t){e.move(t)}),window.removeEventListener("mousemove",function(t){e.move(t)}),window.removeEventListener("touchend",function(){e.end()}),window.removeEventListener("mouseup",function(){e.end()}),window.addEventListener("touchmove",function(t){e.move(t)}),window.addEventListener("mousemove",function(t){e.move(t)}),window.addEventListener("touchend",function(){e.end()}),window.addEventListener("mouseup",function(){e.end()})},u.getData=function(){var e=this;(0,s.anp)({captchaType:this.state.captchaType,clientUid:localStorage.getItem("slider"),ts:Date.now()}).then(function(t){"0000"===t.data.repCode?(e.setState({backImgBase:t.data.repData.originalImageBase64,blockBackImgBase:t.data.repData.jigsawImageBase64,backToken:t.data.repData.token,secretKey:t.data.repData.secretKey}),(0,p.MU)({event_name:"metasoai-captcha-get",text:"success"})):((0,h.y)(t.data.repMsg,{variant:"error"}),(0,p.MU)({event_name:"metasoai-captcha-get",text:"failed  res.data:"+JSON.stringify(t.data)})),"6201"==t.data.repCode&&(e.setState({backImgBase:null,blockBackImgBase:null,leftBarBorderColor:"#d9534f",iconColor:"#fff",iconClass:"icon-close",passFlag:!1,tipWords:t.data.repMsg}),setTimeout(function(){e.setState({tipWords:""})},1e3))}).catch(function(e){(0,h.y)("获取滑块验证图片失败，请刷新页面重试",{variant:"error"}),(0,p.MU)({event_name:"metasoai-captcha-get",text:"failed  err:"+JSON.stringify(e)})})},u.render=function(){var e=this,t=this.props,n=(t.mode,t.captchaType,t.vSpace),r=t.barSize,o=(t.showRefresh,t.transitionWidth,t.finishText),i=t.transitionLeft;return(0,c.jsxs)("div",{style:{position:"relative"},className:"stop-user-select",children:[(0,c.jsx)("div",{className:"verify-img-out",style:{height:this.state.setSize.imgHeight+n},children:(0,c.jsxs)("div",{className:"verify-img-panel ".concat(this.state.backImgBase?"":"verify-img-panel-loading"),style:{width:this.state.setSize.imgWidth,height:this.state.setSize.imgHeight},children:[null==this.state.backImgBase&&(0,c.jsx)("img",{src:f.src,alt:"",style:{width:"100%",height:"100%",display:"block"}}),""==this.state.backImgBase&&(0,c.jsx)("img",{src:d.src,alt:"",style:{width:"50px",height:"50px",display:"block"},className:"loadingImg"}),this.state.backImgBase&&(0,c.jsx)("img",{src:"data:image/png;base64,"+this.state.backImgBase,alt:"",style:{width:"100%",height:"100%",display:"block"}}),(0,c.jsx)("div",{className:"verify-refresh",style:{display:this.state.backImgBase?"block":"none"},onClick:function(){return e.refresh()},children:(0,c.jsx)("i",{className:"iconfont icon-refresh"})}),(0,c.jsx)(l.Z,{in:this.state.tipWords.length>0,timeout:150,classNames:"tips",unmountOnExit:!0,children:(0,c.jsx)("span",{className:this.state.passFlag?"verify-tips suc-bg":"verify-tips err-bg",children:this.state.tipWords})})]})}),(0,c.jsxs)("div",{className:"verify-bar-area",style:{width:this.state.setSize.imgWidth,height:r.height,lineHeight:r.height,display:this.state.backImgBase?"block":"none"},ref:function(t){return e.setBarArea(t)},children:[(0,c.jsx)("span",{className:"verify-msg",children:this.state.text}),(0,c.jsxs)("div",{className:"verify-left-bar",style:{width:void 0!==this.state.leftBarWidth?this.state.leftBarWidth:r.height,height:r.height,borderColor:this.state.leftBarBorderColor},children:[(0,c.jsx)("span",{className:"verify-msg",children:o}),(0,c.jsxs)("div",{className:"verify-move-block",onTouchStart:function(t){return e.start(t)},onMouseDown:function(t){return e.start(t)},style:{width:r.height,height:r.height,backgroundColor:this.state.moveBlockBackgroundColor,left:this.state.moveBlockLeft,transition:i},children:[(0,c.jsx)("i",{className:"verify-icon iconfont icon-right",style:{color:this.state.iconColor}}),(0,c.jsx)("div",{className:"verify-sub-block",style:{width:Math.floor(47*this.state.setSize.imgWidth/310)+"px",height:this.tempState.setSize.imgHeight,top:"-"+(this.state.setSize.imgHeight+n)+"px",backgroundSize:this.state.setSize.imgWidth+" "+this.state.setSize.imgHeight},children:this.state.blockBackImgBase&&(0,c.jsx)("img",{src:"data:image/png;base64,"+this.state.blockBackImgBase,alt:"",style:{width:"100%",height:"100%",display:"block"}})})]})]})]})]})},n}(u.Component);m.defaultProps={mode:"fixed",vSpace:5,imgSize:{width:"310px",height:"200px"},barSize:{width:"310px",height:"40px"},setSize:{imgHeight:200,imgWidth:310,barHeight:0,barWidth:0}};var g=m},86602:function(e,t,n){"use strict";var r=n(5194),o=n(1780),i=n(46796),a=n(50059),c=n(45008),u=n(57437),s=n(78693),l=n(16210),f=n(75624),d=n(2265),p=n(7870);function h(){var e=(0,c._)(["\n    & .MuiDrawer-paper {\n        border-radius: 0;\n        contain: paint layout;\n        overflow: hidden;\n    }\n"]);return h=function(){return e},e}var m=(0,d.forwardRef)(function(e,t){e.flexible;var n=e.children,c=e.sensorClassName,l=e.sx,f=e.roundedHeader,h=(0,i._)(e,["flexible","children","sensorClassName","sx","roundedHeader"]),m=(0,a._)((0,d.useState)(null),2),v=m[0],_=m[1],y=(0,a._)((0,d.useState)(null),2),S=y[0],b=y[1],w=(0,d.useRef)(0),E=(0,d.useRef)(0),C=(0,d.useRef)(0),T=(0,d.useRef)(0),k=function(e){e>w.current&&(e=w.current),e<E.current&&(e=E.current),S.style.setProperty("transform","translateY(".concat(-1*e,"px)"))},x=(0,a._)((0,d.useState)(!1),2),A=x[0],N=x[1],I=(0,d.useRef)({x:0,y:0,h:0}),P=(0,d.useRef)(""),R=function(e){null==v||v.style.setProperty("opacity","".concat(Math.max(e,0)))};return(0,d.useEffect)(function(){if("persistent"===e.variant)return A?document.body.style.overflow="hidden":document.body.style.removeProperty("overflow"),function(){document.body.style.removeProperty("overflow")}},[A,e.variant]),(0,u.jsxs)(g,(0,o._)((0,r._)({anchor:"bottom",ref:function(e){"function"==typeof t?t(e):t&&(t.current=e),b(e?e.querySelector(".MuiDrawer-paper"):null),_(e?e.querySelector(".MuiBackdrop-root"):null)},sx:(0,p.Vc)({".MuiDrawer-paper":{borderRadius:f?"10px 10px 0 0":void 0}},l)},h),{children:[(0,u.jsx)(s.Z,{sx:{height:30,flexShrink:0},onTouchStart:function(e){var t=S.getBoundingClientRect();w.current=t.top,P.current=S.style.transition,E.current=-1*(window.innerHeight-t.top),T.current=Date.now(),N(!0);var n=e.touches[0];I.current={x:n.clientX,y:n.clientY,h:t.height},S.style.setProperty("transition","none")},onTouchMove:function(e){var t=e.touches[0],n=I.current.y-t.clientY;n>0||(R(n<0?.5-Math.max(n/E.current,-.005*n):1),k(n),C.current=n)},onTouchEnd:function(t){if(N(!1),window.innerHeight-S.getBoundingClientRect().top<50)null===(n=e.onClose)||void 0===n||n.call(e,t,"hitBottomHideThreshold");else{var n,r;Math.abs(C.current/(Date.now()-T.current)*1e3)>2200||Math.abs(C.current)>I.current.h/6?null===(r=e.onClose)||void 0===r||r.call(e,t,"hitMoveSpeedThreshold"):(S.style.setProperty("transform","none"),S.style.setProperty("transition",P.current),R(1))}},className:"fc-ac fc-jc touch-none flexible-drawer-action ".concat(void 0===c?"":c),children:(0,u.jsx)(s.Z,{sx:{width:40,height:4,bgcolor:"#98a2b3",borderRadius:111}})}),n]}))});t.Z=m;var g=(0,l.ZP)(f.ZP)(h())},40100:function(e,t,n){"use strict";n.d(t,{k:function(){return m}});var r=n(5194),o=n(1780),i=n(46796),a=n(57437),c=n(2265),u=n(98698),s=n.n(u),l=n(78693),f=n(36760),d=n.n(f),p=n(54887),h=n(74634),m=(0,c.memo)(function(e){var t=(0,c.useRef)(!0),n=(0,c.useRef)(null),u=e.radius,f=e.open,m=e.onClose,g=e.maskSx,v=e.children,_=e.disableScroll,y=(e.className,(0,i._)(e,["radius","open","onClose","maskSx","children","disableScroll","className"])),S=(0,c.useRef)(!1);(0,h.Vo)("compositionend",function(e){t.current=!1,n.current&&clearTimeout(n.current),n.current=setTimeout(function(){t.current=!0},100)}),(0,h.Vo)("keyup",function(e){var n;(null===(n=e.key)||void 0===n?void 0:n.toUpperCase())==="ESCAPE"&&t.current&&(f&&(e.preventDefault(),e.stopPropagation()),f&&(null==m||m("esc")))});var b=(0,c.useRef)(null),w=(0,h.a8)();return(0,c.useEffect)(function(){f||_||document.body.scrollIntoView()},[f]),!!w&&(0,p.createPortal)((0,a.jsx)(l.Z,{className:s()["meta-dialog-mask"],style:{display:f?"flex":"none"},onMouseDown:function(){S.current=!0},onClick:function(e){if(S.current){var t;if(e.target instanceof Node&&(null===(t=b.current)||void 0===t?void 0:t.contains(e.target)))return;null==m||m("clickAway")}S.current=!1},sx:g||{},children:(0,a.jsx)(l.Z,(0,o._)((0,r._)({className:d()(s()["meta-dialog"],"meta-dialog",e.className),onMouseDown:function(e){return e.stopPropagation()},ref:b,style:{borderRadius:void 0===u?10:u}},y),{children:v}))}),document.body)})},22322:function(e,t,n){"use strict";n.d(t,{MetaSnackbarProvider:function(){return b},s:function(){return C},y:function(){return E}});var r,o=n(57437),i=n(64654),a=n(46796),c=n(45008),u=n(16210),s=n(19643),l=n(78693),f=n(46387),d=n(2265);function p(){var e=(0,c._)(["\n  padding: 8px 16px;\n  background-color: white;\n  border-radius: 4px;\n  width: 100%;\n  box-shadow: 0px 8px 32px 0px rgba(0, 0, 0, 0.08), 0px 2px 20px 0px rgba(0, 0, 0, 0.04);\n"]);return p=function(){return e},e}var h=(0,u.ZP)(s.Z,{name:"MessageBox"})(p()),m=(0,d.forwardRef)(function(e,t){var n=e.id,r=e.message,c=e.variant,u=e.className,s=e.style,d=(e.anchorOrigin,e.action),p=e.iconVariant;return(0,a._)(e,["id","message","variant","className","style","anchorOrigin","action","iconVariant"]),(0,o.jsx)(i.No,{ref:t,style:s,className:u,children:(0,o.jsxs)(h,{direction:"row",alignItems:s.alignItems||"start",children:[p[c]&&(0,o.jsx)(l.Z,{sx:{mr:.8,display:"inline",fontSize:0},children:p[c]}),(0,o.jsx)(f.Z,{fontSize:14,color:"#344054",children:r}),d&&(0,o.jsx)(l.Z,{children:"function"==typeof d?d(n):d})]})})});m.displayName="MetaMessageBox";var g=n(98379),v=n(12623),_=n(94746);function y(){return(y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var S=function(e){return _.createElement("svg",y({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),r||(r=_.createElement("path",{fill:"#FFAD0D",d:"M.833 10a9.167 9.167 0 1 1 18.334 0A9.167 9.167 0 0 1 .833 10m8.334 3.333V15h1.666v-1.667zm0-.833h1.666V5.833H9.167z"})))};function b(e){var t;return(0,o.jsx)(i.wT,{disableWindowBlurListener:!0,Components:{info:m,success:m,warning:m,error:m},iconVariant:{info:(0,o.jsx)(g.Z,{style:{color:"#1570ef"}}),success:(0,o.jsx)(v.Z,{style:{color:"#1570ef"}}),warning:(0,o.jsx)(S,{})},domRoot:"undefined"!=typeof document?document.getElementById("meta-snackbar-root"):void 0,style:{alignItems:null===(t=e.style)||void 0===t?void 0:t.alignItems},anchorOrigin:{vertical:"top",horizontal:"center"},children:e.children})}var w=[],E=function(e,t){var n=(0,i.yv)(e,t);return(null==t?void 0:t.keep)||w.push(n),(null==t?void 0:t.autoHideDuration)&&setTimeout(function(){(0,i.sy)(n)},null==t?void 0:t.autoHideDuration),n};function C(e){e?(0,i.sy)(e):w?(w.forEach(function(e){(0,i.sy)(e)}),w=[]):(0,i.sy)()}},7330:function(e,t,n){"use strict";n.d(t,{CF:function(){return u}});var r=n(57437),o=n(14760),i=n.n(o);n(28816),n(31876),n(94746);var a=n(34040);function c(e){return(0,r.jsx)("div",{className:i()["toast-container"],children:(0,r.jsxs)("div",{className:i()["toast-content"],children:[(0,r.jsx)("span",{children:e.content}),e.action&&(0,r.jsx)("button",{onClick:function(){var t,n,r;null===(n=e.action)||void 0===n||null===(t=n.onClick)||void 0===t||t.call(n),null===(r=e.onClose)||void 0===r||r.call(e)},className:i()["toast-action"],children:e.action.text})]})})}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,o=document.createElement("div");o.className=i().show,document.body.appendChild(o);var u=(0,a.createRoot)(o),s=function(){o.classList.add(i().hide),setTimeout(function(){u.unmount(),o.remove()},300)};setTimeout(function(){s()},n),u.render((0,r.jsx)(c,{content:e,action:t,onClose:s}))}n(2265),n(5767)},26058:function(e,t,n){"use strict";n.d(t,{FB:function(){return p},Fk:function(){return h},MC:function(){return l},ND:function(){return u},ZD:function(){return f},kV:function(){return o}});var r,o,i=n(2265),a=n(25060),c=n(7870),u=function(){return(0,i.useMemo)(function(){return f()},[])},s=null,l={isMyInfoLoaded:!1},f=function(){if(s)return s;if("undefined"==typeof document)return null;var e,t="metaso.cn"===(e=location.hostname)?"RELEASE":"metamiao.metaso.cn"===e?"PRE-RELEASE":"metamiaoalph.metasotalaw.cn"===e?"ALPH":e.startsWith("localhost")||e.startsWith("172")?"DEV":"TEST";return"TEST"===t?s={deployType:t,appid:"wx7697ffdde86d62e9",inviteCode:"METASODT-VOL37B0463C",sharePublicAppId:"wx4e62301b8a01ea81",redirect_uri:"https%3a%2f%2ftestmetalaw.lexueke.cn%2flogin",checker_url:"http://39.104.166.193:3001/",baseUrl:"https://xiezuocat.com/html",neptuneDomain:"https://metaso.cn",uranusDomain:"xiezuocat.com",ocr:"https://ocr.metaso.cn/#/",metacloud_url:"https://cloud.metaso.cn/",dsn:"https://d211a17cf14f4cd8a15fffeaae5dc4ab@sentry.metasotalaw.com/11",sampleDocId:1,enSampleDocId:4451271,domain:"metaso.cn",backend:"https://metaso.cn",projectName:"metaso-ai-beta",gsxtDomain:"http://www.gsxt.gov.cn/index.html",baikeDomain:"https://baike.baidu.com",metasoDomain:"https://metaso.cn",metaproDomain:"https://metapro.cn",mobileAppId:"wxecb45b26a27b4d8e",aliAppId:"2021004147641184"}:"DEV"===t?s={deployType:t,neptuneDomain:"https://metasotalaw.cn",uranusDomain:"metaso.cn",inviteCode:"METASODT-VOL37B0463C",appid:"wx7bae32381026968e",redirect_uri:"https%3a%2f%2fxiezuocat.com%2flogin",checker_url:"http://localhost:8090/",metacloud_url:"https://cloud.metasotalaw.cn/",dsn:"https://0840c43ddd104d96a383465ed18d7ec9@sentry.metasotalaw.com/10",baseUrl:"http://"+location.hostname+":8081/html",sampleDocId:1,enSampleDocId:365,aiWriteSampleDocId:1,domain:"172.168.1.190:8090",backend:"http://"+location.hostname,projectName:"metaso-ai-dev",gsxtDomain:"http://www.gsxt.gov.cn/index.html",baikeDomain:"https://baike.baidu.com",metasoDomain:"https://metasotalaw.cn",metaproDomain:"https://cloud.metasotalaw.cn",mobileAppId:"wxecb45b26a27b4d8e",aliAppId:"2021004147641184"}:"RELEASE"===t?s={deployType:t,appid:"wx58123abae5d5658b",domain:"metaso.cn",backend:"https://metaso.cn",publicAppId:"wx637ff0c7450c1918",inviteCode:"METASODT-VOL30C503C4",projectName:"metaso-ai",redirect_uri:"https%3a%2f%2fmetaso.cn%2flogin",aliAppId:"2021004147641184"}:"PRE-RELEASE"===t?s={deployType:t,appid:"wx58123abae5d5658b",domain:"metamiao.metaso.cn",backend:"https://metamiao.metaso.cn",publicAppId:"wx637ff0c7450c1918",inviteCode:"METASODT-VOL30C503C4",projectName:"metaso-ai-pre-release",redirect_uri:"https%3a%2f%2fmetamiao.metaso.cn%2flogin",aliAppId:"2021004147641184"}:"ALPH"===t&&(s={deployType:t,appid:"wx58123abae5d5658b",domain:"metamiaoalph.metasotalaw.cn",backend:"https://metamiaoalph.metasotalaw.cn",publicAppId:"wx637ff0c7450c1918",inviteCode:"METASODT-VOL30C503C4",projectName:"metaso-ai-alph",redirect_uri:"https%3a%2f%2fmetamiaoalph.metasotalaw.cn%2flogin",aliAppId:"2021004147641184"}),s&&"miniprogram"===window.__wxjs_environment&&(s.isMiniWebView=!0),s&&"undefined"!=typeof navigator&&navigator.userAgent.indexOf("AlipayClient")>-1&&(s.isAliApp=!0),s},d=null;function p(){if("undefined"==typeof navigator)return!1;if(null==d){navigator.userAgent;var e=navigator.platform;d=(0,c.G6)()||/iPhone|iPad|iPod|Mac/i.test(e)}return d}function h(){var e,t;return"undefined"==typeof document?"server":(null===(e=f())||void 0===e?void 0:e.isAliApp)?"aliApp":(null===(t=f())||void 0===t?void 0:t.isMiniWebView)?"minipro":(0,a.pb)(navigator.userAgent)?"h5":"desktop"}(r=o||(o={})).dev="DEV",r.release="RELEASE",r.prerelease="PRE-RELEASE",r.alph="ALPH",r.test="TEST"},42233:function(e,t,n){"use strict";n.d(t,{JK:function(){return p},KJ:function(){return a},ND:function(){return s},VX:function(){return u},nF:function(){return d},nv:function(){return l},qe:function(){return f},re:function(){return i},yG:function(){return c}}),(r=i||(i={})).Email="support-1@metasota.ai",r.Phone="19980541467",r.ProjectName="秘塔AI搜索",r.ShareIcon="https://uranus-static.oss-cn-beijing.aliyuncs.com/meta_law/image/share-page.png",r.OSSUrl="https://metaso-static.oss-accelerate.aliyuncs.com",(o=a||(a={})).Chat="chat-next-web-store",o.User="chat-next-web-store-user",o.Access="access-control",o.Config="app-config",o.Mask="mask-store",o.Prompt="prompt-store",o.Update="chat-update",o.Data="data-store";var r,o,i,a,c=!1,u="https://itunes.apple.com/cn/app/my-app/id6478196963?mt=8",s="https://uranus-static.oss-cn-beijing.aliyuncs.com/xiezuocat/app/metaso.apk",l="https://apps.apple.com/cn/app/%E4%BB%8A%E5%A4%A9%E5%AD%A6%E7%82%B9%E5%95%A5/id6744347210",f="https://uranus-static.oss-cn-beijing.aliyuncs.com/xiezuocat/app/learn.apk",d="wx1e7af5b479ac4db8",p="searchRoot"},57456:function(e,t,n){"use strict";n.d(t,{L:function(){return d}});var r=n(2403),o=n(5194),i=n(1780),a=n(46796),c=n(5853);function u(){return(u=(0,r._)(function(e,t){var n,r,o,i;return(0,c.Jh)(this,function(a){switch(a.label){case 0:if(!(r=null===(n=e.body)||void 0===n?void 0:n.getReader()))return[3,5];return[4,r.read()];case 1:o=a.sent(),a.label=2;case 2:if(o.done)return[3,4];return o.value&&t(o.value),[4,r.read()];case 3:return o=a.sent(),[3,2];case 4:return[3,7];case 5:return i=Uint8Array.bind,[4,e.arrayBuffer()];case 6:t.apply(void 0,[new(i.apply(Uint8Array,[void 0,a.sent()]))]),a.label=7;case 7:return[2]}})})).apply(this,arguments)}function s(){return{data:"",event:"",id:"",retry:void 0}}var l="text/event-stream",f="last-event-id";function d(e,t){var n=t.signal,d=t.headers,h=t.onopen,m=t.onmessage,g=t.onclose,v=t.onerror,_=t.openWhenHidden,y=t.fetch,S=(0,a._)(t,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise(function(t,a){var b,w=function(){b.abort(),document.hidden||C()},E=function(){document.removeEventListener("visibilitychange",w),window.clearTimeout(x),b.abort()},C=function(){return I.apply(this,arguments)},T=(0,o._)({},d);T.accept||(T.accept=l),_||document.addEventListener("visibilitychange",w);var k=1e3,x=0;null==n||n.addEventListener("abort",function(){E(),t()});var A=null!=y?y:window.fetch,N=null!=h?h:p;function I(){return(I=(0,r._)(function(){var n,r,l,d;return(0,c.Jh)(this,function(c){switch(c.label){case 0:b=new AbortController,c.label=1;case 1:return c.trys.push([1,5,,6]),[4,A(e,(0,i._)((0,o._)({},S),{headers:T,signal:b.signal}))];case 2:return[4,N(n=c.sent())];case 3:var p,h,_,y,w,I,P,R,M;return c.sent(),[4,function(e,t){return u.apply(this,arguments)}(n,(p=function(e){e?T[f]=e:delete T[f]},h=function(e){k=e},_=s(),y=new TextDecoder,w=function(e,t){if(0===e.length)null==m||m(_),_=s();else if(t>0){var n=y.decode(e.subarray(0,t)),r=t+(32===e[t+1]?2:1),o=y.decode(e.subarray(r));switch(n){case"data":_.data=_.data?_.data+"\n"+o:o;break;case"event":_.event=o;break;case"id":p(_.id=o);break;case"retry":var i=parseInt(o,10);isNaN(i)||h(_.retry=i)}}},M=!1,function(e){void 0===I?(I=e,P=0,R=-1):((n=new Uint8Array((t=I).length+e.length)).set(t),n.set(e,t.length),I=n);for(var t,n,r=I.length,o=0;P<r;){M&&(10===I[P]&&(o=++P),M=!1);for(var i=-1;P<r&&-1===i;++P)switch(I[P]){case 58:-1===R&&(R=P-o);break;case 13:M=!0;case 10:i=P}if(-1===i)break;w(I.subarray(o,i),R),o=P,R=-1}o===r?I=void 0:0!==o&&(I=I.subarray(o),P-=o)}))];case 4:return c.sent(),null==g||g(),E(),t(),[3,6];case 5:if(r=c.sent(),!b.signal.aborted)try{d=null!==(l=null==v?void 0:v(r))&&void 0!==l?l:k,window.clearTimeout(x),x=window.setTimeout(C,d)}catch(e){E(),a(e)}return[3,6];case 6:return[2]}})})).apply(this,arguments)}C()})}function p(e){var t=e.headers.get("content-type");if(!(null==t?void 0:t.startsWith(l)))throw Error("Expected content-type to be ".concat(l,", Actual: ").concat(t))}},16478:function(e,t,n){"use strict";n.d(t,{Xe:function(){return c}});var r,o,i,a,c,u=n(72725),s=n(56412),l=n(36570),f=function(e){return(0,s.mh)(e)};(o||(o={})).setLang=function(e){var t=(0,u.Ct)(s.C9.SetDefaultLang,{value:e});(0,u.Dd)(t)},(i||(i={})).initializeSetLangListener=function(e){(0,u.jz)("normal",f)(function(t){(0,u.vU)(t,e)});var t=l.ZP.outputLang.get();t&&chrome.storage.sync.set({defaultLanguage:t})},(a||(a={})).listenSetLangMessage=function(){(0,u.jz)("external",f)(function(e){chrome.storage.sync.set({defaultLanguage:e.payload.value})})},(r=c||(c={})).setExtensionLang=function(e){var t=(0,u.Ct)(s.C9.SetDefaultLang,{value:e});(0,u.ml)(t)},r.setExtensionScholarLangRange=function(e){var t=(0,u.Ct)(s.C9.SetDefaultScholarLanguageRange,{value:e});(0,u.ml)(t)},r.setExtensionSearchModel=function(e){var t=(0,u.Ct)(s.C9.SetDefaultModel,{value:e});(0,u.ml)(t)},r.listExtensionSetLangMessage=function(e){return(0,u.jz)("web",f)(e)},r.setWebCacheFromMessage=function(e){e.type==s.C9.SetDefaultLang?localStorage.setItem("output-lang",e.payload.value):e.type==s.C9.SetDefaultScholarLanguageRange?localStorage.setItem("scholarSearchDomain",e.payload.value):e.type==s.C9.SetDefaultModel&&localStorage.setItem("defaultMode",e.payload.value)}},58020:function(e,t,n){"use strict";n.d(t,{a:function(){return o},n:function(){return r}});var r="ongfnonhnimfnkglehgabbnpkmiphofj",o="ongfnonhnimfnkglehgabbnpkmiphofj"},72725:function(e,t,n){"use strict";n.d(t,{Ct:function(){return h},Dd:function(){return f},jz:function(){return p},ml:function(){return s},vU:function(){return d}});var r=n(2403),o=n(50059),i=n(85735),a=n(5853),c=n(56412),u=n(58020);function s(e){return l.apply(this,arguments)}function l(){return(l=(0,r._)(function(e){return(0,a.Jh)(this,function(t){switch(t.label){case 0:return[4,chrome.runtime.sendMessage(u.a,e)];case 1:return[2,t.sent()]}})})).apply(this,arguments)}function f(e,t){chrome.tabs.query({},function(n){for(var r in t&&(n=n.filter(function(e){return t.includes(e.id)})),n)chrome.tabs.sendMessage(n[r].id,e)})}function d(e,t){window.postMessage(e,t)}function p(e,t){var n=function(e){return(0,c.BM)(e)&&(!t||t(e))};if("web"===e)return function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=(0,o._)(t,2),a=i[0],c=i[1],u=function(e){var t=e.data;if(!n(t)){null==c||c();return}a(t)};return window.addEventListener("message",u),function(){window.removeEventListener("message",u)}};var r=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=(0,o._)(t,2),a=i[0],c=i[1];return function(e,t,r){if(!n(e)){null==c||c();return}a(e)}};if("normal"===e)return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=(0,o._)(t,2);a[0],a[1];var c=r.apply(void 0,(0,i._)(t));return chrome.runtime.onMessage.addListener(c),function(){chrome.runtime.onMessage.removeListener(c)}};if("external"===e)return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=(0,o._)(t,2);a[0],a[1];var c=r.apply(void 0,(0,i._)(t));return chrome.runtime.onMessageExternal.addListener(c),function(){chrome.runtime.onMessageExternal.removeListener(c)}};throw Error("variant ".concat(e," is not supported"))}function h(e,t){return{type:e,_id:u.n,payload:t}}},56412:function(e,t,n){"use strict";n.d(t,{BM:function(){return a},C9:function(){return o},mh:function(){return c},pQ:function(){return u}});var r,o,i=n(58020);function a(e){return Object.values(o).includes(e.type)&&"_id"in e&&e._id===i.n}function c(e){return a(e)&&"SetDefaultLang"===e.type}function u(e){return a(e)&&"HasLogin"===e.type}n(47812),(r=o||(o={})).SetDefaultLang="SetDefaultLang",r.SetDefaultScholarLanguageRange="SetDefaultScholarLanguageRange",r.SetDefaultModel="SetDefaultModel",r.HasLogin="HasLogin"},89831:function(e,t,n){"use strict";var r,o,i,a;function c(e){return["code","msg"].every(function(t){return t in e})}function u(e){return e&&"data"in e&&"errCode"in e.data&&!("code"in e.data)}n.d(t,{Cq:function(){return o},X2:function(){return c},cO:function(){return r},iR:function(){return u}}),(i=r||(r={}))[i.SAFE=0]="SAFE",i[i.SUCCESS=200]="SUCCESS",i[i.NO_AUTH=401]="NO_AUTH",i[i.REMAIN_CREDIT=402]="REMAIN_CREDIT",i[i.PERMISSION_DENIED=-1]="PERMISSION_DENIED",i[i.NO_PERMISSION=403]="NO_PERMISSION",i[i.NOT_FOUND=404]="NOT_FOUND",i[i.ERROR=500]="ERROR",i[i.SERVER_BUSY=503]="SERVER_BUSY",i[i.UNKOWN_ERROR=-500]="UNKOWN_ERROR",i[i.CREDIT_RUN_OUT=4001]="CREDIT_RUN_OUT",i[i.USER_CREDIT_RUN_OUT=4002]="USER_CREDIT_RUN_OUT",i[i.OWNER_CREDIT_RUN_OUT=4003]="OWNER_CREDIT_RUN_OUT",i[i.SENSITIVE_WORD=4009]="SENSITIVE_WORD",i[i.BLACK_LIST=4004]="BLACK_LIST",i[i.NEED_SUBSCRIBE=4003]="NEED_SUBSCRIBE",i[i.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",i[i.TOO_MANY_REQUESTS2=430]="TOO_MANY_REQUESTS2",i[i.NO_CREDIT=4002]="NO_CREDIT",i[i.TOPIC_PASSWORD_ERROR=-2]="TOPIC_PASSWORD_ERROR",(a=o||(o={}))[a.SAFE=0]="SAFE",a[a.PHONE_DEPRECATED=1101]="PHONE_DEPRECATED",a[a.UNCLASSIFIED_5=5]="UNCLASSIFIED_5",a[a.NOT_EXIST_PHONE=2701]="NOT_EXIST_PHONE",a[a.UNCLASSIFIED_2704=2704]="UNCLASSIFIED_2704",a[a.NO_AUTH=401]="NO_AUTH"},97369:function(e,t,n){"use strict";n.d(t,{mQ:function(){return i}});var r,o,i,a,c=n(5194),u=n(1780),s=n(59625),l=n(89134),f=n(42233);(r=i||(i={})).Enter="Enter",r.CtrlEnter="Ctrl + Enter",r.ShiftEnter="Shift + Enter",r.AltEnter="Alt + Enter",r.MetaEnter="Meta + Enter",(o=a||(a={})).Auto="自动",o.Dark="夜间",o.Light="白天";var d={submitKey:"Enter",avatar:"1f603",fontSize:15,theme:"自动",tightBorder:!0,sendPreviewBubble:!0,sidebarWidth:0,disablePromptHint:!1,dontShowMaskSplashScreen:!0,modelConfig:{temperature:.5,max_tokens:2e3,presence_penalty:0,sendMemory:!0,historyMessageCount:32,compressMessageLengthThreshold:1e3}};(0,s.Ue)()((0,l.tJ)(function(e,t){return(0,u._)((0,c._)({},d),{reset:function(){e(function(){return(0,c._)({},d)})},update:function(n){var r=(0,c._)({},t());n(r),e(function(){return r})}})},{name:f.KJ.Config,version:2,migrate:function(e,t){return 2===t||(e.modelConfig.sendMemory=!0,e.modelConfig.historyMessageCount=4,e.modelConfig.compressMessageLengthThreshold=1e3,e.dontShowMaskSplashScreen=!1),e}}))},23760:function(e,t,n){"use strict";n.d(t,{aK:function(){return a},LM:function(){return c.LM}});var r=n(59625),o=n(89134),i=n(42233),a=(0,r.Ue)()((0,o.tJ)(function(e,t){return{backPath:null}},{name:i.KJ.Chat,version:2,onRehydrateStorage:function(){}}));(0,r.Ue)()((0,o.tJ)(function(e,t){return{token:"",accessCode:"",needCode:!0,hideUserApiKey:!1,openaiUrl:"/api/openai/",enabledAccessControl:function(){return t().fetch(),t().needCode},updateCode:function(t){e(function(){return{accessCode:t}})},updateToken:function(t){e(function(){return{token:t}})},isAuthorized:function(){return!0},fetch:function(){}}},{name:i.KJ.Access,version:1})),n(97369);var c=n(89480)},95697:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=new WeakSet,o=function(e,t){if(!r.has(e)){var n=e.persist.getOptions().name;r.add(e),Date.now();var o=function(r){r.key===n&&r.newValue&&(e.persist.rehydrate(),null==t||t())};return window.addEventListener("storage",o),function(){window.removeEventListener("storage",o)}}}},89480:function(e,t,n){"use strict";n.d(t,{LM:function(){return A},Mb:function(){return x},lb:function(){return R},wS:function(){return M},wo:function(){return O}});var r=n(2403),o=n(5194),i=n(1780),a=n(50059),c=n(5853),u=n(47812),s=n(95697),l=n(42233),f=n(59625),d=n(89134),p=n(39207),h=n(58494),m=n(22322),g=n(7870),v=n(31219),_=n(26058),y=n(54493),S=n(2265),b=n(89831),w=n(36570),E=n(11183),C=n(27030),T=n(8e3),k=new Map,x=(0,f.Ue)()((0,d.tJ)(function(e,t){return{login:!1,userInfo:null,teamInfo:null,recentlyUsedTopicDTOs:[],usage:null,hasHydrated:!1,verify:null,verifyShowTime:null,openId:null,lastOrderInfo:null,initialMyInfoLoaded:!1,extensionReadingEnable:!0,advancedSearchEnable:!1,defaultLanguage:void 0,shareMath:!1,model:w.ZP.defaultModel.get(),setExtensionReadingEnable:function(n){var r={extensionReadingEnable:n},a=t().userInfo;a&&(r.userInfo=(0,i._)((0,o._)({},a),{extensionReadingEnable:n})),e(r)},setAdvancedSearchEnable:function(t){e({advancedSearchEnable:t})},setDefaultLanguage:function(t){e({defaultLanguage:t})},setHydrated:function(t){e({hasHydrated:t})},logOut:function(n){return(0,r._)(function(){var r,o,i,a,s,l,f,d;return(0,c.Jh)(this,function(c){switch(c.label){case 0:if(o=n.desc,a=void 0!==(i=n.isStatic)&&i,l=void 0!==(s=n.ignoreError)&&s,f=function(){var e=h.ZP.load("sid"),n=h.ZP.load("uid");t().hasHydrated||(P.sid=e,P.uid=n),R.sid=e,R.uid=n,R.userInfo=t().userInfo;var r=location.host.split(".").slice(-2).join(".");["."+r,r].forEach(function(e){["uid","sid"].forEach(function(t){h.ZP.save(t,"",{domain:e,expires:new Date(0)})}),document.cookie="register=;domain=".concat(e,";expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;")}),(0,g.dW)("logout",{desc:o})},a)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,(0,p.YS6)().then(y.Jj)];case 2:return c.sent(),(0,g.dW)("logout","remote"),[3,4];case 3:if(d=c.sent(),l)return[2];return(0,m.y)((null==d?void 0:d.message)||"登出发生未知错误",{variant:"error",autoHideDuration:3e3}),[2];case 4:return f(),(null===(r=(0,_.ZD)())||void 0===r?void 0:r.isMiniWebView)&&"fulfilled"===M.status&&(0,E.mH)().then(function(e){var t=[{type:v.a.LogOut}];e.miniProgram.postMessage({data:t})}),e({login:!1,userInfo:null}),w.l$.getDefaultEngine()==u.rG.KNOWLEDGE&&w.l$.updateDefaultEngine(u.rG.DEFAULT),[2]}})})()},logIn:function(t){e({login:!0,initialMyInfoLoaded:!0,userInfo:t.user,teamInfo:t.team})},updateVerify:function(t){e({verify:t,verifyShowTime:new Date().getTime()})},updateUserInfo:function(t){return(0,r._)(function(){return(0,c.Jh)(this,function(n){return[2,(0,p.AwV)().then(function(n){n.data.errCode===b.cO.SAFE&&(e({login:!0,userInfo:n.data.data.user,teamInfo:n.data.data.team}),t&&t(),T.Z.set(h.ZP.load("sid")))})]})})()},setLogin:function(t){e({login:t})},setUserInfo:function(t){e({userInfo:t})},updateUserRecentlyUsedTopics:function(){(0,p.iJp)().then(function(t){0==t.data.errCode?e({recentlyUsedTopicDTOs:t.data.data}):e({recentlyUsedTopicDTOs:[]})}).catch(function(t){e({recentlyUsedTopicDTOs:[]})})},setRecentlyUsedTopics:function(t){e({recentlyUsedTopicDTOs:t})},updateNotes:function(n){var r=t().userInfo;if(r){var o=r.notes?JSON.parse(r.notes):{},i=JSON.parse(n),a=!0,c=!1,u=void 0;try{for(var s,l=Object.keys(i)[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var f=s.value;o[f]=i[f]}}catch(e){c=!0,u=e}finally{try{a||null==l.return||l.return()}finally{if(c)throw u}}r.notes=JSON.stringify(o),e({userInfo:r})}},setMetasoAIConfig:function(t){e({metasoAIConfig:t,messageClosed:!1})},setMessageClosed:function(){e({messageClosed:!0})},setUsage:function(t){e({usage:t})},productType:function(){var e,n,r,o=t();return(null===(e=o.userInfo)||void 0===e?void 0:e.isTeamActive)&&(null===(n=o.userInfo)||void 0===n?void 0:n.isTeamActive)===1&&o.teamInfo&&new Date(o.teamInfo.checkerDeadline).getTime()>new Date().getTime()?u.kv.TEAM:(null===(r=o.userInfo)||void 0===r?void 0:r.expiryDate)&&new Date(o.userInfo.expiryDate).getTime()>new Date().getTime()?u.kv.PERSONAL:u.kv.FREE},getProductDesc:function(){var e=t();switch(e.productType()){case u.kv.FREE:return u.eF[u.kv.FREE];case u.kv.TEAM:return"".concat(u.eF[u.kv.TEAM],"（有效期至").concat(new Date(e.teamInfo.checkerDeadline).toLocaleDateString(),"）");case u.kv.PERSONAL:return"".concat(u.eF[u.kv.PERSONAL],"（有效期至").concat(new Date(e.userInfo.expiryDate).toLocaleDateString(),"）")}},isShareMath:function(){return t().shareMath},setShareMath:function(t){e({shareMath:t})},setModel:function(t){e({model:t}),w.ZP.modelChanged.set(!0),w.ZP.defaultModel.set(t||"")}}},{name:l.KJ.User,version:1,skipHydration:!0,onRehydrateStorage:function(){return function(e){e&&(e.hasHydrated||e.setHydrated(!0),k.set(l.KJ.User,e))}}})),A=new Proxy(x,{apply:function(e,t,n){"undefined"!=typeof document&&(0,s.Z)(e);var r=e.apply(t,n);return k.set(l.KJ.User,r),r}}),N={},I=new Set;A.subscribe(function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,c=Object.entries(e)[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var u=i.value,s=(0,a._)(u,2),l=s[0],f=s[1];if("function"!=typeof f){if(t[l]===f){(N[l]||0)>2&&(N[l]=0);continue}N[l]=(N[l]||0)+1,N[l]>30&&(I.has(l)||(0,g.dW)("localStorage-infinite-update-error",{fieldName:l,lastValue:t[l],newValue:e[l]}),I.add(l))}}}catch(e){r=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}});var P={sid:"",uid:""},R={sid:"",uid:"",userInfo:null},M=(0,C.I)();function O(){var e=(0,a._)((0,S.useState)(!1),2),t=e[0],n=e[1];return(0,S.useEffect)(function(){M.done.finally(function(){return n(!0)})},[]),t}},7870:function(e,t,n){"use strict";n.d(t,{Gy:function(){return a},Do:function(){return eU},oj:function(){return eh},gY:function(){return $},VL:function(){return el},er:function(){return G},wo:function(){return Q},Ev:function(){return ej},$I:function(){return ex},vQ:function(){return B},jD:function(){return K},N_:function(){return ek},KI:function(){return eI},Kn:function(){return eo},CP:function(){return V},GN:function(){return e6},mh:function(){return eH},tk:function(){return eE},P_:function(){return eb},BL:function(){return eC},sN:function(){return e8},l6:function(){return ey},LU:function(){return e7},Km:function(){return ez},En:function(){return eX},C8:function(){return Y},Qe:function(){return q},nt:function(){return eq},AW:function(){return eG},Sk:function(){return te},e$:function(){return eN},JB:function(){return e9},DI:function(){return eL},HG:function(){return e1},kn:function(){return eM},lz:function(){return eO},rx:function(){return eW},GS:function(){return e5},Bo:function(){return er},CU:function(){return eJ},Y0:function(){return eB},PP:function(){return e$},HU:function(){return ev},LT:function(){return eS},Gb:function(){return e3},dW:function(){return eu},D_:function(){return em},x2:function(){return eT},$Z:function(){return eA},Yv:function(){return eY},tH:function(){return ep},Eu:function(){return eZ},TL:function(){return ed},Av:function(){return J},G6:function(){return ef},Fo:function(){return eg},fo:function(){return Z},K2:function(){return eV},MU:function(){return ei},iu:function(){return e0},Tu:function(){return eK},Vc:function(){return eD},i9:function(){return eQ},oG:function(){return ec},v_:function(){return eF},_v:function(){return ee},GZ:function(){return e2},IA:function(){return et},Qd:function(){return en},oh:function(){return eP},zk:function(){return X}});var r,o,i,a,c=n(2403),u=n(12249),s=n(50059),l=n(85735),f=n(5853),d=n(7330),p=n(97369),h={WIP:"该功能仍在开发中……",Error:{Unauthorized:"访问密码不正确或为空，请前往[设置](/#/settings)页输入正确的访问密码，或者填入你自己的 OpenAI API Key。"},ChatItem:{ChatItemCount:function(e){return"".concat(e," 条对话")}},Chat:{Actions:{ChatList:"查看消息列表",CompressedHistory:"查看压缩后的历史 Prompt",Export:"导出聊天记录",Copy:"复制",Stop:"停止",Retry:"重试",Delete:"删除",Edit:"编辑",Submit:"提交",EditCancel:"取消"},Rename:"重命名对话",Typing:"正在输入…",Input:function(e){var t="".concat(e," 发送");return e===String(p.mQ.Enter)&&(t+="，Ctrl + Enter 换行"),t},Send:"发送",Config:{Reset:"清除记忆",SaveAs:"存为功能卡片"}},Export:{Title:"分享聊天记录",Copy:"全部复制",Download:"下载文件",Share:"分享到 ShareGPT",MessageFromYou:"来自你的消息",Format:{Title:"导出格式",SubTitle:"可以导出 Markdown 文本或者 PNG 图片"},IncludeContext:{Title:"包含功能卡片上下文",SubTitle:"是否在消息中展示功能卡片上下文"},Steps:{Select:"选取",Preview:"预览"}},Select:{Search:"搜索消息",All:"选取全部",Latest:"最近几条",Clear:"清除选中"},Memory:{Title:"历史摘要",EmptyContent:"对话内容过短，无需总结",Send:"自动压缩聊天记录并作为上下文发送",Copy:"复制摘要",Reset:"[unused]",ResetConfirm:"确认清空历史摘要？"},Home:{NewChat:"新的聊天",DeleteChat:"确认删除选中的对话？",DeleteToast:"已删除会话",Revert:"撤销"},Settings:{Title:"设置",SubTitle:"设置选项",Actions:{ClearAll:"清除所有数据",ResetAll:"重置所有选项",Close:"关闭",ConfirmResetAll:"确认重置所有配置？",ConfirmClearAll:"确认清除所有数据？"},Lang:{Name:"Language",All:"所有语言"},Avatar:"头像",FontSize:{Title:"字体大小",SubTitle:"聊天内容的字体大小"},Update:{Version:function(e){return"当前版本：".concat(e)},IsLatest:"已是最新版本",CheckUpdate:"检查更新",IsChecking:"正在检查更新...",FoundUpdate:function(e){return"发现新版本：".concat(e)},GoToUpdate:"前往更新"},SendKey:"发送键",Theme:"主题",TightBorder:"无边框模式",SendPreviewBubble:{Title:"预览气泡",SubTitle:"在预览气泡中预览 Markdown 内容"},Mask:{Title:"功能中心启动页",SubTitle:"新建聊天时，展示功能中心"},Prompt:{Disable:{Title:"禁用提示词自动补全",SubTitle:"在输入框开头输入 / 即可触发自动补全"},List:"自定义提示词列表",ListCount:function(e,t){return"内置 ".concat(e," 条，用户定义 ").concat(t," 条")},Edit:"编辑",Modal:{Title:"提示词列表",Add:"新建",Search:"搜索提示词"},EditModal:{Title:"编辑提示词"}},HistoryCount:{Title:"附带历史消息数",SubTitle:"每次请求携带的历史消息数"},CompressThreshold:{Title:"历史消息长度压缩阈值",SubTitle:"当未压缩的历史消息超过该值时，将进行压缩"},Token:{Title:"API Key",SubTitle:"使用自己的 Key 可绕过密码访问限制",Placeholder:"OpenAI API Key"},Usage:{Title:"余额查询",SubTitle:function(e,t){return"本月已使用 $".concat(e,"，订阅总额 $").concat(t)},IsChecking:"正在检查…",Check:"重新检查",NoAccess:"输入 API Key 或访问密码查看余额"},AccessCode:{Title:"访问密码",SubTitle:"管理员已开启加密访问",Placeholder:"请输入访问密码"},Model:"模型 (model)",Temperature:{Title:"随机性 (temperature)",SubTitle:"值越大，回复越随机"},MaxTokens:{Title:"单次回复限制 (max_tokens)",SubTitle:"单次交互所用的最大 Token 数"},PresencePenalty:{Title:"话题新鲜度 (presence_penalty)",SubTitle:"值越大，越有可能扩展到新话题"}},Store:{DefaultTopic:"新的聊天",BotHello:"欢迎使用秘塔AI搜索。",Error:"出错了，稍后重试吧",Prompt:{History:function(e){return"这是历史聊天总结作为前情提要："+e},Topic:"使用四到五个字直接返回这句话的简要主题，不要解释、不要标点、不要语气词、不要多余文本，如果没有主题，请直接返回“闲聊”",Summarize:"简要总结一下对话内容，用作后续的上下文提示 prompt，控制在 200 字以内"}},Copy:{Success:"已写入剪切板",Failed:"复制失败，请赋予剪切板权限"},Context:{Toast:function(e){return"包含 ".concat(e," 条预设提示词")},Edit:"当前对话设置",Add:"新增预设对话",Clear:"上下文已清除",Revert:"恢复上下文"},Plugin:{Name:"插件"},Mask:{Name:"功能中心",Page:{Title:"预设角色功能卡片",SubTitle:function(e){return"".concat(e," 个预设角色定义")},Search:"搜索功能卡片",Create:"新建"},Item:{Info:function(e){return"包含 ".concat(e," 条预设对话")},Chat:"对话",View:"查看",Edit:"编辑",Delete:"删除",DeleteConfirm:"确认删除？"},EditModal:{Title:function(e){return"编辑预设功能卡片 ".concat(e?"（只读）":"")},Download:"下载预设",Clone:"克隆预设"},Config:{Avatar:"角色头像",Name:"角色名称",Sync:{Title:"使用全局设置",SubTitle:"当前对话是否使用全局模型设置",Confirm:"当前对话的自定义设置将会被自动覆盖，确认启用全局设置？"},HideContext:{Title:"隐藏预设对话",SubTitle:"隐藏后预设对话不会出现在聊天界面"}}},NewChat:{Return:"返回",Skip:"直接开始",NotShow:"不再展示",ConfirmNoShow:"确认禁用？禁用后可以随时在设置中重新启用。",Title:"功能中心",SubTitle:"场景任务一键完成，为您提供高效的生产力工具",More:"查看全部"},UI:{Confirm:"确认",Cancel:"取消",Close:"关闭",Create:"新建",Edit:"编辑"}};n(25566).env.NEXT_PUBLIC_DISABLE_PRO_DEBUGGER||window.location.host;var m=["cn"],g={cn:h}[function(){var e=function(e){try{return localStorage.getItem(e)}catch(e){return null}}("lang");if(m.includes(null!=e?e:""))return e;var t=function(){try{return navigator.language.toLowerCase()}catch(e){return"cn"}}(),n=!0,r=!1,o=void 0;try{for(var i,a=m[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var c=i.value;if(t.includes(c))return c}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return"cn"}()];!function e(t,n){Object.keys(n).forEach(function(r){if(n[r]&&"object"==typeof n[r]){e(t[r]=t[r]||{},n[r]);return}t[r]=n[r]})}(h,g);var v=n(2772),_=n.n(v),y=n(79586),S=n.n(y);n(46075);var b=n(7633),w=n.n(b),E=n(43577),C=n(58494),T=n(39207),k=n(80928),x=n.n(k),A=n(26058),N=n(75825),I=n(47812),P=n(25060),R=n(71096),M=n.n(R);n(36570);var O=n(2473),D=n(60225),L="keyValueStore",U=function(){function e(){var t=this;(0,O._)(this,e),this.db=null,this.request=null,window.indexedDB&&(this.request=window.indexedDB.open("metaso_indexed_db",1),this.request.onsuccess=function(e){t.db=e.target.result},this.request.onerror=function(e){},this.request.onupgradeneeded=function(e){var t=e.target.result;t.objectStoreNames.contains(L)||t.createObjectStore(L,{keyPath:"key"})})}var t=e.prototype;return t.destroy=function(){this.db&&this.db.close(),this.db=null},t.put=function(e,t){var n=this;return new Promise(function(r,o){if(!n.db){o("数据库未连接");return}var i=n.db.transaction([L],"readwrite").objectStore(L).put({key:e,value:t});i.onsuccess=function(){r()},i.onerror=function(e){o("存储失败")}})},t.get=function(e){var t=this;return new Promise(function(n,r){if(!t.db){r("数据库未连接");return}var o=t.db.transaction([L],"readonly").objectStore(L).get(e);o.onsuccess=function(e){var t=e.target.result;t?n(t.value):r("未找到对应的键值")},o.onerror=function(e){r("读取失败")}})},t.delete=function(e){var t=this;return new Promise(function(n,r){if(!t.db){r("数据库未连接");return}var o=t.db.transaction(["keyValueStore"],"readwrite").objectStore("keyValueStore").delete(e);o.onsuccess=function(){n()},o.onerror=function(e){r("删除失败")}})},(0,D._)(e,null,[{key:"instance",get:function(){return e._instance||(e._instance=new e),e._instance}}]),e}();U.instance;var F=n(85085),j=n(27030),z=n(8e3),H=n(5263);function B(e){return W.apply(this,arguments)}function W(){return(W=(0,c._)(function(e){var t,n,r=arguments;return(0,f.Jh)(this,function(o){switch(o.label){case 0:t=r.length>1&&void 0!==r[1]&&r[1],n=r.length>2?r[2]:void 0,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,navigator.clipboard.writeText(e)];case 2:return o.sent(),[3,4];case 3:return o.sent(),K(e,t,n),[3,4];case 4:return[2]}})})).apply(this,arguments)}function K(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=document.createElement("pre");r.innerHTML=e;var o=!1;n||(o=!0,(n=document.createElement("div")).style.cssText="\n      position: fixed;\n      zIndex: 500000;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n    ",document.body.appendChild(n)),n.appendChild(r);try{var i=document.getSelection(),a=document.createRange();a.selectNode(r),i.removeAllRanges(),i.addRange(a),document.execCommand("copy")}catch(e){throw t||(0,d.CF)(h.Copy.Failed),h.Copy.Failed}o?document.body.removeChild(n):n.removeChild(r)}function V(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}function J(){return window.innerWidth<=600}function Z(){return"undefined"!=typeof navigator&&/UCBrowser/i.test(navigator.userAgent)}function G(){return"undefined"!=typeof navigator&&/firefox/i.test(navigator.userAgent)}function q(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return"";e instanceof Date||(e=new Date(e));var o=new Date,i=o.getTime()-e.getTime();function a(e){return(e.getMonth()+1).toString().padStart(2,"0")}function c(e){return e.getDate().toString().padStart(2,"0")}function u(e){return e.getHours().toString().padStart(2,"0")}function s(e){return e.getMinutes().toString().padStart(2,"0")}return i<0&&!r?"".concat(e.getFullYear(),"年").concat(a(e),"月").concat(c(e),"日 ").concat(u(e),":").concat(s(e),":").concat(e.getSeconds().toString().padStart(2,"0")):i<6e4?"刚刚":i<36e5?"".concat(Math.floor(i/6e4),"分钟前"):(t=e,o.getFullYear()===t.getFullYear()&&o.getMonth()===t.getMonth()&&o.getDate()===t.getDate())?"今天 ".concat(u(e),":").concat(s(e)):(n=e,o.getFullYear()===n.getFullYear())?"".concat(a(e),"月").concat(c(e),"日 ").concat(u(e),":").concat(s(e)):"".concat(e.getFullYear(),"年").concat(a(e),"月").concat(c(e),"日 ").concat(u(e),":").concat(s(e))}function Y(e,t){if(!e)return"";var n=(e=new Date(e)).getFullYear(),r=("0"+(e.getMonth()+1)).slice(-2),o=("0"+e.getDate()).slice(-2),i=("0"+e.getHours()).slice(-2),a=("0"+e.getMinutes()).slice(-2),c=("0"+e.getSeconds()).slice(-2);return t?t.replace("yyyy",n+"").replace("MM",r+"").replace("dd",o+"").replace("HH",i).replace("mm",a).replace("ss",c):"".concat(n,"-").concat(r,"-").concat(o," ").concat(i,":").concat(a,":").concat(c)}function X(e,t){var n="";function r(e){return Object.keys(e).filter(function(t){return!!e[t]}).join(" ")}return Array.isArray(e)?n+=e.filter(Boolean).flatMap(S()).join(" "):n+=r(e),t&&(n+=" "+r(t)),n}var Q=P.X5;function $(e,t){return e.split("/").map(function(e){var n=(0,F.J)("/".concat(e)),r=n.type,o=n.name;return"unknown"===r?e:"optionalCatchAll"===r?t[o]||"":t[o]||e}).join("/")}function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise(function(t){setTimeout(t,e)})}var et=function(e,t){return(e=e.trim()).length<t?e:e.substring(0,t)+"..."},en=function(e,t,n){return e?eA(e)?(n||(n=t),function(e,t){var n=e.split(/[\s;；.。!！]/);if(n.length<t||1==n.length)return e;for(var r=0,o=0;r<e.length&&o<t;)r=e.indexOf(n[o],r)+n[o].length,o++;return e.substring(0,r)+"..."}(e,n)):et(e,t):e};function er(e){return function(e,t){for(var n=e;n&&!t(n);)n=n.parentElement;return n}(e,function(e){return["scroll","auto","overlay"].includes(getComputedStyle(e).overflowY)&&e.scrollHeight>e.clientHeight})}function eo(e,t,n){var r=(0,j.I)(),o=r.done,i=r.resolve;return!function r(o){o<n?_()(r,o+1):i(e.apply(void 0,(0,l._)(t)))}(0),o}function ei(e){return ea.apply(this,arguments)}function ea(){return(ea=(0,c._)(function(e){var t,n,r,o,i,a,c;return(0,f.Jh)(this,function(u){try{if("otherPageOnLine"==e.event_name||(t=new Date,(n=new Date).setFullYear(t.getUTCFullYear()),n.setMonth(t.getUTCMonth()),n.setDate(t.getUTCDate()),n.setHours(t.getUTCHours()),n.setMinutes(t.getUTCMinutes()),n.setSeconds(t.getUTCSeconds()),r=C.ZP.load("traceid"),o=C.ZP.load("sid"),i=C.ZP.load("uid"),!(a=(0,A.ZD)())))return[2];(c=e).project_name=a.projectName,c.traceid=r,c.sid=o,c.local_sid=z.Z.get(),c.user_id=i,c.timestamp=n.getTime()/1e3,c.value||(c.value=1),(0,T.sS5)(c).then(function(e){}).catch(function(e){})}catch(e){}return[2]})})).apply(this,arguments)}(r=a||(a={})).QuestionAssociationTabClicked="questionAssociationTabClicked",r.MindMappingTabClicked="mindMappingTabClicked",r.QuestionAssociationItemClicked="questionAssociationItemClicked",r.MindMappingReferenceError="mindMappingReferenceError",r.GoToXiezuocatWrite="goToXiezuocatWrite",r.GoToXiezuocatWriteFailed="goToXiezuocatWriteFailed",r.ExportFile="exportFile",r.ExportFileFailed="exportFileFailed",r.ExportToXiezuocat="exportToXiezuocat",r.ExportToXiezuocatFailed="exportToXiezuocatFailed",r.NETWORK_INTERCEPTOR_ERROR="network_interceptor_error",r.SEARCH_MODE_ERROR="search_mode_error",r.SEARCH_UNKNOWN_ERROR="frontpage_search_unknown_error",r.CREATE_SESSION_TIME_LOG="metaso_create_session_time_log",r.GET_SESSION_TIME_LOG="metaso_get_session_time_log",r.WX_SDK_SHARE_CONFIG_GET_ERROR="metaso_wx_sdk_share_config_get_error",r.SEARCH_SKELETON_DISAPPEAR_TIME_TOO_LONG="metaso_search_skeleton_disappear_time_too_long",r.MIND_MAPPING_REQUEST_ERROR="mind_mapping_request_error",r.MIND_MAPPING_LOAD_DATA_ERROR="mind_mapping_load_data_error",r.OPEN_SEARCH_REFERENCE_LOG="open_search_reference_log",r.SEARCH_FINISH_FRONTPAGE_SPEND_TIME="SEARCH_FINISH_FRONTPAGE_SPEND_TIME",r.SEARCH_RETURN_LINK_SPEND_TIME="search_return_link_spend_time",r.SEARCH_RETURN_TEXT_SPEND_TIME="search_return_text_spend_time",r.SEARCH_SELECT_TEXT_TOOL_CLICKED="search_select_text_tool_clicked",r.CREATE_EXTRA_BOX="create_extra_box",r.DELETE_EXTRA_BOX="delete_extra_box",r.SEARCH_RIGHT_BOX_MORE_ACTION_CLICKED="search_right_box_more_action_clicked",r.GET_SHARE_KEY_FAILED="get_share_key_failed",r.GENERATE_HTML_REPORT_ERROR="generate_html_report_error",r.PPT_LOAD="PPT-load",r.PPT_ERROR="ppt-error",r.GENERATE_QA_PPT_ERROR="generate_qa_ppt_error",r.QA_LISTEN_EXPLANATION="qa_listen_explanation",r.GENERATE_POSTER_START="generate_poster_start";var ec={key:"referrer_s",getDomain:function(){return"."+location.host.split(".").slice(-2).join(".")},get:function(){return localStorage.getItem(this.key)||C.ZP.load(this.key)},set:function(e){localStorage.setItem(this.key,e),C.ZP.save(this.key,e,{domain:this.getDomain(),path:"/"})},remove:function(){localStorage.removeItem(this.key),C.ZP.save(this.key,"",{expires:new Date(0),domain:this.getDomain(),path:"/"}),C.ZP.remove(this.key)}};function eu(e,t){return es.apply(this,arguments)}function es(){return(es=(0,c._)(function(e,t){var n,r,o,i,a,c,u,s,l=arguments;return(0,f.Jh)(this,function(f){return n=l.length>2&&void 0!==l[2]?l[2]:{},(r=(0,A.ZD)())&&r.deployType!==A.kV.dev&&((o=C.ZP.load("tid")||void 0)&&""!==o||((i=new Date).setFullYear(i.getFullYear()+2),a="."+location.host.split(".").slice(-2).join("."),C.ZP.save("tid",(0,T.DOL)(),{expires:i,path:"/",domain:a})),"object"==typeof t&&(c=C.ZP.load("sid"),t.sid=c,t.local_sid=z.Z.get()),u={event_name:e,text:JSON.stringify(t),project_name:r.projectName,value:1},(s=ec.get())&&(n.referrer_s=s),n.tid=o,u.extra=JSON.stringify(n),ei(u)),[2]})})).apply(this,arguments)}var el=function(e){};function ef(){return"undefined"!=typeof navigator&&!!navigator.userAgent.match(/Version\/([\d.]*) Safari/i)}function ed(){return"undefined"!=typeof navigator&&!!navigator.userAgent.match(/applewebkit\/([\d.]* \(.*\) version\/([\d.]*) mobile\/[\d\w]* safari)/i)}function ep(){return"undefined"!=typeof navigator&&!!navigator.userAgent.match(/Firefox\/(\d*)/i)}function eh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"XwKsGlMcdPMEhR1B",n=x().enc.Utf8.parse(t),r=x().enc.Utf8.parse(e);return x().AES.encrypt(r,n,{mode:x().mode.ECB,padding:x().pad.Pkcs7}).toString()}function em(e){return"AbortError"===e.name||e instanceof E.ty}function eg(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}var ev=function(e){return"https://metaso.cn/s/"+e};function e_(e){return e.toString().padStart(2,"0")}function ey(e,t){if("string"==typeof e&&(e.match(/^\d{4}$/)||e.match(/^\d{4}-\d{1,2}-\d{1,2}$/)&&"-"===t))return e;if("string"!=typeof e||e.match(/^\d+$/)){if("number"==typeof e||"string"==typeof e&&e.match(/^\d+$/)){"string"==typeof e&&(e=parseInt(e));var n=e.toString();n.length<13&&(e*=Math.pow(10,13-n.length));var r=new Date(e);return"".concat(r.getFullYear()).concat(t).concat(e_(r.getMonth()+1)).concat(t).concat(e_(r.getDate()))}}else{var o=/[年月日]/;e.match(/\d{4}-\d{1,2}-\d{1,2}/)&&(o=/-/);var i=e.split(o),a=i[0],c=parseInt(i[1]),u=parseInt(i[2]);return"".concat(a).concat(c?"".concat(t).concat(e_(c)):"").concat(u?"".concat(t).concat(e_(u)):"")}return e}function eS(e){var t=(0,s._)(e.split("-"),3),n=t[0],r=t[1],o=t[2];return new Date().getFullYear()===parseInt(n)?"".concat(e_(parseInt(r)),"/").concat(e_(parseInt(o))):"".concat(n,"/").concat(e_(parseInt(r)),"/").concat(e_(parseInt(o)))}function eb(e){return e?e.replaceAll("\n"," ").trim():""}var ew=new Set(["million","billion","thousand","hundred"]);function eE(e){return e.replace(/\\[\[(]([\s\S]+?)\\[\])]/g,function(e,t){return"$$"+t+"$$"}).replace(/(\${1,2})([^$`]+)(\${1,2})/g,function(e,t,n,r){if(1==t.length&&1==r.length){var o=!1;if(n.match(/[\u4e00-\u9fa5]/g)||n.match(/<span/gi))o=!0;else for(var i=n.replaceAll(/\d/g,"").split(" "),a=0,c=0;c<i.length;c++){var u=i[c];if(!u.startsWith("\\")&&(ew.has(u.toLowerCase())||u.length>4&&++a>4)){o=!0;break}}if(o)return"&#36;"+n+"&#36;"}return e=e.replace(/(\\text\{(.*·.*)})/g,function(e){return e.replace(/·/g,".")})}).replaceAll(/`+[^`]+`+/g,function(e){return e.replaceAll("&#36;","$")})}function eC(e){return e.replaceAll(/<(\/*)([^>]+)>/g,function(e,t,n){return"&lt;"+t+n+"&gt;"}).replaceAll(/`+[^`]+`+/g,function(e){return e.replaceAll("&lt;","<").replaceAll("&gt;",">")})}function eT(e){var t=0,n=0,r=0;return(0,l._)(e).forEach(function(e){e>="a"&&e<="z"||e>="A"&&e<="Z"?t++:e>="一"&&e<="龥"?n++:r++}),n<t||n<r}function ek(e){for(var t=0,n=0,r=!1,o="",i=/[a-zA-Z]/,a=/[\u4e00-\u9fa5]/,c=0;c<e.length;c++){var u=e.charAt(c);i.test(u)?(o+=u,r=!0):(r&&o.length>0&&(t++,o="",r=!1),a.test(u)&&n++)}return r&&o.length>0&&t++,{englishWordCount:t,chineseCharCount:n}}function ex(e){return/[\u3040-\u309F]/.test(e)||/[\u30A0-\u30FF]/.test(e)}function eA(e){var t=ek(e);return t.englishWordCount>=t.chineseCharCount}function eN(e){var t=ek(e);return t.englishWordCount>t.chineseCharCount?"":",".concat(e)}function eI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!e)return e;var n="&".concat("[class]".repeat(t));return function e(t){return Array.isArray(t)?t.map(function(t){return e(t)}):"function"==typeof t?function(e){return(0,u._)({},n,t(e))}:(0,u._)({},n,t)}(e)}function eP(e){try{window.usermaven("track",e)}catch(e){}}var eR={isQQ:!1,version:0};function eM(){if("undefined"==typeof navigator)return eR;var e=navigator.userAgent,t=e.match(/MQQBrowser\/(\d+(?:\.\d+)?)/i),n=t?parseFloat(t[1]):0,r=!!t&&!/micromessenger/i.test(e)&&!/QQ\/([\d\.]+)/.test(e);return r?{isQQ:r,version:n}:eR}function eO(e,t){var n=new URL(e);return Object.entries(t).forEach(function(e){var t=(0,s._)(e,2),r=t[0],o=t[1];if(void 0!==o&&"undefined"!==o&&null!==o&&"null"!==o){if(o instanceof Array){var i=!0,a=!1,c=void 0;try{for(var u,l=o[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var f=u.value;n.searchParams.append(r,f)}}catch(e){a=!0,c=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw c}}}else n.searchParams.set(r,o)}}),n.href}function eD(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length)return t.reduce(function(e,t){return t?Array.isArray(e)&&!e.length?t:(0,l._)(Array.isArray(e)?e:[e]).concat((0,l._)(Array.isArray(t)?t:[t])):e},[])}function eL(e){var t=localStorage.getItem(e),n=new Map;return t?(JSON.parse(t).forEach(function(e){n.set(e.key,e)}),n):new Map}function eU(e,t,n,r){var o=eL(e);o.set(t,{key:t,item:n});var i=Array.from(o.values());if(i.length>r){for(var a=0;a<i.length;a++)if(i[a].key!==t){i.splice(a,1);break}}try{localStorage.setItem(e,JSON.stringify(i))}catch(t){localStorage.removeItem(e),localStorage.setItem(e,JSON.stringify(i))}}function eF(e,t){var n=eL(e);n.delete(t);var r=Array.from(n.values());localStorage.setItem(e,JSON.stringify(r))}var ej=function(e){try{clearInterval(e)}catch(e){}},ez=function(e){var t=Math.floor(e/864e5);if(t)return"".concat(t,"天");var n=Math.floor(e/36e5);if(n)return"".concat(n,"小时");var r=Math.floor(e/6e4);return r?"".concat(r,"分钟"):"刚刚"},eH=function(e){e.replace(N.l.Home)};function eB(){return"undefined"!=typeof localStorage&&localStorage.getItem("isTraditionalSearchEngineModeActive")?"AI":"全网"}function eW(e,t){var n=document.createRange(),r=function e(t,n){var r,o=0,i=null===(r=t.textContent)||void 0===r?void 0:r.indexOf(n),a={startNode:t,endNode:t,startPos:0,endPos:0};if(void 0!==i){var c=i+n.length;if(t.nodeType===Node.TEXT_NODE&&t.textContent)return{startNode:t,endNode:t,startPos:i,endPos:i+n.length};for(var u=0;u<t.childNodes.length;u++){var s=t.childNodes.item(u);if(s.textContent){if(o<=i&&o+s.textContent.length>i){var l=e(s,s.textContent.substring(i-o));a.startNode=l.startNode,a.startPos=l.startPos;break}o+=s.textContent.length}}o=t.textContent.length;for(var f=t.childNodes.length-1;f>=0;f--){var d=t.childNodes.item(f);if(d.textContent){if(o>=c&&o-d.textContent.length<c){var p=e(d,d.textContent.substring(0,d.textContent.length-(o-c)));a.endNode=p.endNode,a.endPos=p.endPos;break}o-=d.textContent.length}}}return a}(t,e);return n.setStart(r.startNode,r.startPos),n.setEnd(r.endNode,r.endPos),n}function eK(e){for(var t=e.slice(),n=0;n<t.length;n++)for(var r=t[n],o=0;o<t.length;o++)if(n!==o){var i=t[o];if(i.left<=r.left&&i.right>=r.right&&i.top<=r.top&&i.bottom>=r.bottom){t.splice(n,1),n--;break}}return t}var eV=function(e){return!!RegExp("^(https?:\\/\\/)(([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3})(\\:\\d+)?(\\/[-a-z\\d%_.&#126;+]*)*(\\?[;&a-z\\d%_.&#126;+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)};function eJ(e){switch(e){case I.rG.SCHOLAR:return{fill:"#9E77ED",stroke:"#F4EBFF",name:"学术",value:I.rG.SCHOLAR};case I.rG.PODCAST:return{fill:"#F79009",stroke:"#FEF0C7",name:"播客",value:I.rG.PODCAST};case I.rG.WEBPAGE:return{fill:"#2E90FA",stroke:"#D1E9FF",name:"网页",value:I.rG.WEBPAGE};case I.rG.PDF:return{fill:"#E62E05",stroke:"#FFE6D5",name:"文库",value:I.rG.PDF};case I.rG.KNOWLEDGE:return{fill:"rgba(23, 178, 106, 1)",stroke:"rgba(220, 250, 230, 1)",name:"我的",value:I.rG.KNOWLEDGE};case I.rG.IMAGE:return{fill:"rgba(6, 174, 212, 1)",stroke:"rgba(207, 249, 254, 1)",name:"图片",value:I.rG.IMAGE};case I.rG.VIDEO:return{fill:"#E922D9",stroke:"#FFE5FD",name:"视频",value:I.rG.VIDEO}}return{fill:"#2E90FA",stroke:"#D1E9FF",name:eB(),value:I.rG.DEFAULT}}var eZ=function(){return"undefined"!=typeof navigator&&!!navigator.userAgent.match(/bdhonorbrowser/i)};function eG(){return"新建文件夹"}function eq(){return"新建文件-".concat(M()(new Date).format("YYYYMMDD"),"-").concat(String(Date.now()).slice(-4)+w()())}function eY(e){return e.indexOf("/api/file")>=0&&e.indexOf("/preview")>=0}function eX(e){var t=new Date;return 60>Math.floor((t-e)/1e3)?"刚刚":t.toDateString()===e.toDateString()?"".concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0")):0==t.getFullYear()-e.getFullYear()?"".concat((e.getMonth()+1).toString().padStart(2,"0"),"-").concat(e.getDate().toString().padStart(2,"0")," ").concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0")):"".concat(e.getFullYear(),"-").concat((e.getMonth()+1).toString().padStart(2,"0"),"-").concat(e.getDate().toString().padStart(2,"0")," ").concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0"))}var eQ=(o=(0,c._)(function(e,t){return(0,f.Jh)(this,function(n){return[2,U.instance.put("share_cache_session_"+e,t).catch(function(e){})]})}),function(e,t){return o.apply(this,arguments)}),e$=(i=(0,c._)(function(e){return(0,f.Jh)(this,function(t){return[2,U.instance.get("share_cache_session_"+e).catch(function(e){})]})}),function(e){return i.apply(this,arguments)});function e0(e){return e.replace(/\[\[\d+\]\]/g,"").replace(/\*\*/g,"").replace(/\#/g,"").replace(/!\[.*\]\(.*\)/g,"").replace(/```/g,"")}var e1=function(){if("undefined"==typeof navigator)return"unknown";var e=navigator.userAgent||navigator.vendor||window.opera;return e.match(/iPhone/i)||e.match(/iPad/i)||e.match(/iPod/i)?"ios":e.match(/Android/i)?"android":"unknown"},e2=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,r=e.scrollTop,o=t-r,i=performance.now(),a=function(u){var s=Math.min((u-i)/n,1),l=r+o*c(s);e.scrollTop=l,s<1?requestAnimationFrame(a):e.scrollTop=t},c=function(e){return e<.5?2*e*e:-1+(4-2*e)*e};requestAnimationFrame(a)};function e3(e,t){return 1-function(e,t){for(var n=e.length,r=t.length,o=Array.from({length:n+1},function(){return Array(r+1).fill(0)}),i=0;i<=n;i++)o[i][0]=i;for(var a=0;a<=r;a++)o[0][a]=a;for(var c=1;c<=n;c++)for(var u=1;u<=r;u++)e[c-1]===t[u-1]?o[c][u]=o[c-1][u-1]:o[c][u]=Math.min(o[c-1][u]+1,o[c][u-1]+1,o[c-1][u-1]+1);return o[n][r]}(e,t)/Math.max(e.length,t.length)}function e5(e){var t=[],n=document.createTreeWalker(e.commonAncestorContainer,NodeFilter.SHOW_TEXT,{acceptNode:function(t){return e.intersectsNode(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r=n.currentNode;for(r.nodeType!==Node.TEXT_NODE&&(r=n.nextNode());r;){var o=r,i=0,a=o.length;if(o===e.startContainer&&(i=e.startOffset),o===e.endContainer&&(a=e.endOffset),i!==a){var c=document.createRange();c.setStart(o,i),c.setEnd(o,a);var u=c.getClientRects(),s=!0,l=!1,f=void 0;try{for(var d,p=u[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var h=d.value;h.width>0&&h.height>0&&t.push({left:h.left,top:h.top,width:h.width,height:h.height,bottom:h.top+h.height,right:h.left+h.width})}}catch(e){l=!0,f=e}finally{try{s||null==p.return||p.return()}finally{if(l)throw f}}}r=n.nextNode()}return t}var e4=function(e){var t=e.split(";base64,");if(2!==t.length)throw Error("Invalid Base64 data format.");var n=t[0].split(":")[1],r=t[1],o=new Uint8Array(r.length);try{for(var i=window.atob(r),a=0;a<i.length;++a)o[a]=i.charCodeAt(a)}catch(e){throw Error("Failed to decode Base64 data: "+e.message)}return new Blob([o],{type:n})},e6=function(e,t){var n=e4(e),r=window.URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.download=t||"image.png",document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(r)},e7=function(e){var t=Math.floor(e/3600),n="";return t>0&&(n+="".concat(t,":")),n+="".concat(String(Math.floor(e%3600/60)).padStart(2,"0"),":").concat(String(e%60).padStart(2,"0"))},e8=function(e,t,n){var r=/^第\s*\d+\s*章\s+/;return r.test(e)&&(e=n?e.replace(r,function(e){return e.replace("章","讲 "+n+" ")}):e.replace(r,function(e){return e.replace("章","讲")})),t.length>0&&!/^第\s*\d+\s*讲/.test(e)&&(e=n?"第"+t+"讲 "+n+" "+e:"第"+t+"讲 "+e),e},e9=function(e){if(e.name){var t=e.name.split(".");return t[t.length-1]}return""},te=function(e){for(var t=e.size,n=tt(t),r=0,o=Math.min(n,t),i=[];r<t;){var a=e.slice(r,o);i.push(a),o=Math.min((r=o)+n,t)}return i},tt=function(e){return e<=H.d3?e:H.d3}},8294:function(e,t,n){"use strict";n.d(t,{w$:function(){return o},ze:function(){return _}});var r,o,i=n(2403),a=n(2473),c=n(60225),u=n(5194),s=n(50059),l=n(5853),f=n(39207),d=n(7870),p=n(89831),h=n(99081),m=n(64927),g=n.n(m),v={OVERFLOW_LIMIT:"overflow_limit",SENSITIVE_CHECK_FAILED:"sensitive_check_failed",RECONNECTING:"reconnecting",RECONNECT_SUCCESS:"reconnect_success",MAX_RECONNECT_ATTEMPTS_REACHED:"max_reconnect_attempts_reached"},_={FATAL_ERROR:"fatal_error",CANCEL:"cancel"};function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";if("GET"!==n){var r={};return t.hasOwnProperty("shareKey")&&t.shareKey&&(r.shareKey=t.shareKey,delete t.shareKey),t.hasOwnProperty("shareType")&&t.shareType&&(r.shareType=t.shareType,delete t.shareType),function(e,t){if(!t||0===Object.keys(t).length)return e;var n=e.indexOf("?"),r=n>=0?e.substring(0,n):e,o=n>=0?e.substring(n+1):"",i=o?g().parse(o):{},a=(0,u._)({},i,t);return"".concat(r,"?").concat(g().stringify(a,{arrayFormat:"repeat"}))}(e,r)}var o=e,i=o.lastIndexOf("?"),a=Object.entries(t).map(function(e){var t=(0,s._)(e,2),n=t[0],r=t[1];return null!=r?"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent("object"==typeof r?JSON.stringify(r):r)):""}).filter(function(e){return e.trim().length>0}).join("&");return i>-1?o+="&"+a:o+="?"+a,o}(r=o||(o={})).GET="GET",r.POST="POST";var S=function(){function e(t){var n,r,o,i,c,u,s,l,f,d;(0,a._)(this,e),this._isOffline=!1,this.firstMessageReceived=!1,this.lastMessageIndex=0,this.currentMessageIndex=0,this._abortController=null,this.stream=t,this.tempMd="",this.params=null,this.eventSource=null,this._startTime=new Date,this._url="",this._reconnectAttempts=0,this._isManualStop=!1,this._isConnected=!1,this._reconnectTimer=null,this._lastHeartbeatTime=Date.now(),this._heartbeatTimer=null,this._method=t.method||"GET",this._reconnectConfig={maxAttempts:null!==(u=null===(n=t.reconnectConfig)||void 0===n?void 0:n.maxAttempts)&&void 0!==u?u:100,initialDelay:null!==(s=null===(r=t.reconnectConfig)||void 0===r?void 0:r.initialDelay)&&void 0!==s?s:1e3,maxDelay:null!==(l=null===(o=t.reconnectConfig)||void 0===o?void 0:o.maxDelay)&&void 0!==l?l:3e4,backoffMultiplier:null!==(f=null===(i=t.reconnectConfig)||void 0===i?void 0:i.backoffMultiplier)&&void 0!==f?f:2,enableReconnect:null===(d=null===(c=t.reconnectConfig)||void 0===c?void 0:c.enableReconnect)||void 0===d||d}}var t=e.prototype;return t.stop=function(){this._isManualStop=!0,this._clearTimers(),this._closeConnection()},t.cancel=function(){this._isManualStop=!0,this._clearTimers(),this._closeConnection()},t._closeConnection=function(){"GET"===this._method?b(this.eventSource):this._abortController&&(this._abortController.abort(),this._abortController=null)},t._clearTimers=function(){this._reconnectTimer&&(clearTimeout(this._reconnectTimer),this._reconnectTimer=null),this._heartbeatTimer&&(clearInterval(this._heartbeatTimer),this._heartbeatTimer=null)},t._shouldReconnect=function(e){return!this._isManualStop&&!!this._reconnectConfig.enableReconnect&&!(this._reconnectAttempts>=this._reconnectConfig.maxAttempts)},t._calculateReconnectDelay=function(){return Math.min(this._reconnectConfig.initialDelay*Math.pow(this._reconnectConfig.backoffMultiplier,this._reconnectAttempts),this._reconnectConfig.maxDelay)+1e3*Math.random()},t._startHeartbeat=function(){var e=this;this._lastHeartbeatTime=Date.now(),this._heartbeatTimer=setInterval(function(){Date.now()-e._lastHeartbeatTime>3e4&&(e.params.retrytimes=e._reconnectAttempts,(0,d.dW)("wait-heartbeat-too-long",e.params),e._heartbeatTimer&&(clearInterval(e._heartbeatTimer),e._heartbeatTimer=null))},1e4)},t._updateHeartbeat=function(){this._lastHeartbeatTime=Date.now()},t._handleConnectionError=function(e){var t=this;if(this._isConnected=!1,this._shouldReconnect(e)){this._reconnectAttempts++;var n=this._calculateReconnectDelay();if(this._closeConnection(),this.stream.commonEventListener)try{this.stream.commonEventListener(v.RECONNECTING,{attempt:this._reconnectAttempts,maxAttempts:this._reconnectConfig.maxAttempts,delay:n})}catch(e){}this._reconnectTimer=setTimeout(function(){t._reconnect()},n)}else if(this._reconnectAttempts>=this._reconnectConfig.maxAttempts&&this.stream.commonEventListener&&this.stream.commonEventListener(v.MAX_RECONNECT_ATTEMPTS_REACHED,{attempts:this._reconnectAttempts}),this.stream.error&&!this._isOffline)try{this.stream.error(e)}catch(e){}},t._reconnect=function(){this.firstMessageReceived=!1,this.currentMessageIndex=0,this._isManualStop||(this._closeConnection(),this.params.reconnect=!0,this._createConnection())},t._processMessage=function(e){if("[DONE]"===e){this._isConnected=!1,this._clearTimers(),this.stream.down(this.params,this.tempMd),this._closeConnection();return}if("[LIMIT]"===e){this.stream.commonEventListener&&this.stream.commonEventListener(v.OVERFLOW_LIMIT,this.params),this.stream.error({code:-1,msg:"字数超限"});return}if("[INPUT_SENSITIVE]"===e){this.stream.commonEventListener&&this.stream.commonEventListener(v.SENSITIVE_CHECK_FAILED,this.params),this.stream.error({code:-2,msg:"输入敏感词"});return}if("[OUTPUT_SENSITIVE]"===e){this.stream.commonEventListener&&this.stream.commonEventListener(v.SENSITIVE_CHECK_FAILED,this.params),this.stream.error({code:-3,msg:"输出敏感词"});return}if("[TOO_MANY_REQUESTS]"===e){this.stream.error({code:p.cO.TOO_MANY_REQUESTS,msg:"请求频繁"});return}if("[TOO_MANY_REQUESTS2]"===e){this.stream.error({code:p.cO.TOO_MANY_REQUESTS2,msg:"请求频繁"});return}try{var t,n,r=JSON.parse(e);if(null===(t=(n=this.stream).beforeSkip)||void 0===t||t.call(n,this.currentMessageIndex,r),"heartbeat"!==r.type){if(this.currentMessageIndex<this.lastMessageIndex){this.currentMessageIndex++;return}this.currentMessageIndex++,this.lastMessageIndex++}}catch(e){if(this.currentMessageIndex<this.lastMessageIndex){this.currentMessageIndex++;return}this.currentMessageIndex++,this.lastMessageIndex++}this._updateHeartbeat();try{this.stream.receive(JSON.parse(e))}catch(t){throw(0,d.dW)("event-parse-chunk-error",e),t}},t._createEventSourceConnection=function(){var e=this,t=new EventSource(y("".concat("https://metaso.cn","/").concat(this._url),this.params,"GET"),{withCredentials:!0});this.eventSource&&b(this.eventSource),this.eventSource=t,t.addEventListener("open",function(t){e._isConnected=!0,e._reconnectAttempts=0,e._updateHeartbeat(),e._startHeartbeat(),0===e._reconnectAttempts&&(e.tempMd="",e.stream.begin()),e.stream.commonEventListener&&e.stream.commonEventListener(v.RECONNECT_SUCCESS,{attempt:e._reconnectAttempts})}),t.addEventListener("message",function(t){e._processMessage(t.data)}),t.addEventListener("error",function(t){e._clearTimers(),e._handleConnectionError(t)})},t._createFetchEventSourceConnection=function(){var e,t=this,n=y("".concat("https://metaso.cn","/").concat(this._url),this.params,this._method);this._abortController=new AbortController;var r=this;(0,h.L)(n,{method:this._method,headers:(0,u._)({"Content-Type":"application/json"},f.vOA.headers),body:JSON.stringify(this.params),signal:this._abortController.signal,openWhenHidden:!0,onopen:(e=(0,i._)(function(e){var t;return(0,l.Jh)(this,function(n){if(e.ok&&(null===(t=e.headers.get("content-type"))||void 0===t?void 0:t.includes("text/event-stream")))return r._isConnected=!0,r._reconnectAttempts=0,r._updateHeartbeat(),r._startHeartbeat(),0===r._reconnectAttempts&&(r.tempMd="",r.stream.begin()),r.stream.commonEventListener&&r.stream.commonEventListener(v.RECONNECT_SUCCESS,{attempt:r._reconnectAttempts}),[2];throw Error("连接失败: ".concat(e.status," ").concat(e.statusText))})}),function(t){return e.apply(this,arguments)}),onmessage:function(e){t._processMessage(e.data)},onerror:function(e){throw t._clearTimers(),t._handleConnectionError(e),e},onclose:function(){t._isManualStop||t._handleConnectionError(Error("Connection closed unexpectedly"))}}).catch(function(e){"AbortError"!==e.name&&t._handleConnectionError(e)})},t._createConnection=function(){"GET"===this._method?this._createEventSourceConnection():this._createFetchEventSourceConnection()},t.post=function(e,t){var n;this._url=e,this.params=t,this._startTime=new Date,this._isManualStop=!1,this._reconnectAttempts=0,Object.assign(t=t||{},f.vOA.headers),Object.assign(t,{token:null===(n=document.querySelector("#meta-token"))||void 0===n?void 0:n.getAttribute("content")}),this.params=t,this._createConnection(),window.addEventListener("online",this._handleNetworkOnline.bind(this)),window.addEventListener("offline",this._handleNetworkOffline.bind(this))},t._handleNetworkOnline=function(){this._isOffline=!1,this._isConnected||this._isManualStop||!this._reconnectConfig.enableReconnect||this._reconnect()},t._handleNetworkOffline=function(){this._isOffline=!0,this._isConnected=!1,this._clearTimers()},t.destroy=function(){this._isManualStop=!0,this._clearTimers(),this._closeConnection(),window.removeEventListener("online",this._handleNetworkOnline.bind(this)),window.removeEventListener("offline",this._handleNetworkOffline.bind(this))},t.mergeParams=function(e){this.params=(0,u._)({},this.params,e)},(0,c._)(e,[{key:"startTime",get:function(){return this._startTime}},{key:"isConnected",get:function(){return this._isConnected}},{key:"reconnectAttempts",get:function(){return this._reconnectAttempts}}]),e}();function b(e){if(e)try{e.close()}catch(e){}}t.ZP=S},97635:function(e,t,n){"use strict";n.d(t,{b2:function(){return c}});var r=n(2473),o=n(8294),i=function(){function e(t,n,o,i){(0,r._)(this,e),this.history=[],this.isReplay=!1,this.firstLinkReceived=!1,this.firstTextReceived=!1,this.connectSpendTime=0,this.firstLinkSpendTime=0,this.firstTextSpendTime=0,this.id=t,this.startTime=new Date,this.callbacks=o||{},this.setupGenerator(n,i),this.generator.post("api/searchV2",n)}var t=e.prototype;return t.getStartTime=function(){return this.startTime},t.isPPTSearch=function(){return!!this.generator.params.pptId},t.setupGenerator=function(e,t){var n=this,r={method:t?o.w$.POST:o.w$.GET,commonEventListener:function(e,t){n.callbacks.commonEventListener&&n.callbacks.commonEventListener(e,t)},checkCancel:function(){return!!n.callbacks.checkCancel&&n.callbacks.checkCancel()},down:function(e,t){n.isReplay||n.history.push({type:"down",data:{params:e,tempMd:t}}),n.callbacks.down&&n.callbacks.down(e,t)},error:function(e){n.isReplay||n.history.push({type:"error",data:e}),n.callbacks.error&&n.callbacks.error(e)},receive:function(e){n.logFirstTextTime(e),n.isReplay||n.history.push({type:"receive",data:e}),n.callbacks.receive&&n.callbacks.receive(e)},begin:function(){n.connectSpendTime=new Date().getTime()-n.startTime.getTime(),n.isReplay||n.history.push({type:"begin"}),n.callbacks.begin&&n.callbacks.begin()},beforeSkip:function(e,t){var r,o;null===(r=(o=n.callbacks).beforeSkip)||void 0===r||r.call(o,e,t)}};this.generator=new o.ZP(r)},t.logFirstTextTime=function(e){try{!this.firstLinkReceived&&"type"in e&&"set-reference"==e.type?(this.firstLinkReceived=!0,this.firstLinkSpendTime=new Date().getTime()-this.startTime.getTime()):!this.firstTextReceived&&"type"in e&&"append-text"==e.type&&e.text.trim().length>0&&(this.firstTextReceived=!0,this.firstTextSpendTime=new Date().getTime()-this.startTime.getTime())}catch(e){}},t.afterFinished=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t?setTimeout(function(){u(e.id)},1e4):u(this.id)},t.updateCallbacks=function(e){this.callbacks=e},t.replay=function(){this.isReplay=!0;var e=!0,t=!1,n=void 0;try{for(var r,o=this.history[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i,a,c,u,s,l,f,d,p=r.value;switch(p.type){case"begin":null===(i=(a=this.callbacks).begin)||void 0===i||i.call(a);break;case"receive":null===(c=(u=this.callbacks).receive)||void 0===c||c.call(u,p.data);break;case"down":null===(s=(l=this.callbacks).down)||void 0===s||s.call(l,p.data.params,p.data.tempMd);break;case"error":null===(f=(d=this.callbacks).error)||void 0===f||f.call(d,p.data)}}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}this.isReplay=!1},t.stop=function(){this.generator.stop(),this.afterFinished(!1)},t.cancel=function(){this.generator.cancel(),this.afterFinished(!1)},t.mergeParams=function(e){this.generator.mergeParams(e)},e}(),a=new Map;function c(e,t,n,r){var o;return a.has(e)?(o=a.get(e),r&&r(o),n&&(o.updateCallbacks({commonEventListener:n.commonEventListener,checkCancel:n.checkCancel,down:n.down,error:n.error,receive:n.receive,begin:n.begin,beforeSkip:n.beforeSkip}),o.replay())):(o=new i(e,t,n,!0),a.set(e,o)),o}function u(e){a.has(e)&&a.delete(e)}},74634:function(e,t,n){"use strict";n.d(t,{AO:function(){return G},F:function(){return B},I1:function(){return z},Rx:function(){return r},SB:function(){return X},U8:function(){return L},Vo:function(){return j},W6:function(){return M},a8:function(){return P},dM:function(){return q},eI:function(){return Y},fl:function(){return R},g4:function(){return V},gU:function(){return O},j5:function(){return F},lR:function(){return J},mY:function(){return W},mk:function(){return H},sd:function(){return D},ud:function(){return Z}});var r,o,i=n(2403),a=n(2473),c=n(50059),u=n(85735),s=n(5853),l=n(2265),f=n(86185),d=n.n(f),p=n(20723),h=n.n(p),m=n(37065),g=n.n(m),v=n(63801),_=n(42233),y=n(25060),S=n(7870),b=n(39207),w=n(23760),E=n(95597),C=n(56412),T=n(16478),k=n(26058),x=n(75825),A=n(79943),N=v.ZP.rgb(255,255,255).bgHex("#cf8e6d"),I=(0,v.ZP.rgb(255,255,255).bgBlueBright)("useInnerProp: "),P=function(){var e=(0,c._)((0,l.useState)(!1),2),t=e[0],n=e[1];return(0,l.useEffect)(function(){n(!0)},[]),t},R=function(){var e=(0,l.useRef)(!1);return(0,l.useEffect)(function(){Promise.resolve().then(function(){return e.current=!0})},[]),e},M=function(e,t){var n=(0,l.useCallback)(e,t),r=(0,l.useRef)(n);return(0,l.useEffect)(function(){r.current=n},[n]),[r,n]},O=function(e,t){var n=R();(0,l.useEffect)(function(){if(n.current)return e()},t)},D=function(){var e=(0,c._)((0,l.useState)({isQQ:!1,version:0}),2),t=e[0],n=e[1];return(0,l.useLayoutEffect)(function(){n((0,S.kn)())},[]),t};function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isControlled:!0},r=n.onChanged,o=n.onChange,i=(n.id,n.isControlled),a=void 0===i||i,s=(0,l.useState)(void 0!==e?e:t),f=(0,c._)(s,2),d=f[0],p=f[1],h=(0,l.useRef)(d),m=(0,l.useRef)("undefined"!==e?"external":"default"),g=(0,l.useRef)(!1);(0,l.useEffect)(function(){if(void 0===e){g.current;return}m.current="external",p(e)},[e]);var v=P();(0,l.useEffect)(function(){h.current=d,(void 0!==d||!g.current)&&v&&(g.current=!0,null==r||r(d,m.current))},[d]);var y=(0,l.useRef)(o);(0,l.useEffect)(function(){y.current=o},[o]);var S=[d,function(t){var n,r="function"==typeof t?t(d):t;return(h.current!==r&&(null===(n=y.current)||void 0===n||n.call(y,r)),void 0!==e&&a)?(_.yG&&console.log(I+N("(可忽略) 组件已有外部的状态(controlled component),不能再通过内部的set方法设置状态")),!1):(p(t),m.current="inner",!0)}];return(0,u._)(S).concat([m.current])}var U=function(){function e(t){(0,a._)(this,e),this.cached=Array.from(t||[])}var t=e.prototype;return t.pop=function(){return this.cached.pop()},t.push=function(e){return this.cached.push(e)},t.peek=function(){return d()(this.cached)},t.clear=function(){this.cached=[]},e}();function F(e,t){var n=(0,c._)((0,l.useState)(e),2),r=n[0],o=n[1],i=(0,l.useCallback)(function(e){s.current="inner",o(e)},[]),a=(0,l.useRef)(!1),u=(0,l.useDeferredValue)(r),s=(0,l.useRef)("default"),f=(0,l.useMemo)(function(){return g()(function(e){p.current.push(e)},300)},[]);(0,l.useEffect)(function(){"external"!==s.current||a.current||(d.current.clear(),f(u))},[r,f]);var d=(0,l.useRef)(new U),p=(0,l.useRef)(new U),h=(0,l.useCallback)(function(e,n){if(void 0===e)return null==t||null===(a=t.afterStackChange)||void 0===a||a.call(t,e,n,!1,s.current),!1;var o,a,c=null==t?void 0:t.beforeStackChange,u=void 0===c?e:c(e,n,s.current);return n.push(r),i(u),null==t||null===(o=t.afterStackChange)||void 0===o||o.call(t,u,n,!0,s.current),!0},[r,null==t?void 0:t.beforeStackChange,o]);return[r,function(e){s.current="external",o(e)},s.current,{redo:function(){return!a.current&&h(d.current.pop(),p.current)},undo:function(){return f.cancel(),!a.current&&h(p.current.pop(),d.current)},switch:function(e){a.current=void 0===e?!a.current:!e},getStacks:function(){return{redo:d.current,undo:p.current}}},a]}var j=function(e,t,n){var r=(0,l.useRef)();return(0,l.useEffect)(function(){document.addEventListener(e,t,n);var o=function(){document.removeEventListener(e,t)};return r.current=o,o},[e,t,n]),function(){var e;null===(e=r.current)||void 0===e||e.call(r)}};function z(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,l.useMemo)(function(){return(0,S.er)()},[]),r=(0,l.useRef)(!1),o=(0,l.useRef)(!0);return{onKeyDown:function(n){return(0,i._)(function(){var i;return(0,s.Jh)(this,function(a){return((null===(i=n.key)||void 0===i?void 0:i.toUpperCase())==="ESCAPE"&&(n.stopPropagation(),n.preventDefault()),o.current)?"Enter"!==n.key||r.current||t||n.shiftKey||(n.preventDefault(),e()):o.current=!0,[2]})})()},onCompositionStart:function(e){r.current=!0},onCompositionEnd:function(e){n||(o.current=!e.nativeEvent.isTrusted),r.current=!1}}}var H=void 0;function B(){return(0,l.useMemo)(function(){return void 0===H&&"undefined"!=typeof navigator&&(H=(0,y.pb)(navigator.userAgent)),H},[])}var W=function(e){return{onClick:function(t){e()}}};function K(e){return"current"in e&&e.current instanceof Element?e.current:e}function V(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"click",o=!(arguments.length>4)||void 0===arguments[4]||arguments[4],i=(0,l.useMemo)(function(){if("undefined"==typeof document)return[];var e=E.N.get(n);return e?Array.isArray(e)?h()(e,function(e,t){return t?(0,u._)(e).concat([K(t)]):e},[]):[K(e)]:[]},[n]),a=(0,l.useRef)(null),c=(0,l.useRef)(function(){});return(0,l.useEffect)(function(){if(e){var n=function(e){var n=e.target;!i.some(function(e){if(n instanceof Node)return e.contains(n)})&&(t(e),o&&c.current())};return a.current=n,document.addEventListener(r,n),c.current=function(){document.removeEventListener(r,n)}}},[e,i,t,r]),c}function J(e,t){var n=(0,c._)((0,l.useState)(e),2),r=n[0],o=n[1],i=P();return(0,l.useEffect)(function(){i&&o(t())},[i]),[r,o]}function Z(){var e=(0,w.LM)().setUsage;return(0,l.useCallback)((0,i._)(function(){var t;return(0,s.Jh)(this,function(n){switch(n.label){case 0:return[4,(0,b.Icd)()];case 1:return 0===(t=n.sent()).data.errCode&&e(t.data.data),[2]}})}),[])}(r||(r={})).ChangeTheme="change-theme",(o||(o={})).AndroidAPP="AndroidAPP";var G=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,l.useEffect)(function(){var r=function(r){try{var o=JSON.parse(r.data);"object"==typeof o&&"action"in o&&o.action===e?t(o.payload,o.from):(0,C.BM)(o)&&T.Xe.setWebCacheFromMessage(o)}catch(e){if(!n)return}};return window.addEventListener("message",r),function(){window.removeEventListener("message",r)}},[t,e,n])},q=function(){var e=(0,A.WS)(),t=B(),n=(0,l.useCallback)(function(){var e;return!!(t&&(null===(e=(0,k.ZD)())||void 0===e?void 0:e.isMiniWebView))},[t]),r=(0,l.useCallback)(function(){var t=n();return t&&e.push(x.l.DownloadApp),t},[n,e]);return{ifGoToDownloadAppPageAvailable:n,tryGoToDownloadAppPage:r}};function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return P()?screen.availWidth*e:"unavailable"}var X=function(){return void 0===H&&"undefined"!=typeof navigator&&(H=(0,y.pb)(navigator.userAgent)),H}},11183:function(e,t,n){"use strict";n.d(t,{C:function(){return b},Sv:function(){return y},cT:function(){return T},dw:function(){return S},hk:function(){return x},mH:function(){return k},uM:function(){return C}});var r=n(5194),o=n(1780),i=n(46796),a=n(50059),c=n(57437),u=n(2265),s=n(39207),l=n(7870),f=n(34040),d=n(75624),p=n(46075),h=n.n(p),m=n(7633),g=n.n(m),v=n(86602),_=n(27030),y=function(e,t,n){return"docx"===t?(0,s.Ydr)(e,n):"pdf"===t?(0,s.taO)(e,n):void 0},S=function(e,t,n){return"docx"===t?(0,s.kGl)(e,n):"pdf"===t?(0,s.COp)(e,n):void 0},b=(0,_.I)();b.done.catch(function(e){});var w=function(e){var t=(0,a._)((0,u.useState)({}),2),n=(t[0],t[1]),i=e.children,s=e.onMounted,f=e.variant,p=void 0===f?"normal":f,m=e.onUnMount,g=e._ref,_=e.drawerProps,y=(_||{}).open,S=(0,a._)((0,u.useState)(void 0!==y&&y),2),b=S[0],w=S[1],E=(0,a._)((0,u.useState)(!1),2),C=E[0],T=E[1];(0,u.useEffect)(function(){return null==s||s(),m},[s,m]),(0,u.useImperativeHandle)(g,function(){return{setOpen:w,setContent:T,reRender:function(){return n({})}}},[]);var k=(0,o._)((0,r._)({open:b,sx:(0,l.Vc)({".MuiDrawer-paper":{borderRadius:"flexible"===p?0:"10px 10px 0 0"}},null==_?void 0:_.sx)},h()(_,["open","sx"])),{children:i||C});return"normal"===p?(0,c.jsx)(d.ZP,(0,r._)({},k)):(0,c.jsx)(v.Z,(0,r._)({},k))},E=new Map;function C(e){var t,n,r,o=e.children,a=e.drawerProps,s=e.id,l=void 0===s?g()():s,d=e.onMounted,p=e.variant,h=e.onUnMount;if((0,i._)(e,["children","drawerProps","id","onMounted","variant","onUnMount"]),E.has(l)){var m=E.get(l);t=m.rootNode,n=m.hostRoot}else t=document.createElement("div"),n=(0,f.createRoot)(t),E.set(l,{hostRoot:n,rootNode:t});var v=null==a?void 0:a.transitionDuration,y="object"==typeof v?v.exit:v||300,S=(0,_.I)(),b=(0,u.createRef)();n.render((0,c.jsx)(w,{drawerProps:a,onMounted:function(){S.resolve(0),null==d||d()},_ref:b,onUnMount:h,variant:p,children:o}));var C=function(){var e;n.unmount(),null===(e=t.parentElement)||void 0===e||e.removeChild(t),E.delete(l)};return{close:function(){var e,t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(clearTimeout(r),!(null===(e=b.current)||void 0===e?void 0:e.setOpen)){C();return}b.current.setOpen(!1),t&&(r=setTimeout(C,y))},hide:function(){var e;(null===(e=b.current)||void 0===e?void 0:e.setOpen)&&b.current.setOpen(!1)},open:function(){var e;clearTimeout(r),(null===(e=b.current)||void 0===e?void 0:e.setOpen)&&b.current.setOpen(!0)},setContent:function(e){var t;null===(t=b.current)||void 0===t||t.setContent(e)},reRender:function(){var e;null===(e=b.current)||void 0===e||e.reRender()},unmount:C,mountedPro:S}}function T(e){var t=e.multiple,n=e.accept,r=e.isDir,o=e.onChange,i=document.createElement("div"),a=(0,f.createRoot)(i);a.render((0,c.jsx)(function(){var e=(0,u.useRef)(null);return(0,u.useEffect)(function(){e.current.click()},[]),(0,c.jsx)("input",{type:"file",ref:e,accept:n,onChange:function(e){o(e),a.unmount()},multiple:t,webkitdirectory:!!r&&""})},{}))}function k(){return n.e(94241).then(n.t.bind(n,94241,23)).then(function(e){return e.default})}function x(e,t){k().then(function(n){var r=e.replace(/[\/:]/g,"_");n.miniProgram.navigateTo({url:"/pages/Download?n="+encodeURIComponent(r)+"&d="+encodeURIComponent(t)})})}},54493:function(e,t,n){"use strict";n.d(t,{Jj:function(){return h},d3:function(){return m},dp:function(){return p}});var r=n(2473),o=n(53929),i=n(98158),a=n(77018),c=n(49699),u=n(13735),s=n.n(u),l=n(23006),f=n.n(l),d=n(89831),p=function(e){(0,o._)(n,e);var t=(0,c._)(n);function n(e,o){var i;return(0,r._)(this,n),(i=t.call(this,o)).code=e,i.name="NeedLoginError",i}return n.prototype.isNeedLoginError=function(){return n.isNeedLoginErrorCode(this.code)},n.isNeedLoginErrorCode=function(e){return e===d.cO.NO_AUTH||e===d.cO.CREDIT_RUN_OUT||e===d.cO.REMAIN_CREDIT},n.isRequestFrequentlyErrorCode=function(e){return e===d.cO.TOO_MANY_REQUESTS},n.isRequestFrequentlyErrorCode2=function(e){return e===d.cO.TOO_MANY_REQUESTS2},n}((0,a._)(Error)),h=function(e,t){var n,r,o;if(t=f()({ignore:[d.cO.SAFE]},t),(0,d.iR)(e)?r=e.data.errCode:(0,d.X2)(e.data)&&(r=e.data.code),o=s()(e.data,"msg")||s()(e.data,"errMsg")||"未知错误",t.ignore&&!(null===(n=t.ignore)||void 0===n?void 0:n.includes(r)))throw Error(o);return e},m=function(e){var t=void 0===e?"undefined":(0,i._)(e);return"object"===t?e.message||e.msg||e.errMsg||e.code||e.errCode||"未知错误":"string"===t||"number"===t?e:"未知错误"}},5263:function(e,t,n){"use strict";n.d(t,{ZP:function(){return p},d3:function(){return f},nR:function(){return d}});var r=n(2403),o=n(2473),i=n(60225),a=n(98158),c=n(5853),u=n(39207),s=n(68108),l=n(89831),f=5242880,d=31457280,p=function(){function e(t,n,r){(0,o._)(this,e),n&&(this._id=(0,s.Vj)(),this.folderId=t,this.file=n,this.partNum=0,this.config=r,this.stopSingle=!1,this.cancelSingle=!1,this._chunkProgress=0)}var t=e.prototype;return t.progress=function(e){return e.toFixed(1)},t.handleChunkSuccess=function(){var e,t;null===(t=this.config)||void 0===t||null===(e=t.onChunkSuccess)||void 0===e||e.call(t)},t.handleSuccess=function(){var e,t;null===(t=this.config)||void 0===t||null===(e=t.onSuccess)||void 0===e||e.call(t)},t.handleProgress=function(){this.chunkProgressTimer&&(this.chunkProgressTimer.stop(),this.chunkProgressTimer=null);var e=100/this.totalPart;this.chunkProgress=e*(this.partNum-1)},t.getChunks=function(){for(var e=0,t=Math.min(this.chunkSize,this.fileSize),n=[];e<this.fileSize;){var r=this.file.slice(e,t);n.push(r),t=Math.min((e=t)+this.chunkSize,this.fileSize)}return n},t.oUpload=function(){var e=this;return(0,r._)(function(){return(0,c.Jh)(this,function(t){var n,o;return e.fileSize/1024/1024>200?[2,new Promise(function(e,t){t("最大支持200M")})]:(e.abortSingle=new AbortController,e.fileSize<d)?[2,new Promise((n=(0,r._)(function(t,n){var r,o;return(0,c.Jh)(this,function(i){switch(i.label){case 0:return e.reject=n,(r=new FormData).append("file",e.file),r.append("fileName",e.file.name),r.append("type",e.fileType),[4,(0,u.Tau)(e.folderId,r,{signal:e.abortSingle.signal,onUploadProgress:function(t){e.chunkProgress=t.loaded/t.total*100}})];case 1:return 0===(o=i.sent()).data.errCode?(e.chunkProgress=100,o.data.data=o.data.data[0],t(o)):o.data.errCode===l.cO.PERMISSION_DENIED?n("您暂无权限上传，如需上传，请联系分享人赋予专题编辑权限"):o.data.errCode===l.cO.USER_CREDIT_RUN_OUT?n(l.cO.USER_CREDIT_RUN_OUT):n(o.data.errMsg),[2]}})}),function(e,t){return n.apply(this,arguments)}))]:[2,new Promise((o=(0,r._)(function(t,n){var r,o,i,s,f,d;return(0,c.Jh)(this,function(p){switch(p.label){case 0:return r=function(t){var r;return(0,c.Jh)(this,function(o){switch(o.label){case 0:if(e.stopSingle)return[2,{v:void 0}];return e.partNum=t+1,e.handleProgress(),(r=new FormData).append("file",i[t]),r.append("partNum",e.partNum),[4,(0,u.Sqh)(e.fileId,r,{signal:e.abortSingle.signal,onUploadProgress:function(n){var r=n.progress||0;e.chunkProgress=100/e.totalPart*t+100*r/e.totalPart}})];case 1:if(0!==o.sent().data.errCode)return[3,2];return e.handleChunkSuccess(),[3,4];case 2:return[4,e.retry(r,3)];case 3:if(!o.sent().result)return n("重试结束，上传失败"),[2,{v:void 0}];o.label=4;case 4:return[2]}})},e.reject=n,e._chunkProgress=0,[4,(0,u.Ng$)(e.folderId,e.file.type,e.file.size,e.file.name,e.fileType)];case 1:if(0!==(o=p.sent()).data.errCode)return o.data.errCode===l.cO.USER_CREDIT_RUN_OUT?n(l.cO.USER_CREDIT_RUN_OUT):o.data.errCode===l.cO.PERMISSION_DENIED?n("您暂无权限上传，如需上传，请联系分享人赋予专题编辑权限"):n(o.data.errMsg),[2];e.fileId=o.data.data.id,i=e.getChunks(),e.totalPart=i.length,s=0,p.label=2;case 2:if(!(s<i.length))return[3,5];return[5,(0,c.XA)(r(s))];case 3:if(f=p.sent(),"object"===(0,a._)(f))return[2,f.v];p.label=4;case 4:return s++,[3,2];case 5:return[4,(0,u.mSW)(e.fileId,i.length)];case 6:if(0===(d=p.sent()).data.errCode)return e.chunkProgress=100,e.handleSuccess(),t(d),[2];return 500!==d.data.errCode?n(d.data.errMsg):n("上传失败"),e.cancel(),[2]}})}),function(e,t){return o.apply(this,arguments)}))]})})()},t.retry=function(e,t){var n=this;return(0,r._)(function(){return(0,c.Jh)(this,function(o){var i;return[2,new Promise((i=(0,r._)(function(r,o){var i;return(0,c.Jh)(this,function(a){switch(a.label){case 0:i=0,a.label=1;case 1:if(!(i<t.length))return[3,4];if(n.stopSingle)return o(),[2];return[4,(0,u.Sqh)(n.fileId,e,{signal:n.abortSingle.signal})];case 2:if(0===a.sent().data.errCode)return n.handleChunkSuccess(),r({result:!0}),[2];a.label=3;case 3:return i++,[3,1];case 4:return n.cancel(),r({result:!1}),[2]}})}),function(e,t){return i.apply(this,arguments)}))]})})()},t.stop=function(){this.stopSingle=!0,this.abortSingle.abort(),this.cancel(),this.reject("主动取消")},t.cancel=function(){var e=this;!this.cancelSingle&&this.fileId&&(0,u.JS6)(this.fileId).then(function(t){0===t.data.errCode&&(e.cancelSingle=!0)})},(0,i._)(e,[{key:"id",get:function(){return this._id}},{key:"fileSize",get:function(){return this.file.size}},{key:"chunkSize",get:function(){var e=this.fileSize;return e<=f?e:f}},{key:"fileType",get:function(){if(this.file.name){var e=this.file.name.split(".");return e[e.length-1]}return""}},{key:"chunkProgress",get:function(){return this._chunkProgress},set:function(e){if(!(e<=this._chunkProgress)){var t,n,r=e-this._chunkProgress;this._chunkProgress=e,null===(n=this.config)||void 0===n||null===(t=n.onProgress)||void 0===t||t.call(n,this._chunkProgress.toFixed(2),r/100*this.fileSize)}}}]),e}()},27030:function(e,t,n){"use strict";function r(){var e,t,n={done:new Promise(function(r,o){e=function(e){n.status="fulfilled",n.data=e,r(e)},t=function(e){n.status="rejected",n.reason=e,o(e)}}),resolve:e,reject:t,status:"pending",reason:null,data:null};return n}n.d(t,{I:function(){return r}})},95597:function(e,t,n){"use strict";n.d(t,{N:function(){return r}});var r,o=n(85735);(r||(r={})).get=function(e,t,n){return"function"==typeof e?e.apply(void 0,(0,o._)([].concat(t))):e}},8e3:function(e,t,n){"use strict";var r=(0,n(92935).vz)("local-sid","");t.Z=r},79943:function(e,t,n){"use strict";n.d(t,{C$:function(){return i},WS:function(){return d},YU:function(){return f},ey:function(){return m}});var r,o,i,a=n(5194),c=n(99376),u=n(2265),s=n(27030),l=n(84203);function f(){var e;return{sourcePath:l.Wn.path,callStack:(null===(e=Error().stack)||void 0===e?void 0:e.split("\n").slice(1).join("\n").trim())||""}}function d(){var e=(0,c.useRouter)();return(0,u.useMemo)(function(){return{prefetch:e.prefetch,refresh:e.refresh,back:function(){h({action:"back"}),e.back()},forward:function(){h({action:"forward"}),e.forward()},replace:function(t,n){h({action:"replace",href:t}),e.replace(t,n)},push:function(t,n){h({action:"push",href:t}),e.push(t,n)},go:function(t){h({action:"go",delta:t}),p=t,t<0?e.back():t>0&&e.forward()}}},[e])}(r=i||(i={})).hasHydrated=!1,r.isNavigating=!1,r.sourcePageInfo=null,r.currentNavigationInfo=null,o=[],r.flushTickFnList=function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=o[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var c=i.value;c.order<=0?c.fn(e):c.order--}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}o=o.filter(function(e){return e.order>0})},r.nextNavigationTick=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,s.I)(),i=function(t){return n.resolve(t),null==e?void 0:e(t)};return t<0&&!r.isNavigating?i(new URL(location.href)):o.push({fn:i,order:t}),n.done};var p=0;function h(e){var t=(0,a._)({},e,f());if(i.isNavigating&&i.currentNavigationInfo,i.isNavigating=!0,0!==p)throw"还有go操作正在执行中";i.sourcePageInfo={href:location.href},i.currentNavigationInfo=t}function m(){var e=(0,c.usePathname)(),t=(0,c.useSearchParams)(),n=d();(0,u.useLayoutEffect)(function(){i.isNavigating=!1,i.hasHydrated?i.currentNavigationInfo&&(i.flushTickFnList(new URL(location.href)),"go"===i.currentNavigationInfo.action&&0!==p&&(p<0?(n.back(),p++):(n.forward(),p--))):(i.hasHydrated=!0,i.currentNavigationInfo=(0,a._)({action:"initial"},f()))},[e,t])}},31219:function(e,t,n){"use strict";var r,o;n.d(t,{a:function(){return r}}),(o=r||(r={})).InjectCookie="jc",o.LogOut="lo",o.ExportReport="er",o.ExportMind="epm",o.HomeInputSetting="his",o.ShareInfo="si",o.EnableCollect="ect",o.AddToBookShelf="abs",o.DownloadPdf="dp",o.UploadFileToBook="ufb",o.H5Study="h5s",o.OpenCamera="ocmr"},76904:function(e,t,n){"use strict";n.d(t,{Jc:function(){return c},Oz:function(){return s},WR:function(){return i},Zq:function(){return f},rP:function(){return l},uz:function(){return u}});var r=n(28898),o=n(95377);function i(e){return isNaN(e)}var a=new Map;function c(e,t){a.set(e,t)}function u(e){return i(e)?a.get(e):e}var s=function(e,t){var n=r.Z.createSessionCache.get();n[e]=t,r.Z.createSessionCache.set(n)},l=function(e){var t=r.Z.createSessionCache.get();return e in t?t[e]:null};function f(e,t,n,r){var i,a;return(0,o.Dt)(o.LE.SearchSkeletonDataReadyTime,new Date),a={param:t,spendTime:i=new Date().getTime()-e.getTime(),desc:n},i>2e3&&Object.assign(a,{"too-slow":!0}),r&&Object.assign(a,r),a}},75825:function(e,t,n){"use strict";n.d(t,{l:function(){return o},t:function(){return c}});var r,o,i,a=n(12249);(r=o||(o={})).Home="/",r.WenShuDetail="/detail/[index]/[id]",r.SearchResult="/searchResult",r.Upgrade="/meta-upgrade/[[...slug]]",r.UserPolicy="/meta-user-policy",r.CancelAccount="/meta-cancel-account",r.PrivatePolicy="/meta-private-policy",r.UsageRecord="/usage-record",r.UserInfo="/meta-user-info",r.UserInfoDetail="/meta-user-info/detail",r.UserInfoOutputPreferenceSetting="/meta-user-info/setting",r.UserInfoCustomFontSize="/meta-user-info/fontSize",r.ShareDesc="/meta-share-desc",r.AdminShareReview="/reviewUserShare",r.Search="/search/[id]",r.SearchInteractiveReport="/search/[id]/interactive",r.H5Login="/h5-login",r.AboutUs="/about-us",r.Feedback="/feedback",r.Feedbacks="/feedbacks",r.MindMapping="/mind-mapping",r.Captcha="/captcha",r.OuterPage="/outerpage",r.BrowserSetting="/browser-setting",r.Icp="/icp",r.Ppt="/ppt",r.Xiezuocat="/xiezuocat",r.H5ResetPassword="/h5-reset-password",r.TwentyFourHour="/24hours/[[...field]]",r.DailyActive="/daily-active",r.H5Share="/h5-share",r.Complaints="/complaints",r.PdfWebview="/pdf-webview",r.PdfMarkDownWebview="/pdf-markdown-webview",r.Bookshelf="/bookshelf",r.ImageViewer="/image-viewer/[[...id]]",r.BaiduAuth="/baidu-auth",r.Subject="/subject",r.SubjectV2="/subject-v2",r.SubjectDetail="/subject/[id]",r.SubjectV2Detail="/subject-v2/[id]",r.DocEdit="/doc/[id]",r.SubjectKnowledgeManage="/subject/[id]/manage",r.SubjectV2KnowledgeManage="/subject-v2/[id]/manage",r.SubjectLogin="/s-login",r.H5CancelAccount="/h5-cancel-account",r.SearchCountStatistics="/search-count-statistics",r.ActSlogan="/act-slogan",r.ActShare="/act-share",r.workflowManage="workflow-manage",r.DownloadApp="/download-app",r.Landing="/landing",r.TopUp="/top-up",r.Pay="/pay",r.OrderManage="/top-up/manage",r.NotFound="/not-found",r.Report="/report",r.Membership="/membership",r.H5Membership="/h5-membership",r.OpenApp="/open-app",r.PaymentStatus="/payment-status",r.AcademicDetail="/academic-detail",r.SourcePreference="/source-preference",r.UnInterceptImageViewer="/un-intercept-image-viewer",r.SearchResultShareImg="/search-result-share-img",r.TopicShareImg="/topic-share-img",r.PptWebview="/ppt-webview",r.PPTExamination="/ppt-examination/[id]",r.PPTShareImg="/ppt-share-img",r.Study="/study",r.SeoStudy="/p/[id]",r.StudyUserPolicy="/study-user-policy",r.StudyPrivatePolicy="/study-private-policy",r.StudyCancelAccount="/study-cancel-account",r.StudySDKInfo="/study-sdk-info",r.StudyUserInfo="/study-user-info",r.H5PptReading="/h5-ppt-reading/[id]",r.OpenPPTApp="/open-ppt-app",r.PPTPreview="/ppt-preview",r.H5QuestionList="/h5-question-list",r.PptExtractLoadingWebview="/ppt-extract-loading-webview",r.YouthStudy="/youth-study",r.SearchPpt="/ppt-mini",r.SearchPptMiniWebview="/ppt-mini-webview",r.SearchPptMiniLoadingWebview="/ppt-mini-loading-webview",r.CoursePoster="/course-poster",r.Circle="/study/circle",r.PPTPoster="/ppt-poster",r.DagreWebview="/dagre-webview",r.ConsoleWebview="/webview/console",r.h5SearchCreditCharge="/h5-search-credit-charge",r.APIPlayground="/search-api/playground",r.APIBashboard="/search-api/bashboard",r.APIKeys="/search-api/api-keys",r.NoteBook="/notebook/[id]",r.Presentation="/presentation/[id]",r.PptGenerateLoadingWebview="/ppt-generate-loading-webview",r.PresentationView="/presentation-view";var c=(i={},(0,a._)(i,"/meta-user-policy",{noNeedAuth:!0}),(0,a._)(i,"/meta-private-policy",{noNeedAuth:!0}),(0,a._)(i,"/detail/[index]/[id]",{noNeedAuth:!0}),(0,a._)(i,"/searchResult",{noNeedAuth:!0}),(0,a._)(i,"/search/[id]",{noNeedAuth:!0}),(0,a._)(i,"/about-us",{noNeedAuth:!0}),(0,a._)(i,"/usage-record",{noNeedAuth:!0}),(0,a._)(i,"/h5-login",{noNeedAuth:!0}),(0,a._)(i,"/captcha",{noNeedAuth:!0}),(0,a._)(i,"/mind-mapping",{noNeedAuth:!0}),(0,a._)(i,"/outerpage",{noNeedAuth:!0}),(0,a._)(i,"/browser-setting",{noNeedAuth:!0}),(0,a._)(i,"/icp",{noNeedAuth:!0}),(0,a._)(i,"/ppt",{noNeedAuth:!0}),(0,a._)(i,"/xiezuocat",{noNeedAuth:!0}),(0,a._)(i,"/h5-reset-password",{noNeedAuth:!0}),(0,a._)(i,"/24hours/[[...field]]",{noNeedAuth:!0}),(0,a._)(i,"/meta-user-info/setting",{noNeedAuth:!0}),(0,a._)(i,"/meta-user-info",{noNeedAuth:!0}),(0,a._)(i,"/h5-share",{noNeedAuth:!0}),(0,a._)(i,"/pdf-webview",{noNeedAuth:!0}),(0,a._)(i,"/pdf-markdown-webview",{noNeedAuth:!0}),(0,a._)(i,"/bookshelf",{noNeedAuth:!0}),(0,a._)(i,"/meta-cancel-account",{noNeedAuth:!0}),(0,a._)(i,"/image-viewer/[[...id]]",{noNeedAuth:!0}),(0,a._)(i,"/un-intercept-image-viewer",{noNeedAuth:!0}),(0,a._)(i,"/search-count-statistics",{noNeedAuth:!0}),(0,a._)(i,"/act-slogan",{noNeedAuth:!0}),(0,a._)(i,"/act-share",{noNeedAuth:!0}),(0,a._)(i,"workflow-manage",{noNeedAuth:!1}),(0,a._)(i,"/download-app",{noNeedAuth:!0}),(0,a._)(i,"/meta-user-info/fontSize",{noNeedAuth:!0}),(0,a._)(i,"/subject",{noNeedAuth:!0}),(0,a._)(i,"/subject-v2",{noNeedAuth:!0}),(0,a._)(i,"/h5-cancel-account",{noNeedAuth:!0}),(0,a._)(i,"/doc/[id]",{noNeedAuth:!0}),(0,a._)(i,"/landing",{noNeedAuth:!0}),(0,a._)(i,"/not-found",{noNeedAuth:!0}),(0,a._)(i,"/report",{noNeedAuth:!0}),(0,a._)(i,"/open-app",{noNeedAuth:!0}),(0,a._)(i,"/payment-status",{noNeedAuth:!0}),(0,a._)(i,"/academic-detail",{noNeedAuth:!0}),(0,a._)(i,"/s-login",{noNeedAuth:!0}),(0,a._)(i,"/search-result-share-img",{noNeedAuth:!0}),(0,a._)(i,"/topic-share-img",{noNeedAuth:!0}),(0,a._)(i,"/study",{noNeedAuth:!0}),(0,a._)(i,"/ppt-webview",{noNeedAuth:!0}),(0,a._)(i,"/ppt-share-img",{noNeedAuth:!0}),(0,a._)(i,"/study-user-policy",{noNeedAuth:!0}),(0,a._)(i,"/study-private-policy",{noNeedAuth:!0}),(0,a._)(i,"/study-cancel-account",{noNeedAuth:!0}),(0,a._)(i,"/study-sdk-info",{noNeedAuth:!0}),(0,a._)(i,"/study-user-info",{noNeedAuth:!0}),(0,a._)(i,"/search/[id]/interactive",{noNeedAuth:!0}),(0,a._)(i,"/h5-ppt-reading/[id]",{noNeedAuth:!0}),(0,a._)(i,"/open-ppt-app",{noNeedAuth:!0}),(0,a._)(i,"/ppt-examination/[id]",{noNeedAuth:!0}),(0,a._)(i,"/ppt-preview",{noNeedAuth:!0}),(0,a._)(i,"/h5-question-list",{noNeedAuth:!0}),(0,a._)(i,"/ppt-extract-loading-webview",{noNeedAuth:!0}),(0,a._)(i,"/p/[id]",{noNeedAuth:!0}),(0,a._)(i,"/youth-study",{noNeedAuth:!0}),(0,a._)(i,"/ppt-mini",{noNeedAuth:!0}),(0,a._)(i,"/ppt-mini-webview",{noNeedAuth:!0}),(0,a._)(i,"/ppt-mini-loading-webview",{noNeedAuth:!0}),(0,a._)(i,"/course-poster",{noNeedAuth:!0}),(0,a._)(i,"/study/circle",{noNeedAuth:!0}),(0,a._)(i,"/ppt-poster",{noNeedAuth:!0}),(0,a._)(i,"/dagre-webview",{noNeedAuth:!0}),(0,a._)(i,"/webview/console",{noNeedAuth:!0}),(0,a._)(i,"/h5-search-credit-charge",{noNeedAuth:!0}),(0,a._)(i,"/search-api/bashboard",{autoRedirect:!0}),(0,a._)(i,"/search-api/api-keys",{autoRedirect:!0}),(0,a._)(i,"/search-api/playground",{autoRedirect:!0}),(0,a._)(i,"/notebook/[id]",{noNeedAuth:!0}),(0,a._)(i,"/presentation/[id]",{autoRedirect:!0}),(0,a._)(i,"/ppt-generate-loading-webview",{noNeedAuth:!0}),(0,a._)(i,"/presentation-view",{noNeedAuth:!0}),i)},95377:function(e,t,n){"use strict";n.d(t,{Dt:function(){return i},LE:function(){return r},vn:function(){return a}});var r,o=new Map;function i(e,t){o.set(e,t)}function a(e){return o.get(e)}(r||(r={})).SearchSkeletonDataReadyTime="SearchSkeletonDataReadyTime"},15707:function(e,t,n){"use strict";n.d(t,{u:function(){return i}});var r=n(75825),o=n(56275);function i(e){var t=!0,n=!1,i=void 0;try{for(var a,c=Object.keys(r.l)[Symbol.iterator]();!(t=(a=c.next()).done);t=!0){var u=a.value,s=r.l[u];if((0,o.q)(s,e))return{path:s,pageName:u}}}catch(e){n=!0,i=e}finally{try{t||null==c.return||c.return()}finally{if(n)throw i}}return{path:null,pageName:null}}},84203:function(e,t,n){"use strict";n.d(t,{Wn:function(){return f},d6:function(){return m},hw:function(){return p},mp:function(){return h}});var r=n(5194),o=n(1780),i=n(50059),a=n(99376),c=n(2265),u=n(21652),s=n.n(u),l=n(15707),f={path:null,pageName:null},d=[];function p(){var e=(0,a.usePathname)(),t=(0,c.useMemo)(function(){return(0,l.u)(e)},[e]);f=t,(0,c.useEffect)(function(){d.forEach(function(e){e.effect()})},[t.pageName])}function h(e){var t=(0,a.usePathname)(),n=(0,i._)((0,c.useState)(f.path?f:f=(0,l.u)(t)),2),u=n[0],p=n[1];return(0,c.useLayoutEffect)(function(){var t={effect:function(){s()(f,u)||p(f)},name:e};return d.push(t),function(){d.splice(d.indexOf(t),1)}},[e,u]),(0,c.useMemo)(function(){return(0,o._)((0,r._)({},u),{pathname:t})},[t,u])}function m(e){var t=(0,c.useRef)(f);return(0,c.useLayoutEffect)(function(){var n;e.preventInitial||null==e||null===(n=e.watchPageIdentity)||void 0===n||n.call(e,t.current)},[]),(0,c.useLayoutEffect)(function(){var n={effect:function(){var n;t.current=f,null==e||null===(n=e.watchPageIdentity)||void 0===n||n.call(e,t.current)},name:e.name};return d.push(n),function(){d.splice(d.indexOf(n),1)}},[e.name,e.watchPageIdentity]),t}},60588:function(e,t,n){"use strict";n.d(t,{v:function(){return o}});var r=n(50059),o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i={};try{for(var a=(0,r._)(e.split("?"),2),c=a[0],u=a[1],s=c.replace(/^\/+/,""),l=t.replace(/^\/+/,""),f=s.split("/").filter(Boolean),d=l.split("/").filter(Boolean),p=0,h=0;h<d.length;){var m=d[h],g=f[p];if(!m.startsWith("[")){if(g!==m)throw Error("static path is not match, expect ".concat(m,", actual ").concat(g));p++,h++;continue}var v=m.replace(/^\[+/,"").replace(/\]+$/,"").replace(/\?$/,"").replace(/^\.+/,""),_=m.endsWith("?]"),y=m.startsWith("[..."),S=m.startsWith("[[...");if(y||S){var b=f.slice(p);if(b.length>0)i[v]=b;else if(!S)throw Error("catch all param ".concat(v," has no value"));return i}if(void 0===g){if(_)return i;throw Error("dynamic param ".concat(v," has no value"))}i[v]=g,p++,h++}if(p<f.length)throw Error("not exactly match");if(o&&u){var w=new URLSearchParams(u),E=!0,C=!1,T=void 0;try{for(var k,x=w.entries()[Symbol.iterator]();!(E=(k=x.next()).done);E=!0){var A=(0,r._)(k.value,2),N=A[0],I=A[1];i[N]=I}}catch(e){C=!0,T=e}finally{try{E||null==x.return||x.return()}finally{if(C)throw T}}}return i}catch(e){if(n)return i;throw e}}},85085:function(e,t,n){"use strict";n.d(t,{J:function(){return r}});var r=function(e){var t=e.match(/^\/\[([^\/]+)]/);if(t){var n=t[1],r={name:n,type:"normal",match:t},o=n.match(/^\.{3}(.+)/);o&&(r.name=o[1],r.type="catchAll",r.match=o);var i=n.match(/^\[\.{3}(.+)]/);return i&&(r.name=i[1],r.type="optionalCatchAll",r.match=i),r}return{name:"",type:"unknown",match:null}}},56275:function(e,t,n){"use strict";n.d(t,{q:function(){return o}});var r=n(60588),o=function(e,t){try{return(0,r.v)(t,e),!0}catch(e){return!1}}},92935:function(e,t,n){"use strict";n.d(t,{Lm:function(){return s},WZ:function(){return a},vz:function(){return l},zW:function(){return f}});var r=n(50059),o=n(85735),i=function(e,t,n,r){var o="string"==typeof n,i={get:function(){return n},set:function(e){},remove:function(){}};return void 0!==e&&(i={get:function(){var r=e.getItem(t);return null===r?n:o?r:JSON.parse(r)},remove:function(){var o;e.removeItem(t),null==r||null===(o=r.onSet)||void 0===o||o.call(r,n)},set:function(n){var o;"string"==typeof n?e.setItem(t,n):e.setItem(t,JSON.stringify(n)),null==r||null===(o=r.onSet)||void 0===o||o.call(r,n)}}),Object.assign({defaultValue:n,key:t},i)},a=function(e,t){return c[e]||(c[e]={listeners:[]}),c[e].listeners.push(t),function(){c[e].listeners=c[e].listeners.filter(function(e){return e!==t})}},c={},u=function(e,t){var n;null===(n=c[e])||void 0===n||n.listeners.forEach(function(e){return e(t)})},s=function(e){var t=new Set,n="",r=0;window.addEventListener("storage",function(e){if(!e.key||!t.has(e.key)){n="";return}n!==e.key&&(r=0),n=e.key,++r,u(e.key,e.newValue)}),(s=function(e){t.add(e)})(e)},l=function(e,t,n){return i("undefined"==typeof localStorage?void 0:localStorage,e,t,{onSet:function(){for(var t,i=arguments.length,a=Array(i),c=0;c<i;c++)a[c]=arguments[c];u(e,(0,r._)(a,1)[0]),null==n||null===(t=n.onSet)||void 0===t||t.call.apply(t,[n].concat((0,o._)(a)))}})},f=function(e,t,n){return i("undefined"==typeof sessionStorage?void 0:sessionStorage,e,t,{onSet:function(){for(var t,i=arguments.length,a=Array(i),c=0;c<i;c++)a[c]=arguments[c];u(e,(0,r._)(a,1)[0]),null==n||null===(t=n.onSet)||void 0===t||t.call.apply(t,[n].concat((0,o._)(a)))}})}},36570:function(e,t,n){"use strict";n.d(t,{Rr:function(){return s},l$:function(){return l}});var r=n(50059),o=n(47812),i=n(16478),a=n(92935),c=n(2265),u={defaultEngine:(0,a.vz)("defaultEngine",o.rG.DEFAULT),engineUpdateTime:(0,a.vz)("engine-update-time",""),outputLang:(0,a.vz)("output-lang",o.z0.ZH,{onSet:function(e){"undefined"!=typeof chrome&&chrome.runtime&&i.Xe.setExtensionLang(e)}}),scholarLang:(0,a.vz)("scholarSearchDomain",o.wb.ALL,{onSet:function(e){"undefined"!=typeof chrome&&chrome.runtime&&i.Xe.setExtensionScholarLangRange(e)}}),defaultMode:(0,a.vz)("defaultMode","detail",{onSet:function(e){"undefined"!=typeof chrome&&chrome.runtime&&i.Xe.setExtensionSearchModel(e)}}),defaultModeWithTimePriority:(0,a.vz)("defaultModeWithTimePriority",void 0),defaultResearchMode:(0,a.vz)("defaultResearchMode",o.s5.ThinkSearch),showPdfHighlight:(0,a.vz)("showPdfHighlight",!0),pdfModeContentWidth:(0,a.vz)("pdfModeContentWidth","400px"),showQuarkTipTimes:(0,a.vz)("showQuarkTipTimes",0),showReferenceFilter:(0,a.vz)("showReferenceFilter",!1),loginData:(0,a.vz)("h5-login-data",{redirectUrl:"",tipsHtml:void 0,showTips:!1,target:"replace-login-page",logDesc:""}),workflows:(0,a.vz)("workflows",[]),showExamples:(0,a.vz)("showExamples",!0),h5ShowRecently:(0,a.vz)("h5ShowRecently",!0),s:(0,a.vz)("s",""),firstVisitTime:(0,a.vz)("firstVisitTime",0),showExamplesChanged:(0,a.vz)("showExamplesChanged",!1),registerTimes:(0,a.vz)("registerTimes",{lastUpdateDate:Date.now(),count:0}),lastRegisterAgainstSid:(0,a.vz)("last-register-against-sid",""),defaultSubjectId:(0,a.vz)("defaultSubjectId",""),defaultSubjectName:(0,a.vz)("defaultSubjectName",""),subjectOpenState:(0,a.vz)("subject-open-state",[]),lastLoginTime:(0,a.vz)("lastLoginTime",0),notLoginSubjectShareKeyMap:(0,a.vz)("notLoginSubjectShareKeyMap",{}),lastOrderNo:(0,a.vz)("last-order-no",{token:"",value:""}),defaultSubjectData:(0,a.vz)("defaultSubjectData",[]),pdfHighlightColor:(0,a.vz)("pdfHighlightColorIndex",0),defaultModel:(0,a.vz)("defaultModel","",{}),defaultDeepResearchModel:(0,a.vz)("deepResearchModel","fast"),modelChanged:(0,a.vz)("search-model-changed",!1),searchMethod:(0,a.vz)("searchMethod","before"),pptConfig:(0,a.vz)("pptConfig",o.DQ),userPPTSetting:(0,a.vz)("userPPTSetting",null),userPPTRecord:(0,a.vz)("userPPTRecord",[]),learningRecommend:(0,a.vz)("learningRecommend",[]),navigatedStudy:(0,a.vz)("record-navigate-study",0),thinkingDisplayMode:(0,a.vz)("thinkingDisplayModeV2",o.iR.COLLAPSE_ON_ANSWERING),recentPptChapterId:(0,a.vz)("recentPptChapterId",""),initGrayScaleChange:(0,a.vz)("initGrayScaleChange",!1),miniDeepThinking:(0,a.vz)("deepThinkingDisplay",!1)};function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,r._)((0,c.useState)(u[e].defaultValue),2),o=n[0],i=n[1],s=(0,r._)((0,c.useState)(!1),2),l=s[0],f=s[1];return(0,c.useLayoutEffect)(function(){i(u[e].get()),f(!0)},[]),(0,c.useEffect)(function(){var n=(0,a.WZ)(u[e].key,function(){i(u[e].get())});return t&&(0,a.Lm)(e),n},[]),[o,function(t){"function"==typeof t?i(function(n){var r=t(n);return u[e].set(r),r}):(u[e].set(t),i(t))},l]}var l={isCacheExpired:function(){var e=u.engineUpdateTime.get();if(e){var t=new Date(parseInt(e));if(new Date().getTime()-t.getTime()>36e5)return!0}return!1},getDefaultEngine:function(){var e=this.isCacheExpired(),t=e?o.rG.DEFAULT:u.defaultEngine.get()||o.rG.DEFAULT;return e&&this.updateDefaultEngine(t),t},updateDefaultEngine:function(e){e!==o.rG.WORKFLOW&&(null===e?u.defaultEngine.remove():u.defaultEngine.set(e),this.refreshUpdateTime())},refreshUpdateTime:function(){u.engineUpdateTime.set(new Date().getTime().toString())}};t.ZP=u},28898:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r=n(50059),o=n(92935),i=n(2265),a={historyLength:(0,o.zW)("history-stack",null),imageViewerData:(0,o.zW)("image-viewer-data",{images:[],index:0}),imageSearchParam:(0,o.zW)("image-search-param",null),recoverPageAfterLogin:(0,o.zW)("recover-page-after-login",null),scrollBookIntoView:(0,o.zW)("scroll-book-into-viewer",null),countAddedResultIdList:(0,o.zW)("count-added-result-id-list",[]),navigateOpenAppFlag:(0,o.zW)("metaso-navigate-open-app-flag",!1),homeSearchBoxText:(0,o.zW)("home-search-box-text",""),createSessionCache:(0,o.zW)("create-session-cache",{}),pptSpeed:(0,o.zW)("ppt-speed",1),leftMenuExist:(0,o.zW)("left-menu-exist",!0),pptEnterFrom:(0,o.zW)("ppt-enter-from",""),cachedSettingBackPath:(0,o.zW)("cached-setting-back-path","/")};function c(e){var t=(0,r._)((0,i.useState)(a[e].defaultValue),2),n=t[0],c=t[1],u=(0,r._)((0,i.useState)(!1),2),s=u[0],l=u[1];return(0,i.useLayoutEffect)(function(){c(a[e].get()),l(!0)},[]),(0,i.useEffect)(function(){return(0,o.WZ)(a[e].key,function(){c(a[e].get())})},[]),[n,function(t){"function"==typeof t?c(function(n){var r=t(n);return a[e].set(n),r}):(a[e].set(t),c(t))},s]}t.Z=a},69282:function(){},81263:function(e){e.exports={"icon-button":"button_icon-button__VwAMf",primary:"button_primary__dwYZ6",shadow:"button_shadow__G4m_0",border:"button_border__F3gcK","icon-button-icon":"button_icon-button-icon__AMZta","icon-button-text":"button_icon-button-text__my76e"}},98698:function(e){e.exports={"meta-dialog-mask":"MetaDialog_meta-dialog-mask__rdDcL","meta-dialog":"MetaDialog_meta-dialog__5J2CZ",title:"MetaDialog_title__kv8e5","title-text":"MetaDialog_title-text__socxx",confirm:"MetaDialog_confirm__cDpKr",content:"MetaDialog_content__Pw_vP",footer:"MetaDialog_footer__J2Bfe","phonecode-btn":"MetaDialog_phonecode-btn__tK_fl","verify-phone-drawer":"MetaDialog_verify-phone-drawer__lGgMr","verify-phone-drawer-header":"MetaDialog_verify-phone-drawer-header__S5u6U","verify-phone-drawer-footer":"MetaDialog_verify-phone-drawer-footer__hBkgL"}},14760:function(e){e.exports={"animate-delay-short":"ui-lib_animate-delay-short__eyxAC","animate-delay-medium":"ui-lib_animate-delay-medium__xEC2Z","animate-delay-long":"ui-lib_animate-delay-long__mLNLN","animate-duration-300":"ui-lib_animate-duration-300__4FwYn","animate-slow":"ui-lib_animate-slow__XBl4s","animate-fast":"ui-lib_animate-fast__0gnek","slide-in-right":"ui-lib_slide-in-right__edQZO","reverse-animation":"ui-lib_reverse-animation__T1FCc","fancy-text-bgcolor-animation":"ui-lib_fancy-text-bgcolor-animation__jDDIC",slideShine:"ui-lib_slideShine__NWQY_",card:"ui-lib_card__7vhpy",popover:"ui-lib_popover___HGhK","popover-content":"ui-lib_popover-content__DAsxM","slide-in":"ui-lib_slide-in__1VMXW","popover-mask":"ui-lib_popover-mask__HfrgX","list-item":"ui-lib_list-item__YH0DO","list-header":"ui-lib_list-header__RwThu","list-icon":"ui-lib_list-icon__HuWqu","list-item-title":"ui-lib_list-item-title__Fsa9c","list-item-sub-title":"ui-lib_list-item-sub-title__jSgHb",list:"ui-lib_list__1KN23","modal-container":"ui-lib_modal-container__V07hJ","modal-header":"ui-lib_modal-header__ez8kk","modal-title":"ui-lib_modal-title__uDyyZ","modal-close-btn":"ui-lib_modal-close-btn__cHeFn","modal-content":"ui-lib_modal-content___F0dm","modal-footer":"ui-lib_modal-footer__U6Gef","modal-actions":"ui-lib_modal-actions__Ag5eX","modal-action":"ui-lib_modal-action__o5vae",show:"ui-lib_show__Oyrs0",hide:"ui-lib_hide__HRR6J","toast-container":"ui-lib_toast-container__t7drF","toast-content":"ui-lib_toast-content__gUAwT","toast-action":"ui-lib_toast-action__fBR8E",input:"ui-lib_input__5JXLJ","select-with-icon":"ui-lib_select-with-icon__L6FLF","select-with-icon-select":"ui-lib_select-with-icon-select__JhHwp","select-with-icon-icon":"ui-lib_select-with-icon-icon__7R2_b","slide-in-from-top":"ui-lib_slide-in-from-top__cfJKh"}}}]);