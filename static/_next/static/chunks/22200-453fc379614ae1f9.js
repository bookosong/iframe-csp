(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[22200,21602,85180,3615,97120,39650],{22804:function(e,t,n){"use strict";var r,i=n(94746);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),r||(r=i.createElement("g",{id:"link-01"},i.createElement("path",{id:"Icon",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"m12.708 18.364-1.415 1.414a5 5 0 1 1-7.07-7.07l1.413-1.415m12.728 1.414 1.415-1.414a5 5 0 0 0-7.071-7.071l-1.415 1.414M8.5 15.5l7-7"}))))}},5942:function(e,t,n){"use strict";var r,i=n(94746);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),r||(r=i.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 9V3m0 0h-6m6 0-9 9m-2-9H7.8c-1.68 0-2.52 0-3.162.327a3 3 0 0 0-1.311 1.311C3 5.28 3 6.12 3 7.8v8.4c0 1.68 0 2.52.327 3.162a3 3 0 0 0 1.311 1.311C5.28 21 6.12 21 7.8 21h8.4c1.68 0 2.52 0 3.162-.327a3 3 0 0 0 1.311-1.311C21 18.72 21 17.88 21 16.2V14"})))}},97120:function(e,t,n){"use strict";n.d(t,{BH:function(){return S},xm:function(){return I},ZP:function(){return C}});var r,i,o=n(12249),a=n(5194),s=n(1780),l=n(46796),c=n(50059),u=n(57437),d=n(43180),h=n(19643),f=n(78693),p=n(90486),x=n(73904),g=n(28450),v=n(46387),m=n(2265),_=n(43228),w=n.n(_),j=n(94746);function b(){return(b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var y=n(86400),k=n(7870);function C(e){var t,n=e.anchor,r=(0,l._)(e,["anchor"]),i=(0,c._)((0,m.useState)("app"),2),v=i[0],_=i[1],j=(0,c._)((0,m.useState)(!1),2),b=j[0],y=j[1];(0,m.useEffect)(function(){b&&(0,k.dW)("home-user-switch-mobile-app-tab",{id:v})},[v,b]);var C=(0,c._)((0,m.useState)(!1),2),Z=C[0],E=C[1];(0,m.useEffect)(function(){(0,k.Kn)(function(){E(b)},[],5)},[b]);var L=(0,c._)((0,d.gZ)(function(e){y(e)},200,{anchor:n}),2),T=(L[0],L[1]);return(0,u.jsx)(d.ZP,(0,s._)((0,a._)((0,s._)((0,a._)({},T),{open:b,anchor:n,zIndex:9999,sxs:{contentWrapper:{boxShadow:"4px 4px 4px 0px #0000001A",border:"solid 1px var(--border-color)",borderRadius:"8px"}}}),r),{children:(0,u.jsxs)(h.Z,{sx:{p:1,pb:0},alignItems:"center",children:[(0,u.jsx)(f.Z,{sx:{height:32},children:Z&&(0,u.jsx)(p.Z,{in:!0,children:(0,u.jsx)(x.Z,{sx:(t={minHeight:0,height:1},(0,o._)(t,".MuiTabs-flexContainer",{height:1,borderBottom:"2px solid var(--border-color2)",boxSizing:"border-box"}),(0,o._)(t,".MuiTabs-indicator",{transform:"scaleX(.5)"}),(0,o._)(t,".MuiTab-root",{minHeight:0,color:"#667085",height:1,textTransform:"none",fontWeight:400,"&.Mui-selected":{fontWeight:700}}),t),value:v,onChange:function(e,t){return _(t)},children:w()(S).map(function(e){var t=S[e];return(0,u.jsx)(g.Z,{value:e,label:t.label},e)})})})}),(0,u.jsx)(I,(0,a._)({},S[v]))]})}))}var S={app:{imgSrc:y.Z.src,label:"App",tip:"\uD83D\uDC46 扫码免费使用"},minipro:{imgSrc:"https://static-1.metaso.cn/_next/static/media/minipro-qrcode.31567867.png",label:"小程序",tip:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(function(e){return j.createElement("svg",b({xmlns:"http://www.w3.org/2000/svg",width:200,height:200,className:"icon",viewBox:"0 0 1026 1024"},e),r||(r=j.createElement("path",{fill:"#23A54D",d:"M0 512c0 282.772 229.228 512 512 512s512-229.228 512-512S794.772 0 512 0 0 229.228 0 512"})),i||(i=j.createElement("path",{fill:"#FFF",d:"M793.102 470.182a170.62 170.62 0 0 1-98.554 73.6c-1.073.307-2.115.634-3.187.914a72.7 72.7 0 0 1-19.837 2.988c-29.213 0-45.72-19.719-36.843-44.08a70.22 70.22 0 0 1 44.254-39.796 76.97 76.97 0 0 0 54.714-69.657c0-41.967-40.827-75.99-91.19-75.99s-91.256 34.029-91.256 75.99v233.094a154.43 154.43 0 0 1-81.072 133.007 183.4 183.4 0 0 1-91.256 24.07c-94.984 0-172.262-70.464-172.262-157.077a145.4 145.4 0 0 1 21.609-75.99 170.6 170.6 0 0 1 99.095-73.8h.118a73.7 73.7 0 0 1 21.89-3.453c29.346 0 45.919 19.837 37.032 44.28a71.74 71.74 0 0 1-41.226 38.447 87 87 0 0 0-6.613 2.487 76.02 76.02 0 0 0-50.797 68.06c0 41.976 40.812 76.005 91.19 76.005s91.256-34.03 91.256-76.006V394.176a154.42 154.42 0 0 1 81.072-132.992 183.34 183.34 0 0 1 91.19-24.07c94.984 0 172.261 70.449 172.261 157.062a145.43 145.43 0 0 1-21.608 76.006z"})))},{style:{width:20,height:20,marginRight:10}}),"微信扫一扫，使用小程序"]})}};function I(e){return(0,u.jsxs)(h.Z,{alignItems:"center",children:[(0,u.jsx)("img",{width:200,height:200,src:e.imgSrc}),(0,u.jsx)(v.Z,{className:"fr-ac",sx:{my:1.5,color:"var(--black)",fontSize:13,fontWeight:"700"},children:e.tip})]})}},30863:function(e,t,n){"use strict";n.d(t,{rb:function(){return R}});var r,i,o=n(12249),a=n(50059),s=n(57437),l=n(2265),c=n(19643),u=n(42187),d=n(78693),h=n(59832),f=n(75624),p=n(8350),x=n(73261),g=n(67920),v=n.n(g),m=n(36760),_=n.n(m),w=n(54632),j=n(43180),b=n(39207),y=n(55833),k=n(67051),C=n(15273),S=n(53998),I=function(){for(var e=[],t=1903;t<=2050;t++)e.push(t);return e},Z=["元旦","春节","清明","劳动节","端午节","中秋节","国庆节"],E=["星期一","星期二","星期三","星期四","星期五","星期六","星期日"],L=(0,l.forwardRef)(function(e,t){var n=e.viewApi,r=(0,a._)((0,l.useState)(!1),2),i=r[0],o=r[1],p=(0,a._)(l.useState(null),2),x=p[0],g=p[1],v=(0,l.useRef)(null),m=(0,a._)((0,l.useState)([]),2),_=m[0],w=m[1],k=(0,a._)((0,l.useState)(e.year),2),C=k[0],S=k[1],Z=(0,a._)((0,l.useState)(e.month),2),E=Z[0],L=Z[1],P=(0,a._)((0,l.useState)(0),2),M=P[0],R=P[1],B=(0,a._)((0,l.useState)(I()),2),H=B[0];B[1];var F=(0,a._)((0,l.useState)([1,2,3,4,5,6,7,8,9,10,11,12]),2),D=F[0];F[1];var O=(0,a._)((0,l.useState)(),2),W=O[0],U=O[1],z=(0,a._)((0,l.useState)(null),2),V=z[0],Y=z[1],q=(0,l.useRef)(!0),X=(0,a._)((0,l.useState)(!1),2),G=X[0],J=X[1],K=y.HK.useAPI("singletonDrawer");return(0,l.useImperativeHandle)(t,function(){return{setHolidayFunction:function(e){if(e){var t=_.find(function(t){return t.text===e.text});t?(U(t),e=null):U(null)}else U(null)}}}),(0,l.useEffect)(function(){(0,b.Ygb)(C).then(function(e){w(e.data.data)})},[C]),(0,j.bQ)({anchor:function(){return x},popover:function(){var e;return null===(e=v.current)||void 0===e?void 0:e.nodeRef.current}},i,function(){return o(!1)}),(0,l.useEffect)(function(){W&&(q.current=!1,L(W.month),R(W.date))},[W]),(0,l.useEffect)(function(){var e;q.current?U(null):q.current=!0,null===(e=n.current)||void 0===e||e.goto(C,E,M)},[C,E,M]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(c.Z,{direction:"row",alignItems:"center",spacing:e.isH5?0:3,children:[(0,s.jsx)(T,{collapseBtn:!0,collapse:!i,onClick:e.isH5?function(e){J(!G)}:function(e){Y((0,s.jsx)(s.Fragment,{children:_.map(function(e,t){return(0,s.jsx)(u.Z,{sx:{padding:"5px 9px",color:W===e?"#1570EF":""},onClick:function(){U(e),o(!1)},children:e.text},t)})})),g(e.currentTarget),o(!i)},children:(0,s.jsx)(d.Z,{sx:{width:"50px"},children:W?W.text:"假期"})}),e.isH5?(0,s.jsxs)(d.Z,{sx:{flex:1,textAlign:"center"},onClick:function(){var e,t;null===(e=K.current)||void 0===e||e.setSetting({content:(0,s.jsx)(N,{years:H,months:D,year:C,month:E,onConfirm:function(e,t){var n;L(t),S(e),null===(n=K.current)||void 0===n||n.toggleOpen(!1)}}),sx:{".search-page-close-button":{top:14},".MuiDrawer-paper":{borderRadius:"10px 10px 0 0",minHeight:"min(200px , 50vh)","--safe-top":"env(safe-area-inset-top, 0px)",maxHeight:"max(calc(100vh - calc(230px + var(--safe-top))), 50vh)",pb:"25px"}}}),null===(t=K.current)||void 0===t||t.toggleOpen(!0)},children:[C,"年",E,"月",(0,s.jsx)("svg",{style:{marginLeft:"10px"},width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M1 1.5L6 6.5L11 1.5",stroke:"#98A2B3",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(T,{collapseBtn:!0,collapse:!i,onClick:function(e){Y((0,s.jsx)(s.Fragment,{children:H.map(function(e,t){return(0,s.jsx)(u.Z,{selected:C===e,ref:function(t){C===e&&t&&setTimeout(function(){t.scrollIntoView({block:"center"})},50)},sx:{padding:"5px 9px",color:C===e?"#1570EF":""},onClick:function(){S(e),o(!1)},children:"".concat(e,"年")},t)})})),g(e.currentTarget),o(!i)},children:C}),(0,s.jsxs)(c.Z,{direction:"row",alignItems:"center",spacing:1,width:"100%",children:[(0,s.jsx)(h.Z,{onClick:function(){1===E&&C>1903&&(L(12),S(C-1)),E>1&&L(E-1)},children:(0,s.jsx)("svg",{width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M6.5 11L1.5 6L6.5 1",stroke:"#667085",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,s.jsx)(T,{collapseBtn:!0,collapse:!i,onClick:function(e){Y((0,s.jsx)(s.Fragment,{children:D.map(function(e,t){return(0,s.jsx)(u.Z,{ref:function(t){E===e&&t&&setTimeout(function(){t.scrollIntoView({block:"center"})},50)},selected:E===e,sx:{padding:"5px 9px",color:E===e?"#1570EF":""},onClick:function(){L(e),o(!1)},children:"".concat(e,"月")},t)})})),g(e.currentTarget),o(!i)},children:(0,s.jsx)(d.Z,{sx:{width:"35px"},children:"".concat(E,"月")})}),(0,s.jsx)(h.Z,{onClick:function(){12===E&&C<2050&&(L(1),S(C+1)),E<12&&L(E+1)},children:(0,s.jsx)("svg",{width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M1.5 11L6.5 6L1.5 1",stroke:"#667085",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),(0,s.jsx)(d.Z,{sx:{flex:1}})]}),(0,s.jsx)(T,{onClick:function(){var e=new Date;S(e.getFullYear()),L(e.getMonth()+1),R(e.getDate())},children:"今天"})]}),(0,s.jsx)(j.ZP,{anchor:x,ref:v,open:i,isAutoUpdate:!0,children:(0,s.jsx)(d.Z,{sx:{padding:"14px 8px",maxHeight:"50vh",overflowY:"auto"},children:V})}),(0,s.jsx)(f.ZP,{open:G,onClose:function(){J(!1)},anchor:"bottom",sx:{"& .MuiDrawer-paper":{borderRadius:"10px 10px 0 0",minHeight:"min(200px , 50vh)","--safe-top":"env(safe-area-inset-top, 0px)",maxHeight:"max(calc(100vh - calc(230px + var(--safe-top))), 50vh)"}},children:(0,s.jsx)(A,{currentFestival:W,items:_,setValue:function(e){U(e)},year:C,close:function(){J(!1)}})})]})});function T(e){var t=e.collapse,n=e.collapseBtn,r=e.children;return(0,s.jsxs)(d.Z,{className:_()(v()["date-view-tool-button"],t?v().expand:v().collapse),onClick:e.onClick,children:[r,n&&(0,s.jsx)("svg",{style:{marginLeft:"10px"},width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M1 1.5L6 6.5L11 1.5",stroke:"#98A2B3",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})}function P(e){var t=e.item,n=e.currentDate,r=e.weekend;return(0,s.jsxs)(d.Z,{className:_()(v()["date-td"],(0,o._)({},v().disabled,t.disabled),(0,o._)({},v().active,t.date===n&&!t.disabled)),children:[(0,s.jsx)(d.Z,{className:_()(v().date,(0,o._)({},v().holiday,"休"===t.flag||r&&"班"!==t.flag)),children:t.date}),(0,s.jsx)(d.Z,{className:v().text,children:t.text})]})}var M=(0,l.forwardRef)(function(e,t){var n=(0,a._)((0,l.useState)(e.year),2),r=n[0],i=n[1],o=(0,a._)((0,l.useState)(e.month),2),u=o[0],h=o[1],f=(0,a._)((0,l.useState)(e.date),2),p=f[0],x=f[1],g=(0,a._)((0,l.useState)([]),2),m=g[0],_=g[1];return(0,l.useImperativeHandle)(t,function(){return{goto:function(e,t,n){i(e),h(t),n&&x(n)}}},[]),(0,l.useEffect)(function(){for(var t=r+"年"+u+"月"+p+"日",n="",i=null,o=!1,a=0;a<m.length;a++){for(var s=m[a],l=0;l<s.length;l++){var c=s[l];if(c.disabled||c.date!==p||(n=E[l],i=c,o=!0),o)break}if(o)break}i&&(Z.includes(i.text)?t+=" "+i.text:t+=" "+n),e.onChange(t,i)},[p,m]),(0,l.useEffect)(function(){(0,b.eJy)(r,u).then(function(e){var t=[],n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e.data.data[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;n.push(l),7===n.length&&(t.push(n),n=[])}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}_(t)})},[r,u]),(0,s.jsxs)(c.Z,{className:v()["date-view"],spacing:1,children:[(0,s.jsxs)(c.Z,{justifyContent:"space-between",direction:"row",children:[(0,s.jsx)(d.Z,{className:v()["date-th"],children:"一"}),(0,s.jsx)(d.Z,{className:v()["date-th"],children:"二"}),(0,s.jsx)(d.Z,{className:v()["date-th"],children:"三"}),(0,s.jsx)(d.Z,{className:v()["date-th"],children:"四"}),(0,s.jsx)(d.Z,{className:v()["date-th"],children:"五"}),(0,s.jsx)(d.Z,{className:v()["date-th"],children:"六"}),(0,s.jsx)(d.Z,{className:v()["date-th"],children:"日"})]}),(0,s.jsx)(d.Z,{className:v()["date-view-item-container"],children:m.map(function(e,t){return(0,s.jsx)(c.Z,{justifyContent:"space-between",direction:"row",sx:{marginBottom:"10px"},children:e.map(function(e,n){return(0,s.jsx)(P,{item:e,currentDate:p,weekend:n>4},7*t+n)})},t)})})]})});function R(e){var t=e.dateData,n=e.resultId,r=e.needSearch,i=(0,l.useRef)(null),o=t.year+"年"+t.month+"月"+t.date+"日",u=(0,a._)((0,l.useState)(""),2),d=u[0],h=u[1],f=(0,l.useRef)(null);(0,l.useEffect)(function(){t.info&&t.info.endsWith("。")?h(t.info):h((t.info?t.info+"是":"")+o+"星期"+t.week+"。")},[t]);var p=y.vs.useBridge("exportMarkdownAPI");(0,l.useEffect)(function(){if(!r){var e;null===(e=p.current)||void 0===e||e.updateExportMarkdownTextMap(y.r$.RealTimeInfo,n,d)}},[d]);var x=(0,a._)((0,l.useState)(t.title||""),2),g=x[0],m=x[1],_=(0,S.RG)({title:18});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(c.Z,{className:v()["date-view-container"],spacing:2,children:[(0,s.jsx)("div",{style:{color:"var(--black3)",fontSize:_.title,fontWeight:700},children:g}),(0,s.jsx)(L,{ref:f,month:t.month,year:t.year,isH5:e.isH5,viewApi:i}),(0,s.jsx)(M,{year:e.dateData.year,month:e.dateData.month,date:e.dateData.date,onChange:function(e,n){var r;t.title||(null===(r=f.current)||void 0===r||r.setHolidayFunction(n),m(e))},ref:i})]}),!r&&(0,s.jsx)("div",{style:{marginTop:"20px"},children:d})]})}function N(e){var t=e.years,n=e.months,r=e.year,i=e.month,o=(0,a._)((0,l.useState)(r),2);o[0],o[1];var u=(0,a._)((0,l.useState)(i),2);u[0],u[1];var h=(0,a._)((0,l.useState)(44*t.indexOf(r)),2),f=h[0],p=h[1],x=(0,a._)((0,l.useState)(44*n.indexOf(i)),2),g=x[0],m=x[1],_=(0,l.useRef)(0),j=(0,l.useRef)(0);function b(e,t){0===t?_.current=f+e.touches[0].clientY:j.current=g+e.touches[0].clientY}function y(e,t){0===t?p(_.current-e.touches[0].clientY):m(j.current-e.touches[0].clientY)}function k(e,r){0===r?f<0?p(0):f>(t.length-1)*44?p((t.length-1)*44):p(44*Math.ceil((f-22)/44)):g<0?m(0):g>(n.length-1)*44?m((n.length-1)*44):m(44*Math.ceil((g-22)/44))}return(0,l.useRef)(f),(0,s.jsxs)(d.Z,{children:[(0,s.jsxs)(c.Z,{sx:{zIndex:1,backgroundColor:"var(--gray)",position:"absolute"},left:0,width:"100%",direction:"row",padding:"10px 0",justifyContent:"space-between",children:[(0,s.jsx)(w.Z,{variant:"text",sx:{color:"var(--black)"},onClick:function(){p(44*t.indexOf(r)),m(44*n.indexOf(i))},children:"还原"}),(0,s.jsx)(w.Z,{variant:"text",onClick:function(){e.onConfirm(t[f/44],n[g/44])},children:"确定"})]}),(0,s.jsxs)(d.Z,{className:v()["date-picker"],children:[(0,s.jsx)(d.Z,{className:v().swipe,top:"calc(50% - 22px - ".concat(f,"px)"),right:"60%",onTouchStart:function(e){b(e,0)},onTouchMove:function(e){y(e,0)},onTouchEnd:function(e){k(e,0)},children:t.map(function(e,t){return(0,s.jsxs)(d.Z,{className:v()["picker-item"],children:[e,"年"]},t)})}),(0,s.jsx)(d.Z,{className:v().swipe,left:"60%",top:"calc(50% - 22px - ".concat(g,"px)"),onTouchStart:function(e){b(e,1)},onTouchMove:function(e){y(e,1)},onTouchEnd:function(e){k(e,1)},children:n.map(function(e,t){return(0,s.jsxs)(d.Z,{className:v()["picker-item"],children:[e,"月"]},t)})}),(0,s.jsx)(d.Z,{className:v()["top-mask"]}),(0,s.jsx)(d.Z,{className:v()["bottom-mask"]})]})]})}function A(e){var t=(0,S.RG)({year:18}),n=e.items,r=e.currentFestival,i=e.year,o=e.close;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(d.Z,{style:{height:"56px",fontSize:t.year,fontWeight:"bold",lineHeight:"56px",textAlign:"center",color:"var(--black)",display:"flex",justifyContent:"center",alignItems:"center"},children:[i,"年假期",(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",style:{position:"absolute",right:"22px"},onClick:o,children:(0,s.jsx)("path",{d:"M18 6L6 18M6 6L18 18",stroke:"#98A2B3",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),(0,s.jsx)(p.Z,{style:{color:"#F2F4F7"}}),(0,s.jsx)(C.Z,{sx:{padding:0,color:"var(--black)"},children:n.map(function(t,n){return(0,s.jsxs)(s.Fragment,{children:[n>0&&(0,s.jsx)(p.Z,{variant:"middle",component:"li",style:{color:"#F2F4F7"}}),(0,s.jsx)(x.ZP,{onClick:function(){e.setValue(t),o()},children:(0,s.jsx)(k.Z,{style:{color:r===t?"#1570EF":""},children:t.text})})]})})})]})}(r=i||(i={}))[r.YEAR=0]="YEAR",r[r.MONTH=1]="MONTH"},74083:function(e,t,n){"use strict";n.d(t,{X:function(){return g}});var r=n(50059),i=n(57437),o=n(78693),a=n(73261),s=n(17162),l=n(23665),c=n.n(l),u=n(2265),d=n(18925),h=n.n(d),f=n(15273),p=n(5978),x=n.n(p);function g(e){var t=e.data,n=e.isH5;return(0,i.jsx)(o.Z,{style:{position:"relative",marginBottom:"20px"},children:(0,i.jsx)("div",{className:c()["ai-write-container"],style:{height:"auto"},children:(0,i.jsx)("div",{className:c()["ai-write-header"],children:(0,i.jsx)("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:t.enDict?(0,i.jsx)(v,{data:t,isH5:n}):(0,i.jsx)(m,{data:t})})})})})}function v(e){var t=e.data;e.isH5;var n=(0,r._)((0,u.useState)(!1),2),o=n[0],l=n[1],c=(0,r._)((0,u.useState)(""),2),d=c[0],p=c[1];return(0,u.useEffect)(function(){p(x().hash(t.word))},[t.word]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{margin:"10px 0",fontWeight:"bold",fontSize:"28px"},children:t.word}),(0,i.jsxs)("div",{style:{marginBottom:"10px",display:"flex"},children:[(0,i.jsxs)("div",{className:h()["dict-sound-btn"],style:{marginRight:"10px"},children:["美 ",t.usMark,(0,i.jsx)("div",{title:"播放",className:h()["dict-speech"],onClick:function(e){document.getElementById("usMarkAudio"+d).play()},children:(0,i.jsxs)("audio",{id:"usMarkAudio"+d,preload:"auto",children:[(0,i.jsx)("source",{src:t.usMp3,type:"audio/mpeg"}),(0,i.jsx)("source",{src:t.usOgg,type:"audio/ogg"})]})})]}),(0,i.jsxs)("div",{className:h()["dict-sound-btn"],children:["英 ",t.ukMark,(0,i.jsx)("div",{title:"播放",className:h()["dict-speech"],onClick:function(e){document.getElementById("ukMarkAudio"+d).play()},children:(0,i.jsxs)("audio",{id:"ukMarkAudio"+d,preload:"auto",children:[(0,i.jsx)("source",{src:t.ukMp3,type:"audio/mpeg"}),(0,i.jsx)("source",{src:t.ukOgg,type:"audio/ogg"})]})})]})]}),t.explain.map(function(e,t){return(0,i.jsx)("div",{style:{margin:"5px 0"},children:(0,i.jsxs)("div",{style:{width:"100%",display:"flex"},children:[(0,i.jsx)("div",{style:{color:"#939599",fontSize:"14px",width:"30px",marginRight:"10px"},children:e.posgram}),(0,i.jsx)("div",{style:{fontSize:"14px",width:"calc(100% - 50px)"},children:e.explain})]})},t)}),t.egs&&t.egs.length>0&&(0,i.jsxs)("div",{style:{width:"100%",display:"flex",marginTop:"5px"},children:[t.egs.length>1&&(0,i.jsx)("div",{className:h()["dict-collapse-btn"],onClick:function(){l(!o)},children:(0,i.jsx)("span",{className:o?h()["dict-collapse-btn-icon__open"]:"",children:(0,i.jsx)("svg",{width:"14",height:"8",viewBox:"0 0 14 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M1 0.999999L7 7L13 1",stroke:"#475467","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})})})}),(0,i.jsx)("div",{style:{color:"#939599",fontSize:"14px",width:"30px",marginRight:"10px"},children:"例句"}),(0,i.jsxs)(f.Z,{style:{fontSize:"14px",paddingTop:"2px",width:"calc(100% - 25px)"},children:[(0,i.jsxs)(a.ZP,{style:{marginBottom:"10px",flexDirection:"column",alignItems:"flex-start",padding:"0",position:"relative"},children:[(0,i.jsx)("div",{children:(0,i.jsx)("span",{children:t.egs[0].eg})}),(0,i.jsx)("div",{style:{color:"#939599",fontSize:"14px",marginTop:"5px"},children:t.egs[0].trans})]}),t.egs.length>1&&(0,i.jsx)(s.Z,{in:o,timeout:"auto",unmountOnExit:!0,children:t.egs.slice(1).map(function(e,t){return(0,i.jsxs)(a.ZP,{style:{marginBottom:"10px",flexDirection:"column",alignItems:"flex-start",padding:"0"},children:[(0,i.jsx)("div",{children:e.eg}),(0,i.jsx)("div",{style:{color:"#939599",fontSize:"14px",marginTop:"5px"},children:e.trans})]},t)})})]})]})]})}function m(e){var t=e.data,n=(0,r._)((0,u.useState)(!1),2),o=n[0],l=n[1];return(0,i.jsxs)(i.Fragment,{children:[t.pinyin&&(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{children:"拼音："}),(0,i.jsx)("span",{children:t.pinyin.join("；")})]}),t.english_words_name&&(0,i.jsx)("div",{children:t.english_words_name}),(0,i.jsx)("div",{children:t.english&&(0,i.jsxs)("div",{style:{marginTop:"10px"},children:[(0,i.jsx)("span",{children:"英语："}),(0,i.jsx)("span",{children:t.english})]})}),(0,i.jsxs)(f.Z,{style:{paddingBottom:"0",width:"calc(100% - 25px)"},children:[(0,i.jsx)(a.ZP,{style:{padding:"0"},children:(0,i.jsxs)("div",{children:[t.cyjs&&(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:t.cyjs}}),t.jbjs&&(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:t.jbjs},className:h()["dict-output"]})]})}),(0,i.jsx)(s.Z,{in:o,timeout:"auto",unmountOnExit:!0,children:(0,i.jsx)(a.ZP,{style:{padding:"0"},children:(0,i.jsx)("div",{children:t.xxjs&&(0,i.jsx)("div",{children:(0,i.jsx)("span",{dangerouslySetInnerHTML:{__html:t.xxjs}})})})})})]}),t.xxjs&&(0,i.jsx)("div",{className:h()["dict-collapse-btn"],onClick:function(){l(!o)},children:(0,i.jsx)("span",{className:o?h()["dict-collapse-btn-icon__open"]:"",children:(0,i.jsx)("svg",{width:"14",height:"8",viewBox:"0 0 14 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M1 0.999999L7 7L13 1",stroke:"#475467","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})})})})]})}},94006:function(e,t,n){"use strict";n.d(t,{l:function(){return u}});var r=n(57437),i=n(78693),o=n(23665),a=n.n(o),s=n(2265),l=n(55833),c=n(53998);function u(e){var t=e.data,n=e.resultId,o=t.ipAddress,u=(t.cn?"中国":"")+" "+t.province+" "+t.city+" "+t.area,d=t.isp?(t.cn?"中国":"")+t.isp.replace("。",""):"",h=(t.local?"您的IP地址是：":"IP地址是：")+o+"；来自："+u+" "+d,f=l.vs.useBridge("exportMarkdownAPI");(0,s.useEffect)(function(){var e;null===(e=f.current)||void 0===e||e.updateExportMarkdownTextMap(l.r$.RealTimeInfo,n,h)},[h]);var p=(0,c.RG)({base:16,title:15,ip:20,location:14,operator:14});return(0,r.jsxs)(i.Z,{style:{position:"relative",fontSize:p.base},children:[(0,r.jsx)("div",{className:a()["ai-write-container"],children:(0,r.jsx)("div",{className:a()["ai-write-header"],children:(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,r.jsx)("span",{style:{fontSize:p.title,color:"var(--content-op-color)",fontWeight:700,lineHeight:"24px"},children:"IP查询"}),(0,r.jsx)("span",{style:{fontSize:p.ip,color:"var(--black)",fontWeight:700,lineHeight:"28px",marginTop:"10px",marginBottom:"5px"},children:t.local?"本机IP："+o:"归属地："+u}),(0,r.jsx)("span",{style:{fontSize:p.location,color:"#475467",lineHeight:"22px"},children:t.local?"归属地："+u:"IP地址："+o}),d&&(0,r.jsx)("span",{style:{fontSize:p.operator,color:"#475467",lineHeight:"22px"},children:"运营商："+d})]})})}),(0,r.jsxs)("div",{style:{marginTop:"20px"},children:[t.local?"您的IP地址是：":"IP地址是：",(0,r.jsx)("span",{style:{backgroundColor:"var(--table-border)",borderRadius:"6px",lineHeight:"25px",height:"25px",padding:"5px 5px"},children:o}),"；来自：",u+" "+d,"。"]})]})}},12450:function(e,t,n){"use strict";n.d(t,{L:function(){return y},B:function(){return b}});var r,i,o=n(12249),a=n(50059),s=n(57437),l=n(30983),c=n.n(l),u=n(23665),d=n.n(u),h=n(78693),f=n(47080),p=n(94746);function x(){return(x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var g=function(e){return p.createElement("svg",x({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),r||(r=p.createElement("g",{id:"terminal-circle",clipPath:"url(#clip0_11_506)"},p.createElement("path",{id:"Icon",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"m7 15 3-3-3-3m6 6h4m5-3c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10"}))),i||(i=p.createElement("defs",null,p.createElement("clipPath",{id:"clip0_11_506"},p.createElement("path",{fill:"#fff",d:"M0 0h24v24H0z"})))))},v=n(55833),m=n(47812),_=n(2265),w=n(36760),j=n.n(w),b=(0,_.memo)((0,_.forwardRef)(function(e,t){var n=e.isH5?c():d(),r=(0,a._)((0,_.useState)(!e.history),2),i=r[0],l=r[1],u=(0,a._)((0,_.useState)(0),2),f=u[0],p=u[1];(0,_.useImperativeHandle)(t,function(){return{setShowProgress:l,setLoadingTime:p}},[]);var x=(0,a._)((0,_.useState)({}),2),w=(x[0],x[1]),b=(0,_.useRef)(!1),y=(0,a._)((0,_.useState)(!1),2),k=y[0],C=y[1];(0,_.useEffect)(function(){setTimeout(function(){b.current=!0},1500)},[]);var S=(0,_.useMemo)(function(){var t=e.engineType===m.rG.WORKFLOW?"主题分析...":"问题分析...",n=m.rG.WEBPAGE==e.engineType?"整理网页":e.engineType===m.rG.WORKFLOW?"整理资料":e.engineType===m.rG.IMAGE?"图片理解":"整理答案",r=e.isImageSearch?"图片识别":e.engineType?v.FQ[e.engineType]:e.isClawerLabel?"阅读网页":"全网搜索";return e.isH5?"research"===e.mode?[{text:t,subProgress:!0},{text:"初步研究",subProgress:!1},{text:"深度研究",subProgress:!1}]:[{text:t,subProgress:!0},{text:r,subProgress:!1},{text:n,subProgress:!1}]:"research"===e.mode?[{text:t,subProgress:!0},{text:r,subProgress:!1},{text:"初步研究",subProgress:!1},{text:"深度研究",subProgress:!1}]:[{text:t,subProgress:!0},{text:r,subProgress:!1},{text:n,subProgress:!1},{text:"完成",subProgress:!1}]},[e.mode,e.isClawerLabel]);return v.vs.useRegister("progress",{onProgress:function(e){w(e)},updateStepTips:function(e,t,n){b.current&&(S[e].text!==t||void 0!==n&&n!==S[e].subProgress)&&(S[e].text=t,void 0!==n&&(S[e].subProgress=n),C(!0))}},[S]),(0,s.jsx)(h.Z,{className:j()(n["progress-container"],(0,o._)({},n["height-0"],!i||e.noData)),children:(0,s.jsxs)(h.Z,{className:n["result-field-title"],children:[(0,s.jsx)(g,{}),0===f?(0,s.jsx)(s.Fragment,{children:e.finished?"搜索完成":S[0].text}):1===f?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.Z,{children:"没有广告，直达结果..."})," "]}):2===f?(0,s.jsxs)(s.Fragment,{children:[S[1].text,"..."]}):(0,s.jsxs)(s.Fragment,{children:[e.engineType===m.rG.IMAGE?S[2].text:S[1].text,k?"":"..."]})]})})})),y=(0,_.memo)((0,_.forwardRef)(function(e,t){var n=e.isH5?c():d();(0,_.useImperativeHandle)(t,function(){return{setStartLoading:o}},[]);var r=(0,a._)((0,_.useState)(!1),2),i=r[0],o=r[1];return!!e.show&&(0,s.jsxs)(h.Z,{className:n["skeleton-container"],children:[(0,s.jsx)(f.Z,{className:n.sk,width:i?"100%":0}),(0,s.jsx)(f.Z,{className:n.sk,width:i?"100%":0}),(0,s.jsx)(f.Z,{className:n.sk,width:i?"80%":0}),(0,s.jsx)(f.Z,{className:n.sk,width:i?"20%":0})]})}))},61447:function(e,t,n){"use strict";n.d(t,{gE:function(){return k},uP:function(){return C}});var r=n(2403),i=n(50059),o=n(45008),a=n(85735),s=n(5853),l=n(57437),c=n(78693),u=n(16210),d=n(2265),h=n(10995),f=n.n(h),p=n(55833),x=n(25922),g=n(56873),v=n(27030),m=n(76720);function _(){var e=(0,o._)(["\n  width: 20px;\n  height: 20px;\n  cursor: pointer;\n"]);return _=function(){return e},e}function w(){var e=(0,o._)(['\n  position: absolute;\n  font-family: "Roboto", "Helvetica", "Arial", sans-serif;\n  font-weight: 400;\n  font-size: 16px;\n  line-height: 16px;\n  color: #475467;\n  cursor: pointer;\n  user-select: none;\n  height: 40px;\n  width: 50px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n']);return w=function(){return e},e}var j={Source:"来源",MindMap:"脑图",Outline:"大纲",Status:"结论"},b=["结论","来源","脑图","大纲"],y=["来源"];function k(e){p.Un.useRegister("searchRightExtraKitsApi",{setSourceTabIfNeed:function(){return!0},isNotSourceTabAndPin:function(){return!0}},[],e)}var C=(0,d.memo)(function(e){var t=e.collapse,n=e.sourceNode,r=e.mindMapNode,o=e.outlineNode,s=e.statusNode,u=e.qaEdited,h=(0,i._)((0,d.useState)(u?y:b),2),x=h[0],g=h[1],v=(0,d.useRef)(),_=(0,d.useMemo)(function(){return x[0]},[x]),w=(0,d.useCallback)(function(e){g([e].concat((0,a._)(x.filter(function(t){return t!==e}))))},[x]),k=(0,i._)((0,d.useState)(!1),2),C=k[0],I=k[1];(0,d.useEffect)(function(){_===j.Source&&I(!1)},[_]),p.Un.useRegister("searchRightExtraKitsApi",{setSourceTabIfNeed:function(){return!C&&_!=j.Source&&(w(j.Source),setTimeout(function(){var e;null===(e=v.current)||void 0===e||e.animate(j.Source)},100),!0)},isNotSourceTabAndPin:function(){return C&&_!=j.Source||t}},[_,C,t]);var Z=p.vs.useBridge("resultAPI"),E=p.Un.useBridge("LinkBoxAPI"),L=(0,d.useMemo)(function(){var t=[];return e.statusNode&&t.push("结论"),e.sourceNode&&t.push("来源"),e.mindMapNode&&t.push("脑图"),e.outlineNode&&t.push("大纲"),g(t),t},[]);return(0,d.useEffect)(function(){if(_==j.Source){var e;null===(e=E.current)||void 0===e||e.refresh()}},[_]),(0,l.jsxs)(c.Z,{sx:{top:"75px",position:"".concat(C?"sticky":"static"),opacity:t?0:1},className:f()["extra-kit-container"],children:[(0,l.jsxs)(c.Z,{position:e.headSticky?"sticky":"relative",top:0,zIndex:2,children:[(0,l.jsx)(c.Z,{sx:{position:"absolute",height:"75px",width:"100%",top:"-70px",backgroundColor:"var(--gray)"}}),(0,l.jsx)(S,{ref:v,tabSort:x,tabList:L,setTabSort:w,headSticky:e.headSticky,pinActive:C,setPinActive:I,onClose:function(){var t;if(e.onClose){e.onClose();return}null===(t=Z.current)||void 0===t||t.hideMind("left-menu")}})]}),(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(c.Z,{display:_===j.Source?"block":"none",children:n}),_===j.MindMap&&(0,l.jsx)(c.Z,{className:C?f()["search-right-extra-content__pin"]:f()["search-right-extra-content"],children:r}),(0,l.jsx)(c.Z,{display:_===j.Outline?"block":"none",minHeight:"375px",height:C?"420px":"auto",children:o}),(0,l.jsx)(m.o,{show:_===j.Status,unmountOnInitial:!0,className:"flex-column",children:s})]})]})}),S=(0,d.forwardRef)(function(e,t){var n,o,a=e.tabSort,u=e.setTabSort,h=e.pinActive,f=e.setPinActive,p=e.onClose,x=e.headSticky,m=(0,i._)((0,d.useState)(!1),2),_=m[0],w=m[1],b=(0,i._)((0,d.useState)(!0),2),y=(b[0],b[1]),k=(0,d.useRef)(),C=(0,d.useRef)(),S=(0,d.useRef)(),E=(0,d.useRef)();(0,d.useImperativeHandle)(t,function(){return{animate:B}});var T=function(){var e=(0,v.I)(),t=e.done,n=e.resolve;return E.current=t,y(!1),t.then(function(){y(!0)}),{resolve:n,done:t}},P=(0,d.useCallback)(function(e){B(e),u(e)},[a]),M=(0,d.useCallback)(function(e){f(e)},[]),R=(0,d.useCallback)(function(){p()},[]),N=(0,d.useId)(),A=(n=(0,r._)(function(e){var t,n,r,i,o,l,c,u,d=arguments;return(0,s.Jh)(this,function(s){for(t=d.length>1&&void 0!==d[1]?d[1]:300,n=[],i=r=e?1:0;i<a.length;i++)n.push(document.getElementById("SearcRightExtraTab-"+N+i));return o=function(){var r=(0,g.default)({delay:t,targets:n,easing:"linear",duration:300,opacity:e?0:1,changeBegin:function(){n.forEach(function(t){return g.default.set(t,{"pointer-events":"".concat(e?"none":"auto"," ")})})}});e?C.current=r:k.current=r},e?(null===(l=k.current)||void 0===l||l.pause(),E.current?null===(c=E.current)||void 0===c||c.then(function(){o()}):o()):(null===(u=C.current)||void 0===u||u.pause(),o()),[2]})}),function(e){return n.apply(this,arguments)}),B=(0,d.useCallback)((o=(0,r._)(function(e){var t,n,r,i;return(0,s.Jh)(this,function(o){return r=T().resolve,null===(t=S.current)||void 0===t||t.pause(),null===(n=C.current)||void 0===n||n.pause(),i={prev:[],next:[],active:[]},a.forEach(function(t,n){var r={el:document.getElementById("SearcRightExtraTab-"+N+n),left:0};e===t?i.active.push(r):i.active.length>0?(r.left=70*n,i.next.push(r)):(r.left=(1+i.prev.length)*70,i.prev.push(r))}),S.current=g.default.timeline({targets:i.prev.map(function(e){return e.el})}).add({targets:i.next.map(function(e){return e.el}),duration:500,left:function(e,t){return i.next[t].left},easing:"easeOutExpo",opacity:1}).add({keyframes:[{opacity:.5,scale:.8,duration:200,easing:"easeOutExpo"},{left:function(e,t){return i.prev[t].left},easing:"easeOutExpo",duration:400},{duration:300,opacity:1,scale:1,easing:"easeInExpo"}],complete:function(){r(),A(!0,3e3)}},"0").add({targets:i.active.map(function(e){return e.el}),left:0,duration:400,scale:1,opacity:1,easing:"spring(1,80,20,0)"},"200"),[2]})}),function(e){return o.apply(this,arguments)}),[_,a]);return(0,l.jsxs)(c.Z,{onMouseEnter:function(){A(!1,0),w(!0)},onMouseLeave:function(){A(!0),w(!1)},sx:{display:"flex",position:"relative",borderBottom:"2px solid var(--border-color)",height:"40px",alignItems:"center",backgroundColor:"var(--gray)"},children:[a.map(function(e,t){var n=0===t;return(0,l.jsx)(L,{id:"SearcRightExtraTab-"+N+t,onClick:function(){n||P(e)},sx:{left:"".concat(70*t,"px"),marginRight:"20px",borderBottom:"2px solid transparent ",borderColor:"".concat(n?"var(--black)":"transparent"),color:"".concat(n?"var(--active-tab-color)":"#475467"),fontWeight:"".concat(n?"700":"400"),opacity:"".concat(n?1:0)},children:e},e)}),(0,l.jsxs)(c.Z,{sx:{position:"absolute",right:0,display:"flex",gap:"10px"},children:[!x&&a[0]!==j.Source&&_&&(0,l.jsx)(I,{active:h,onClick:M}),(_||x)&&(0,l.jsx)(Z,{onClick:R})]})]})}),I=function(e){var t=e.active,n=e.onClick;return(0,x.F)().resolvedTheme,(0,l.jsx)(E,{onClick:function(){n(!t)},children:t?(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,l.jsx)("path",{d:"M12.6703 2.5534C12.8356 2.62505 12.9858 2.72733 13.1131 2.85483L16.8545 6.60007C17.0184 6.76417 17.1399 6.96572 17.2085 7.18728C17.277 7.40885 17.2906 7.64377 17.248 7.87176C17.2055 8.09975 17.108 8.31395 16.9641 8.49584C16.8202 8.67774 16.6342 8.82187 16.4222 8.91578L15.0965 9.50293L12.6093 11.9929L12.4122 14.732C12.3925 15.0051 12.2947 15.2668 12.1305 15.4859C11.9663 15.705 11.7426 15.8723 11.486 15.9679C11.2294 16.0635 10.9507 16.0833 10.6832 16.025C10.4157 15.9667 10.1705 15.8328 9.97693 15.6391L7.56169 13.2215L3.44597 17.3563L2.43359 16.3482L6.55169 12.211L4.05312 9.71054C3.85987 9.51711 3.72618 9.27228 3.66795 9.00512C3.60971 8.73797 3.62937 8.45971 3.72459 8.2034C3.8198 7.94708 3.98658 7.72348 4.2051 7.55913C4.42363 7.39479 4.68473 7.29661 4.9574 7.27626L7.77455 7.06578L10.2174 4.62007L10.7912 3.29626C10.8658 3.12409 10.9736 2.96829 11.1084 2.83778C11.2432 2.70726 11.4024 2.60458 11.5769 2.5356C11.7514 2.46661 11.9377 2.43268 12.1253 2.43574C12.3129 2.43879 12.4981 2.47877 12.6703 2.5534Z",fill:"var(--icon-btn-color)"})}):(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,l.jsx)("path",{d:"M12.6703 2.55535C12.8356 2.62701 12.9858 2.72928 13.1131 2.85678L16.8545 6.60202C17.0184 6.76613 17.1399 6.96767 17.2085 7.18924C17.277 7.4108 17.2906 7.64573 17.248 7.87371C17.2055 8.1017 17.108 8.3159 16.9641 8.4978C16.8202 8.6797 16.6342 8.82383 16.4222 8.91774L15.0965 9.50488L12.6093 11.9949L12.4122 14.7339C12.3925 15.007 12.2947 15.2687 12.1305 15.4878C11.9663 15.707 11.7426 15.8743 11.486 15.9698C11.2294 16.0654 10.9507 16.0852 10.6832 16.027C10.4157 15.9687 10.1705 15.8347 9.97693 15.6411L7.56169 13.2235L3.44597 17.3582L2.43359 16.3501L6.55169 12.213L4.05312 9.7125C3.85987 9.51906 3.72618 9.27423 3.66795 9.00708C3.60971 8.73992 3.62937 8.46167 3.72459 8.20535C3.8198 7.94904 3.98658 7.72543 4.2051 7.56109C4.42363 7.39674 4.68473 7.29857 4.9574 7.27821L7.77455 7.06774L10.2174 4.62202L10.7912 3.29821C10.8658 3.12604 10.9736 2.97025 11.1084 2.83973C11.2432 2.70922 11.4024 2.60653 11.5769 2.53755C11.7514 2.46857 11.9377 2.43463 12.1253 2.43769C12.3129 2.44074 12.4981 2.48073 12.6703 2.55535ZM12.1022 3.86631L11.4203 5.43916L8.41074 8.45345L5.06312 8.7025L10.9874 14.6311L11.2226 11.3615L14.2741 8.30631L15.8441 7.61107L12.1022 3.86631Z",fill:"var(--icon-btn-color)"})})})},Z=function(e){var t=e.onClick;return(0,l.jsx)(E,{onClick:t,children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,l.jsx)("path",{d:"M15 5L5 15M5 5L15 15",stroke:"var(--icon-btn-color)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})},E=(0,u.ZP)(c.Z)(_()),L=(0,u.ZP)(c.Z)(w())},76720:function(e,t,n){"use strict";n.d(t,{o:function(){return x}});var r=n(5194),i=n(1780),o=n(46796),a=n(50059),s=n(45008),l=n(57437),c=n(2265),u=n(16210),d=n(78693),h=n(36760),f=n.n(h);function p(){var e=(0,s._)(["\n    &.meta-hider--hidden {\n        display: none;\n    }\n"]);return p=function(){return e},e}var x=(0,c.memo)((0,c.forwardRef)(function(e,t){var n=e.show,s=e.unmountOnInitial,u=e.unmountOnHide,d=(e.children,e.clearWrapperOnUmount),h=(0,o._)(e,["show","unmountOnInitial","unmountOnHide","children","clearWrapperOnUmount"]),p=(0,a._)((0,c.useState)(n),2),x=p[0],v=p[1],m=e.children,_=!1;(0,c.useEffect)(function(){!x&&n&&v(!0)},[n]),!s||x||n||(m=!1,_=!0),u&&!n&&(m=!1,_=!0);var w=(0,l.jsx)(g,(0,i._)((0,r._)({ref:t},h),{className:f()("meta-hider-wrapper",{"meta-hider--hidden":!n},e.className),children:m}));return(!d||!_)&&w})),g=(0,u.ZP)(d.Z)(p())},4416:function(e,t,n){"use strict";n.d(t,{Z:function(){return u},e:function(){return d}});var r=n(5194),i=n(1780),o=n(46796),a=n(57437),s=n(14865),l=n(19643),c=n(78693);function u(e){var t=e.classes,n=(0,o._)(e,["classes"]);return(0,a.jsx)(s.Z,(0,i._)((0,r._)({},n),{classes:(0,r._)({root:"switch-root",switchBase:"switch-base",thumb:"switch-thumb",track:"switch-track"},t)}))}function d(e){var t=e.checked,n=e.onChange,r=e.children;return(0,a.jsxs)(l.Z,{onClick:function(){n(!t)},direction:"row",justifyContent:t?"start":"end",position:"relative",alignItems:"center",sx:{height:"22px",width:"52px",borderRadius:"12px",border:t?"solid 0.5px #1570EF":"solid 0.5px #E5E7EB",backgroundColor:t?"#1570EF":"#F2F4F7"},children:[(0,a.jsx)(c.Z,{sx:{fontSize:"12px",color:t?"white":"#475467",margin:"0 6px",transition:"color .3s"},children:r}),(0,a.jsx)(c.Z,{left:t?"calc(100% - 18px)":"2px",sx:{transition:"left .3s",backgroundColor:"white",height:"16px",width:"16px",borderRadius:"50%",boxShadow:"0px 1px 1px 0px #10182833",position:"absolute"}})]})}n(2265)},3615:function(e,t,n){"use strict";n.d(t,{AB:function(){return U},MW:function(){return D},Q3:function(){return Y},SQ:function(){return X},a7:function(){return N},cP:function(){return H},dC:function(){return A},fR:function(){return V},oX:function(){return z},pw:function(){return W},ty:function(){return q}});var r=n(2403),i=n(50059),o=n(5853),a=n(57437),s=n(2265),l=n(7870),c=n(39207),u=n(23760),d=n(54493),h=n(22322),f=n(96339),p=n(25001),x=n(16056),g=n(31219),v=n(41963),m=n(99376),_=n(75181),w=n(76492),j=n(75825),b=n(89480),y=n(42233),k=n(74634),C=n(28898),S=n(79943),I=n(26058),Z=n(64798),E=n.n(Z),L=n(25060),T=n(89038),P=n(75545),M=n(97152),R=n(15598);function N(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=o.eventDeps||[],l=(0,s.useRef)(),c=(0,i._)((0,s.useState)(!1),2),u=c[0],d=c[1],h=(0,i._)((0,s.useState)(0),2),f=h[0],p=h[1],x=(0,i._)((0,s.useState)(0),2),g=x[0],v=x[1],m=(0,i._)((0,s.useState)(!1),2),_=m[0],w=m[1];(0,k.F)(),(0,s.useLayoutEffect)(function(){var t=function(e){var t,n,r=e.matchesCount.current,i=e.matchesCount.total;null===(t=o.onCurrentIndexChange)||void 0===t||t.call(o,r),null===(n=o.onSearchTotalChange)||void 0===n||n.call(o,i),p(r),v(i),d(!1)};if(e.eventBus)return e.eventBus._on("updatefindmatchescount",t),e.eventBus._on("updatefindcontrolstate",t),function(){e.eventBus._off("updatefindmatchescount",t),e.eventBus._off("updatefindcontrolstate",t)}},[a]);var j=(0,s.useCallback)(function(n){var r,i;d(!0),w(!0),null==e||null===(i=e.pdfFindController)||void 0===i||null===(r=i._eventBus)||void 0===r||r.dispatch("find",{source:l.current,type:"again",query:t,phraseSearch:!0,caseSensitive:!1,entireWord:!1,highlightAll:!0,findPrevious:n})},[null==e?void 0:null===(n=e.pdfFindController)||void 0===n?void 0:n._eventBus,t]);return{currentIndex:f,searchTotal:g,next:(0,s.useCallback)(function(){j(!1)},[j]),prev:(0,s.useCallback)(function(){j(!0)},[j]),clear:(0,s.useCallback)(function(){var t,n;w(!1),null==e||null===(n=e.pdfFindController)||void 0===n||null===(t=n._eventBus)||void 0===t||t.dispatch("find",{source:l.current,type:"again",query:"",phraseSearch:!0,caseSensitive:!1,entireWord:!1,highlightAll:!0,findPrevious:!1})},[null==e?void 0:null===(r=e.pdfFindController)||void 0===r?void 0:r._eventBus]),loading:u,searched:_}}function A(e){var t=(0,P.p)(e);return{reports:t.links.filter(function(e){return e.file_meta.is_report&&e.file_meta.cover_oss_url}),map:t.map}}function B(e,t,n){return t===n||!!e&&e.endsWith(n)}var H=function(e){var t=e.displayUrl,n=e.url,r=(e.bakUrl,e.title),i=e.fileDownloadUrl,o=e.fileSuffix,a=e.id,u=e.isInternalFile,d=(0,s.useMemo)(function(){var e="",n=o||"";return B(t,n,".docx")?(n=".docx",e="application/vnd.openxmlformats-officedocument.wordprocessingml.document"):B(t,n,".doc")?(n=".doc",e="application/msword"):B(t,n,".ppt")?(n=".ppt",e="application/vnd.ms-powerpoint"):B(t,n,".pptx")?(n=".pptx",e="application/vnd.openxmlformats-officedocument.presentationml.presentation"):B(t,n,".pdf")&&(n=".pdf",e="application/pdf"),{type:e,suffix:n}},[t,o]),f=d.type,p=d.suffix,x=(0,s.useMemo)(function(){return i&&"null"!=i?i:u||".html"!=p?n.replace(".pdf",p):n},[n,p,i]),g=(0,s.useMemo)(function(){var e=r.replace(/[\/\?<>\\:\*\|"]/g,"");return e.endsWith(p)?e:u||".html"!=p?e+p:e+".pdf"},[r,p]);return{download:(0,s.useCallback)(function(){if(p||i){if((0,l.dW)("pdf-viewer-download",{url:x}),(0,L.aF)())location.href=x;else if(u){var e=(0,c.X7z)(a),t=document.createElement("a");t.href=e,document.body.appendChild(t),t.click(),URL.revokeObjectURL(t.href),document.body.removeChild(t)}else(0,c.SvO)(x).then(function(e){if("string"==typeof e.data.type&&e.data.type.startsWith("application/json")){var t=new FileReader;t.readAsText(e.data,"utf-8"),t.onload=function(){var e=JSON.parse(t.result);(0,h.y)(e.errMsg,{variant:"error",autoHideDuration:3e3})}}else{var n=new Blob([e.data],{type:f+"charset=utf-8"}),r=document.createElement("a");r.download=g,r.target="_blank",r.style.display="none",r.href=URL.createObjectURL(n),document.body.appendChild(r),r.click(),URL.revokeObjectURL(r.href),document.body.removeChild(r)}})}},[g,f,p,x,i,n]),downloadUrl:x,internalFileDownloadUrl:u?(0,c.X7z)(a):"",downloadName:g,type:f,suffix:p}};function F(){return(F=(0,r._)(function(e){var t,n,r,i,a,s=arguments;return(0,o.Jh)(this,function(o){switch(o.label){case 0:return t=s.length>1&&void 0!==s[1]?s[1]:.3,[4,e.pdfDoc.getPage(1)];case 1:return r=(n=o.sent()).getViewport({scale:t}),(i=document.createElement("canvas")).className="thumbnail",a=i.getContext("2d"),i.height=r.height,i.width=r.width,[4,n.render({canvasContext:a,viewport:r}).promise];case 2:return o.sent(),[2,i.toDataURL("image/png")]}})})).apply(this,arguments)}function D(e){return O.apply(this,arguments)}function O(){return(O=(0,r._)(function(e){var t,n,r,i,a,s,l,c=arguments;return(0,o.Jh)(this,function(o){switch(o.label){case 0:return[4,function(e){return F.apply(this,arguments)}(e,c.length>1&&void 0!==c[1]?c[1]:.3)];case 1:return t=o.sent(),(n=new Image).src=t,n.style.backgroundColor="white",n.style.position="fixed",n.style.zIndex="100000",r=formPromiseTool(),requestAnimationFrame(function(){r.resolve(null)}),[4,r.done];case 2:return o.sent(),i=0,a=0,4*n.naturalWidth/5>n.naturalHeight?(i=n.naturalWidth,a=4*n.naturalWidth/5):(i=5*n.naturalHeight/4,a=n.naturalHeight),l=(s=document.createElement("canvas")).getContext("2d"),s.width=i,s.height=a,l.drawImage(n,(i-n.naturalWidth)/2,(a-n.naturalHeight)/2),[2,s.toDataURL()]}})})).apply(this,arguments)}function W(e){var t,n,y,k=(0,u.LM)(function(e){return e.login}),Z=(0,p.W)({request:(t=(0,r._)(function(t,n){return(0,o.Jh)(this,function(t){return(null==n||n.abort(),k)?[2,(0,c.XL2)(e.url).then(d.Jj).then(function(e){return e.data.data})]:[2,null]})}),function(e,n){return t.apply(this,arguments)}),autoRequest:!1,defaultData:null}),E=(0,i._)((0,C.A)("scrollBookIntoView"),3),L=E[0],T=E[1];E[2],(0,s.useEffect)(function(){k&&e.url&&Z.doRequest()},[k,e.url]);var P=(0,S.WS)(),M=(0,s.useRef)(!1),R=(0,s.useCallback)((n=(0,r._)(function(t,n){var r,i,s,d,p,v;return(0,o.Jh)(this,function(o){switch(o.label){case 0:return[4,b.wS.done];case 1:if(o.sent(),r=function(e){return(0,a.jsx)("span",{onClick:function(t){var n,r;T({id:(null==e?void 0:e.id)||(null===(n=Z.data)||void 0===n?void 0:n.id)}),(null===(r=B.current)||void 0===r?void 0:r.reload)?P.back():(M.current=!0,P.push(j.l.Bookshelf))},style:{color:"#1570EF",textDecoration:"underline",fontWeight:"normal"},children:"去查看"})},Z.data)return(0,h.y)((0,a.jsxs)("div",{children:["您已将该文档加入书架，无需重复添加，",r()]}),{variant:"success"}),[2];if(u.LM.getState().login||n)return[2,e.pdfInfo.pdfDoc.getPage(1).then(function(t){var n=t.getViewport({scale:.3}),i=document.createElement("canvas");i.className="thumbnail";var o=i.getContext("2d");return i.height=n.height,i.width=n.width,t.render({canvasContext:o,viewport:n}).promise.then(function(){var t=i.toDataURL("image/png");return(0,l.dW)("addBook",{_id:t.substring(t.lastIndexOf("/")+1,t.lastIndexOf("."))}),(0,c.TAj)({base64:t,title:e.title,url:e.url,fileMeta:{url:e.displayUrl,type:e.type,file_path:e.file_path,_id:e._id,source:e.tag,author:e.author,publishDate:e.publishDate,internalFile:e.internalFile,downloadUrl:e.downloadUrl}}).then(function(t){if(0===t.data.errCode){var n,i;Z.setData(t.data.data),(0,h.y)((0,a.jsxs)("div",{children:["该文档已加入书架，",r(t.data.data)]}),{variant:"success"}),null===(n=e.onAddedToBookshelf)||void 0===n||n.call(e),null===(i=B.current)||void 0===i||i.reload()}})})})];return d=(0,w.Dq)("openPdfViewer",location.search),t&&(d.snippet=null,d.page=t),p=(0,w.Qn)(d),v=(0,x.GZ)(p.href,[(0,x.kv)(g.a.AddToBookShelf,{pdfUrl:encodeURIComponent(e.url)})]),((null===(i=(0,I.ZD)())||void 0===i?void 0:i.isAliApp)||(null===(s=(0,I.ZD)())||void 0===s?void 0:s.isMiniWebView))&&1==history.length&&u.aK.setState({backPath:j.l.Home}),(0,f.x3)({redirectUrl:v.href,tipsHtml:"<b>登录后，可将文档加入书架</b>",showTips:!0,target:"back-replace",logDesc:"add-to-bookshelf"}),[2]}})}),function(e,t){return n.apply(this,arguments)}),[P,L,e.onAddedToBookshelf,Z.data,e.pdfInfo,e._id,e.file_path,e.url,e.displayUrl,e.title,k]),N=(0,v.Ne)((y=(0,r._)(function(t,n){var r,i;return(0,o.Jh)(this,function(n){switch(n.label){case 0:if(!((r=(0,x.xq)(t,g.a.AddToBookShelf))&&k))return[3,3];if((null===(i=r.searchParams)||void 0===i?void 0:i.pdfUrl)!==e.url)return[3,2];return[4,R(void 0,!0)];case 1:n.sent(),n.label=2;case 2:return[2,[r.type]];case 3:return[2,[]]}})}),function(e,t){return y.apply(this,arguments)}),{deps:[k,e.url,R,Z.data]}),A=(0,m.useSearchParams)();(0,s.useEffect)(function(){e.url&&e.pdfInfo&&!Z.isPending&&N()},[A,e.url,k,e.pdfInfo,Z.isPending]);var B=_.xL.useAPI("h5Bookshelf"),H=(0,s.useCallback)(function(){Z.data&&((0,l.dW)("removeBook",{_id:Z.data.url.substring(Z.data.url.lastIndexOf("/")+1,Z.data.url.lastIndexOf("."))}),(0,c.fyJ)(Z.data.id).then(function(e){if(0===e.data.errCode){var t;Z.setData(null),(0,h.y)("该文档已从书架移出",{variant:"success",autoHideDuration:3e3}),null===(t=B.current)||void 0===t||t.reload()}else 401===e.data.errCode?(0,f.x3)({showTips:!0,callback:function(){H()},logDesc:"not-login-when-remove-bookshelf"}):(0,h.y)("移除书架失败",{variant:"error",autoHideDuration:3e3})}))},[Z.data]);return{addToBookShelf:R,removeFromBookShelf:H,bookRemote:Z,isNavigatingToBookshelfRef:M}}function U(e){var t=(0,i._)((0,s.useState)(null),2),n=t[0],r=t[1],o=(0,i._)((0,s.useState)(null),2),a=o[0],l=o[1],h=(0,u.LM)(function(e){return e.login}),f=(0,i._)((0,s.useState)(!1),2),p=f[0],x=f[1];return(0,s.useLayoutEffect)(function(){h&&((0,c.XL2)(e).then(d.Jj).then(function(e){x(!0),r(e.data.data)}),(0,c.XL2)(e,!0).then(d.Jj).then(function(e){l(e.data.data)}))},[h,e]),{book:n,setBook:r,loadBookFinished:p,pptBook:a,setPptBook:l}}function z(e){var t=e.id,n=e.pdfUrl,r=e.displayUrl,o=e.title,a=(e.type,e.page),l=e.autoFetch,u=e.tag,d=e.author,h=e.publishDate,f=e.internalFile,p=e.readMode;e.chapterId;var x=(0,i._)((0,s.useState)(""),2),g=x[0],v=x[1],m=(0,s.useCallback)(function(i){var s=new URL(j.l.Bookshelf,location.origin),l={page:a,_id:t,url:n,displayUrl:r,title:o,snippet:null,sessionId:null,file_path:"",tag:u,publishDate:h,author:d,showFront:!1,downloadUrl:null,internalFile:f,readMode:p};e.shareType&&(l.shareType=e.shareType),e.chapterId&&(l.chapterId=e.chapterId);var x=(0,w.Qn)(l,s),g=x.href.replace(x.origin,"");return new Promise(function(e,t){if(i){e(g);return}(0,c.JjP)(g,c.FqK.DEFAULT,null).then(function(t){v(t.data.data),e(location.origin+t.data.data)}).catch(function(e){t(e)})})},[n,r,o,a,t,u,h,d,f,p,e.shareType,e.chapterId]);return(0,s.useEffect)(function(){l&&m()},[l,g]),{pdfShareUrl:g,getShareUrl:m}}function V(e){var t,n=null!==(t=null==e?void 0:e.removeParam)&&void 0!==t&&t,i=T.x.useAPI("pdfContainer"),a=!!(0,m.useSearchParams)().get(M.o),l=(0,w.p2)("openPdfViewer"),c=M.C.get(),u=a&&!l.url&&c||l,d=(0,S.WS)(),h=(0,s.useCallback)((0,r._)(function(){var e,t,r,a,s,l,c,d,h;return(0,o.Jh)(this,function(o){if(t=new URL(location.href),!u.url||!u.page)return[2];if(r=!!u.url.match(/file\/(\d+)\/preview/),null===(e=i.current)||void 0===e||e.show({file_meta:{url:u.displayUrl,type:u.type||u.displayUrl.split(".").reverse()[0],file_path:u.file_path,_id:u._id,downloadUrl:u.downloadUrl,internalFile:r},pdfHighlightInfo:u.snippet||void 0,tag:u.tag,url:r||!u._id?u.url:"".concat(R.xu).concat(u._id,".pdf"),title:u.title,page:u.page||1,totalPage:u.totalPage||0,bookId:u.bookId||void 0,author:u.author,readMode:u.readMode,chapterId:u.chapterId,autoOpenPPT:u.autoOpenPPT,disableUrlReplace:t.searchParams.has("shareType")&&t.searchParams.has("shareKey")}),n){a=!0,s=!1,l=void 0;try{for(c=Object.keys(u)[Symbol.iterator]();!(a=(d=c.next()).done);a=!0)h=d.value,t.searchParams.delete(h)}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}history.replaceState(null,"",t.href)}return[2]})}),[a,u,i,n,d]);return(0,s.useEffect)(function(){h()},[]),{openPdfViewerParams:u}}var Y="".concat(y.re.OSSUrl,"/metaso/");function q(e,t,n,r){var i=(0,s.useRef)(null);(0,S.WS)();var o=(0,s.useMemo)(function(){return!!(0,L.aF)()},[]),a=(0,s.useMemo)(function(){return E()(c.VK7,500,{trailing:!0,leading:!1})},[]);(0,s.useEffect)(function(){!o&&e&&e.id&&(i.current&&clearTimeout(i.current),i.current=setTimeout(function(){if((!r||r())&&!(0,x.KL)(location.search).length){var o=new URL(location.href);o.searchParams.has("page")&&(o.searchParams.set("page",t.toString()),o.searchParams.set("totalPage",n.toString()),history.replaceState(null,"",o.href)),a(e.id,t,n),i.current=null}},1e3))},[e,t,r])}function X(e,t,n,r,i,o,a){var s=e.file_meta;s.url&&(s.url=(0,c.FGH)(s.url));var l={file_meta:s,title:e.title,page:e.page,rid:a,target:o,pdfHighlightInfo:i,tag:e.file_meta.source,author:e.author,publishDate:e.publish_date,internalFile:e.internalFile};(0,R.YQ)({pdfParams:l,isH5:t,router:n,pdfContainerAPI:r.current})}},96398:function(e,t,n){"use strict";n.d(t,{B:function(){return m}});var r=n(50059),i=n(57437),o=n(2265),a=n(22805),s=n(22322),l=n(36570),c=n(39207),u=n(19643),d=n(35389),h=n(78693),f=n(70877),p=n(16712),x=n(54632),g=n(7870),v=n(26058),m=(0,o.memo)((0,o.forwardRef)(function(e,t){var n,m,j,b,y,k,C,S,I,Z,E,L,T,P,M,R=(n=e.sessionId,m=e.resultId,b=(j=(0,r._)((0,o.useState)(""),2))[0],y=j[1],C=(k=(0,r._)((0,o.useState)(!1),2))[0],S=k[1],Z=(I=(0,r._)((0,o.useState)(!1),2))[0],E=I[1],T=(L=(0,r._)((0,o.useState)(!1),2))[0],P=L[1],M=(0,o.useRef)(),{handleGenerate:(0,o.useCallback)(function(){var e;y(""),S(!0),E(!1),P(!1),null===(e=M.current)||void 0===e||e.cancel(),M.current=(0,a.iL)(m,"api/session/".concat(n,"/result/").concat(m,"/explain"),(0,c.KrV)({lang:l.ZP.outputLang.get()}),{begin:function(){},receive:function(e){S(!1),"append-text"===e.type?y(function(t){return t+e.text}):"generated"===e.type?y(e.data):"error"===e.type&&(S(!1),E(!0),P(!0),(0,s.y)("生成讲解内容失败",{variant:"error",autoHideDuration:3e3}))},down:function(){S(!1),E(!0)},error:function(){S(!1),E(!0),(0,s.y)("生成讲解内容失败",{variant:"error",autoHideDuration:3e3})}},!1,function(e){M.current=e})},[n,m]),text:b,loading:C,finished:Z,error:T}),N=R.handleGenerate,A=R.text,B=(R.loading,R.finished),H=R.error,F=(0,o.useRef)(!1),D=(0,r._)((0,o.useState)(!1),2),O=D[0],W=D[1],U=(0,r._)((0,o.useState)(!1),2),z=U[0],V=U[1],Y=(0,o.useRef)(null),q=(0,o.useRef)(null);(0,o.useEffect)(function(){q.current=new f.Z({ttsTimber:"uk_woman16",speed:1,taskIdSuffix:"system",chapterId:"",onSentenceChange:function(){},onTimeupdate:function(e){if(V(!1),1===e){var t,n,r,i;W(!1),clearTimeout(Y.current),null===(t=q.current)||void 0===t||t.pause(),null===(n=q.current)||void 0===n||n.gotoPage(0),null===(r=q.current)||void 0===r||r.gotoSentence(0),null===(i=q.current)||void 0===i||i.disConnect(),F.current=!0}else q.current.isPlaying()&&(clearTimeout(Y.current),Y.current=setTimeout(function(){V(!0)},500))},onClosed:function(){},onConnected:function(){q.current.gotoPage(0),q.current.play("",0),q.current.continue(!0),Q.current()},onPaused:function(){clearTimeout(Y.current),V(!1),W(!1)}})},[]);var X=(0,o.useRef)(!1);(0,o.useRef)(null);var G=(0,o.useCallback)(function(){var e,t,n,r;X.current?(H&&N(),null===(e=q.current)||void 0===e||e.continue(F.current),F.current=!1):(null===(t=q.current)||void 0===t||t.continue(),null===(n=q.current)||void 0===n||n.setVolume(1),null===(r=q.current)||void 0===r||r.start(),V(!0),N(),X.current=!0)},[N,H]);(0,o.useEffect)(function(){return function(){var e;null===(e=q.current)||void 0===e||e.close()}},[]);var J=(0,o.useRef)([]),K=(0,o.useCallback)(function(){if(A){var e,t,n,r,i=/[\u4e00-\u9fa5]/.test(A);q.current&&q.current.addPage("system",0);var o=new p.g({talkMode:!1,language:i?"cn":"en",firstSentenceNotMergeNext:!0});o.setText(A);var a=o.getSplitSentences();a[0]&&(e=a[0].text).length>10&&e.match(/[。？！…]$/)&&!J.current[0]&&(J.current.push(!0),null===(t=q.current)||void 0===t||t.addPageText(0,a[0]));for(var s=0;s<a.length-1;s++)a[s]&&!J.current[s]&&(J.current.push(!0),null===(n=q.current)||void 0===n||n.addPageText(0,a[s]));B&&(1===a.length&&J.current[0]&&q.current.addPageText(0,{text:"",speaker:""},!0),a[a.length-1]&&!J.current[a.length-1]&&(J.current.push(!0),null===(r=q.current)||void 0===r||r.addPageText(0,a[a.length-1],!0)))}},[A,B]),Q=(0,o.useRef)(K);return(0,o.useEffect)(function(){Q.current=K},[K]),(0,o.useEffect)(function(){K()},[A,B]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(u.Z,{direction:"row",alignItems:"center",children:(0,i.jsx)(x.Z,{disabled:e.loading,sx:{padding:"5px 10px",lineHeight:"22px",marginLeft:"-5px"},startIcon:(0,i.jsx)(u.Z,{sx:{width:"18px",height:"18px",alignItems:"center",justifyContent:"center"},children:z||e.loading?(0,i.jsx)(d.Z,{size:14}):O?(0,i.jsx)(w,{}):(0,i.jsx)(_,{})}),onClick:function(){if(!z){if(O){var e;W(!1),clearTimeout(Y.current),null===(e=q.current)||void 0===e||e.pause()}else(0,g.dW)(g.Gy.QA_LISTEN_EXPLANATION,{client:(0,v.Fk)()}),W(!0),G()}},children:(0,i.jsx)(h.Z,{sx:{fontSize:"14px",lineHeight:"14px",marginTop:"2px",color:"#1570ef",fontWeight:500},children:"听讲解"})})})})}));function _(){return(0,i.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M4.71663 10.3145C5.02952 10.3127 5.34065 10.3672 5.63421 10.4745C5.77132 10.5254 5.86097 10.6555 5.86097 10.7997V15.9922C5.86097 16.1381 5.76956 16.2682 5.63421 16.3174C5.34065 16.4229 5.02952 16.4774 4.71663 16.4774C3.07483 16.4123 1.79514 15.0325 1.85139 13.3924C1.80042 11.7541 3.07835 10.3795 4.71663 10.3145ZM13.2842 16.4862C12.9713 16.4879 12.6602 16.4334 12.3666 16.3262C12.2295 16.2752 12.1399 16.1452 12.1399 16.001V10.7997C12.1399 10.6538 12.2313 10.5237 12.3666 10.4745C12.6602 10.369 12.9713 10.3145 13.2842 10.3145C14.926 10.3795 16.2057 11.7594 16.1494 13.3995C16.2057 15.0413 14.9242 16.4194 13.2842 16.4862Z",fill:"#1570ef"}),(0,i.jsx)("path",{d:"M5.49473 15.7219C4.46992 15.6182 3.59805 15.1453 2.97754 14.3543C2.39395 13.6125 2.07227 12.6211 2.07227 11.5611V8.0332C2.07227 7.15254 2.24453 6.3 2.58555 5.49492C2.91426 4.71797 3.38359 4.02187 3.98301 3.42246C4.58242 2.82305 5.27852 2.35371 6.05547 2.025C6.85879 1.68574 7.71309 1.51172 8.59375 1.51172H9.40937C10.29 1.51172 11.1426 1.68398 11.9477 2.025C12.7246 2.35371 13.4207 2.82305 14.0201 3.42246C14.6195 4.02187 15.0889 4.71797 15.4176 5.49492C15.7533 6.3 15.9256 7.1543 15.9256 8.0332V11.5611C15.9256 12.6211 15.6057 13.6125 15.0221 14.3525C14.4016 15.1418 13.5314 15.6146 12.5066 15.7219L12.4346 15.0223C14.1027 14.85 15.2225 13.4596 15.2225 11.5611V8.0332C15.2225 4.82695 12.6139 2.2166 9.40586 2.2166H8.59023C5.38398 2.2166 2.77363 4.8252 2.77363 8.0332V11.5611C2.77363 13.4613 3.89512 14.8535 5.56504 15.0223L5.49473 15.7219Z",fill:"#1570ef"})]})}function w(){return(0,i.jsxs)("svg",{style:{marginTop:"1px"},width:"10",height:"12",viewBox:"0 0 10 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("rect",{y:"0.445312",width:"3.33333",height:"11.1111",rx:"1.11111",fill:"#2E90FA"}),(0,i.jsx)("rect",{x:"6.66602",y:"0.445312",width:"3.33333",height:"11.1111",rx:"1.11111",fill:"#2E90FA"})]})}},57100:function(e,t,n){"use strict";n.d(t,{B:function(){return f}});var r=n(50059),i=n(57437),o=n(2265),a=n(78693),s=n(66707),l=n.n(s),c=n(36760),u=n.n(c),d=n(92498),h=n(39207),f=o.memo(function(e){var t=(0,o.useRef)((0,h.DOL)()),n=(0,o.useRef)(null),s=e.title.length>80?16:e.title.length>40?24:32,c=(0,d.Z)(function(e){return/[a-zA-Z,()]/.test(e)}),f=(0,d.Z)(function(e,t){for(var n="",r=t;r<e.length&&/[a-zA-Z,()]/.test(e[r]);)n+=e[r],r++;return r<e.length&&/[.,!?;:]/.test(e[r])&&(n+=e[r],r++),r<e.length&&" "===e[r]&&(n+=e[r],r++),{word:n,endIndex:r-1}}),p=(0,d.Z)(function(e,t,n){for(var r=[],i="",o=0;o<t.length;){var a=t[o];if(c(a)){var s=f(t,o),l=s.word,u=s.endIndex,d=i+l;e.measureText(d+" ").width>n&&""!==i?(r.push(i.trim()),i=l):i=d,o=u+1}else{var h=i+a;e.measureText(h).width>n&&""!==i?(r.push(i),i=a):i=h,o++}}return""!==i&&r.push(i),r}),x=(0,d.Z)(function(e,t,n){for(var r="",i=0;i<t.length;){var o=t[i];if(c(o)){var a=f(t,i),s=a.word,l=a.endIndex,u=r+s;if(e.measureText(u).width<=n)r=u,i=l+1;else break}else{var d=r+o;if(e.measureText(d).width<=n)r=d,i++;else break}}return r}),g=(0,d.Z)(function(e,t){var n=document.createElement("canvas").getContext("2d");n.font="700 ".concat(s,'px "Noto Sans SC"');var r=p(n,e,t);if(r.length<=2)return e;for(var i="",o=0;o<2;o++)c((i+=r[o])[i.length-1])&&(i+=" ");var a=r[2],l=n.measureText("...").width;return i+x(n,a,t-(50+l))+"..."}),v=(0,r._)((0,o.useState)(""),2),m=v[0],_=v[1];return(0,o.useEffect)(function(){var n=null;if(e.title){var r=(n=document.querySelector('[data-id="'.concat(t.current,'"]'))).clientWidth;_(g(e.title,r))}var i=null;return n&&(i=new ResizeObserver(function(t){var r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){a.value;var l=n.clientWidth,c=g(e.title,l);_(c)}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}})).observe(n),function(){n&&i&&(i.unobserve(n),i.disconnect())}},[e.title]),(0,i.jsx)(a.Z,{ref:n,flex:1,className:u()(l()["result-title"],"resultTitle"),"data-id":t.current,"data-result-id":e.resultId,sx:e.sx,children:(0,i.jsxs)(a.Z,{onClick:e.onTitleClick,component:"span",sx:{fontSize:s+"px",fontWeight:"bold",display:"inline-block"},children:[e.startNode,(0,i.jsx)("span",{style:{marginRight:"10px",alignItems:"center",verticalAlign:"middle"},children:m}),(0,i.jsx)(a.Z,{sx:{height:1.5*s,verticalAlign:"middle",display:"inline-flex",alignItems:"center",position:"relative",top:".1ex"},children:e.endNode})]})})})},70795:function(e,t,n){"use strict";n.d(t,{e:function(){return m},o:function(){return _}});var r=n(50059),i=n(85735),o=n(57437),a=n(2265),s=n(39207),l=n(78693),c=n(8350),u=n(42187),d=n(19547),h=n.n(d),f=n(96839),p=n(15560),x=n(22322),g=n(36760),v=n.n(g),m=(0,a.memo)((0,a.forwardRef)(function(e,t){var n=(0,r._)((0,a.useState)(0),2),i=n[0],l=n[1];return(0,o.jsx)(_,{sx:e.sx,topicId:e.topicId,onTopicChange:function(t){e.onItemClick(null==t?void 0:t.topicId),(0,s.Cn7)(e.sessionId,(null==t?void 0:t.topicId)||null).then(function(n){if(0===n.data.errCode){var r=n.data.data;e.onTopicChange((null==t?void 0:t.topicId)||null,(null==t?void 0:t.name)||"",r)}else e.onError(),(0,x.y)(n.data.errMsg,{variant:"error",autoHideDuration:1500}),e.showOrHide(!1);l(i+1)})},showOrHide:e.showOrHide},i)})),_=a.memo(function(e){var t=(0,r._)((0,a.useState)(""),2),n=t[0],s=t[1],d=(0,r._)((0,a.useState)([]),2),x=d[0],g=d[1],m=(0,p.Q)(),_=m.list,w=m.createNewTopic,j=(0,a.useRef)(null),b=(0,a.useMemo)(function(){return _.filter(function(e){return e.name.startsWith(n)&&!e.readOnly})},[_,n]);(0,a.useEffect)(function(){y()},[e.topicId,_]);var y=(0,a.useCallback)(function(){_.length>0&&e.topicId?(j.current=_.find(function(t){return t.topicId==e.topicId})||null,j.current&&g([j.current])):g([])},[e.topicId,_]),k=(0,a.useRef)(null),C=(0,a.useCallback)(function(){clearTimeout(k.current),k.current=setTimeout(function(){e.onTopicChange(j.current)},500)},[e]);return(0,o.jsxs)(l.Z,{className:v()(h()["subject-panel"],"subject-panel"),onClick:function(e){e.stopPropagation()},children:[(0,o.jsx)(f.PQ,{text:n,onItemDelete:function(e){var t=(0,i._)(x);t.splice(e,1),g(t),j.current=t[0]||null,C()},onChange:function(e){return s(e)},selectList:x}),(0,o.jsx)(c.Z,{}),(0,o.jsx)(l.Z,{className:h()["list-title"],children:"选择或创建一个专题"}),(0,o.jsx)(f.ET,{sx:e.sx,list:b,onItemClick:function(t){if(x.find(function(e){return e.id===t.id}))e.showOrHide(!1);else{var n=[];n.push(t),g(n),j.current=t,C()}}}),n&&(0,o.jsxs)(u.Z,{onClick:function(){w(n).then(function(e){e&&(j.current={topicId:e.id,name:e.name,dirRootId:e.dirRootId},C())}),s("")},children:[(0,o.jsx)(l.Z,{sx:{marginRight:"5px"},children:"创建"}),(0,o.jsx)(l.Z,{className:h().tag,children:(0,o.jsx)(l.Z,{children:n})})]})]})})},72391:function(e,t,n){"use strict";n.d(t,{p:function(){return u}});var r=n(50059),i=n(57437),o=n(70795),a=n(43180),s=n(2265),l=n(19741),c=n(78693),u=(0,s.memo)((0,s.forwardRef)(function(e,t){var n=(0,r._)((0,s.useState)(!1),2),u=n[0],d=n[1],h=(0,r._)((0,s.useState)(null),2),f=h[0],p=h[1],x=(0,r._)((0,s.useState)("bottom"),2),g=(x[0],x[1]),v=(0,s.useRef)(null),m=(0,s.useRef)(null),_=(0,s.useRef)(null);l.Z.useRegister("popover",function(){return{setAnchor:p,setShow:function(e,t,n){d(e),t&&e?(m.current=t,_.current=n):(m.current=null,_.current=null)},setPlacement:g,getShow:function(){return u}}},[u]),(0,s.useImperativeHandle)(t,function(){return{node:v}}),(0,s.useEffect)(function(){u||g("bottom")},[u]);var w=(0,r._)((0,a.bQ)({anchor:f},u,function(){return d(!1)}),1)[0];return(0,s.useEffect)(function(){var e=function(e){e.preventDefault()},t=document.getElementById("search-page-scroller");return t&&(u?t.addEventListener("wheel",e,{passive:!1}):t.removeEventListener("wheel",e)),function(){var t=document.getElementById("search-page-scroller");t&&t.removeEventListener("wheel",e)}},[u]),(0,i.jsx)(a.ZP,{anchor:f,open:u,zIndex:99999,placement:"bottom",ref:w,children:e.sessionDTO&&(0,i.jsx)(c.Z,{ref:v,children:(0,i.jsx)(o.e,{sessionId:e.sessionDTO.id,showOrHide:d,topicId:e.id,sx:e.sx,onItemClick:function(e){m.current&&m.current(e)},onTopicChange:function(t,n,r){t&&d(!1),e.onChange(t,n,r)},onError:function(){_.current&&_.current()}})})})}))},98055:function(e,t,n){"use strict";n.d(t,{c:function(){return h}});var r=n(50059),i=n(57437),o=n(23665),a=n.n(o),s=n(78693),l=n(2265),c=n(55833),u=n(53998),d=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"];function h(e){var t=e.data,n=e.resultId,o=t.u,h=t.n;h="local"===h?"北京":t.k?t.k.includes(t.n)?t.k:t.k+t.n:"北京";var f=(0,r._)((0,l.useState)(0),2),p=f[0],x=f[1],g=function(){var e=new Date(new Date().getTime()+(o-8)*36e5),t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate(),i=d[e.getDay()],a=e.getHours(),s=e.getMinutes(),l=e.getSeconds();return["".concat(t,"年").concat(n,"月").concat(r,"日").concat(i),"".concat(a<10?"0":"").concat(a,":").concat(s<10?"0":"").concat(s,":").concat(l<10?"0":"").concat(l)]},v=(0,r._)((0,l.useState)(g()),2),m=v[0],_=v[1];(0,l.useEffect)(function(){return x(setInterval(function(){_(g())},1e3)),function(){clearInterval(p)}},[]);var w="现在是"+h+"时间"+m[0]+"。",j=c.vs.useBridge("exportMarkdownAPI");(0,l.useEffect)(function(){var e;null===(e=j.current)||void 0===e||e.updateExportMarkdownTextMap(c.r$.RealTimeInfo,n,w)},[w]);var b=(0,u.RG)({title:15,time:30,date:12,base:16});return(0,i.jsxs)(s.Z,{style:{position:"relative",fontSize:b.base},children:[(0,i.jsx)("div",{className:a()["ai-write-container"],children:(0,i.jsx)("div",{className:a()["ai-write-header"],children:(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,i.jsxs)("div",{style:{color:"#667085",fontSize:b.title,fontWeight:"bold",lineHeight:"24px"},children:[h,"时间 UTC",o>0?"+"+o:o]}),(0,i.jsxs)("div",{style:{fontSize:b.time,fontWeight:"bold",lineHeight:"38px",margin:"10px 0 "},children:[(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[(0,i.jsx)("g",{"clip-path":"url(#clip0_1612_29440)",children:(0,i.jsx)("path",{d:"M10 4.99984V9.99984L13.3334 11.6665M18.3334 9.99984C18.3334 14.6022 14.6024 18.3332 10 18.3332C5.39765 18.3332 1.66669 14.6022 1.66669 9.99984C1.66669 5.39746 5.39765 1.6665 10 1.6665C14.6024 1.6665 18.3334 5.39746 18.3334 9.99984Z",stroke:"#344054","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_1612_29440",children:(0,i.jsx)("rect",{width:"20",height:"20",fill:"white"})})})]}),(0,i.jsx)("span",{style:{marginLeft:"5px"},children:m[1]})]}),(0,i.jsx)("div",{style:{fontSize:b.date,color:"#475467",lineHeight:"18px"},children:m[0]})]})})}),(0,i.jsx)("div",{style:{marginTop:"20px"},children:w})]})}},32545:function(e,t,n){"use strict";n.d(t,{y:function(){return p}});var r=n(50059),i=n(57437),o=n(78693),a=n(8350),s=n(23665),l=n.n(s),c=n(44903),u=n(2265);n(24349);var d=n(55833),h=n(53998),f=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"];function p(e){var t=e.data,n=e.isH5,s=e.resultId,p=e.needSearch,x=(0,u.useRef)(),g=(0,r._)((0,u.useState)(!1),2),v=g[0],m=g[1],_=(0,r._)((0,u.useState)(!0),2),w=_[0],j=_[1],b=(0,r._)((0,u.useState)(0),2);b[0],b[1];var y=(0,r._)((0,u.useState)(0),2),k=y[0],C=y[1],S=(0,r._)((0,u.useState)(t.date),2),I=S[0],Z=S[1];(0,u.useEffect)(function(){if(t.targetDate){var e,n=t.targetDate-new Date().getTime();n>0&&(C(Math.ceil(n/864e5)),Z((e=new Date(t.targetDate)).getFullYear()+"年"+(e.getMonth()+1)+"月"+e.getDate()+"日"+f[e.getDay()]))}},[t]);var E=function(e){var t=x.current;t.scrollLeft+t.clientWidth+e+30>=t.scrollWidth?j(!1):j(!0),t.scrollLeft+e>0?m(!0):m(!1)},L=function(e){E(e);var t=x.current;t.scrollLeft+t.clientWidth+e+30>=t.scrollWidth?t.scroll({left:980,behavior:"smooth"}):t.scrollBy({left:e,behavior:"smooth"})},T=t.location+"：天气："+t.weatherNow.text+"；当前气温"+Math.round(t.weatherNow.temp)+"摄氏度；"+t.weatherNow.windDir+t.weatherNow.windScale+"。",P=d.vs.useBridge("exportMarkdownAPI");(0,u.useEffect)(function(){if(!p){var e;null===(e=P.current)||void 0===e||e.updateExportMarkdownTextMap(d.r$.RealTimeInfo,s,T)}},[T]);var M=(0,u.useMemo)(function(){return{body:16,head:15,temperature:30,weather:15,weatherIcon:24,time:n?12:16,timeIcon:20,timeTemperature:n?12:18,currentIcon:20,currentMaxTemperature:18}},[n]),R=(0,h.RG)(M);return(0,i.jsxs)(o.Z,{style:{position:"relative",fontSize:R.body},children:[(0,i.jsx)("div",{className:l()["ai-write-container"],style:{height:"auto"},children:(0,i.jsx)("div",{className:l()["ai-write-header"],children:(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%",fontSize:R.head,color:"#667085",fontWeight:700,lineHeight:"24px",userSelect:"none"},children:[(0,i.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"},children:[(0,i.jsx)("span",{style:{fontWeight:700},children:t.location}),(0,i.jsx)("span",{style:{color:"#475467"},children:I})]}),(0,i.jsxs)("div",{style:{lineHeight:"28px",padding:"10px 0 0 0"},children:[(0,i.jsx)("span",{className:"qi-"+t.weatherNow.icon,style:{fontSize:R.weatherIcon}}),(0,i.jsxs)("span",{style:{fontSize:R.temperature,color:"var(--black)",fontWeight:700,margin:"0 10px 0 10px"},children:[Math.round(t.weatherNow.temp),"\xb0"]}),(0,i.jsx)("span",{style:{fontSize:R.weather,color:"#475467",lineHeight:"22px",fontWeight:700},children:t.weatherNow.text})]}),(0,i.jsx)(a.Z,{sx:{margin:"10px 0 "}}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{children:"每小时天气预报"}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"5px"},children:[!n&&v&&(0,i.jsx)(c.Z,{style:{width:"24px",height:"24px",color:"#98A2B3",cursor:"pointer"},onClick:function(){L(-598)}}),(0,i.jsx)("div",{ref:x,className:l()["weather-hourly-panel"],style:{width:"100%",overflowX:"scroll",display:"flex"},children:t.weatherHourlies.map(function(e,t){return(0,i.jsxs)("div",{style:{width:"35px",marginRight:n?"5px":"36px",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,i.jsx)("div",{style:{width:"max-content",color:"var(--black)",fontSize:R.time},children:0===t?"现在":e.time+"时"}),(0,i.jsx)("div",{className:"qi-"+e.icon,style:{fontSize:R.timeIcon,margin:"5px 0"}}),(0,i.jsxs)("div",{style:{color:"var(--black)",fontWeight:"bold",fontSize:R.timeTemperature},children:[Math.round(e.temp),"\xb0"]})]},t)})}),!n&&w&&(0,i.jsx)(c.Z,{style:{width:"24px",height:"24px",color:"#98A2B3",transform:"rotate(180deg)",cursor:"pointer"},onClick:function(){L(598)}})]})]}),(0,i.jsx)(a.Z,{sx:{margin:"10px 0 "}}),(0,i.jsxs)("div",{style:{width:n?"100%":"60%"},children:[(0,i.jsx)("span",{children:"7日内天气预报"}),t.weatherDailies.map(function(e,t){return(0,i.jsxs)("div",{style:{position:"relative"},children:[t===k&&(0,i.jsx)("div",{style:{backgroundColor:"#f2f3f5",width:"calc(100% + 20px)",height:"100%",position:"absolute",top:"0",left:"-15px",borderRadius:"10px"}}),(0,i.jsxs)("div",{style:{display:"flex",padding:"5px 0",justifyContent:"space-between",zIndex:"2",position:"relative"},children:[(0,i.jsxs)("div",{style:{color:"var(--black)",width:n?"80px":""},children:[(0,i.jsx)("span",{style:{marginRight:n?"10px":"40px"},children:e.time}),(0,i.jsx)("span",{className:"qi-"+e.icon,style:{fontSize:"20px"}})]}),(0,i.jsxs)("div",{style:{width:"65px"},children:[(0,i.jsxs)("span",{style:{fontWeight:"bold",marginRight:"10px"},children:[Math.round(e.minTemp),"\xb0"]}),(0,i.jsxs)("span",{style:{color:"var(--black)",fontWeight:"bold",fontSize:"18px"},children:[Math.round(e.maxTemp),"\xb0"]})]}),(0,i.jsxs)("div",{style:{color:"var(--black)",width:"80px"},children:[e.windDir,e.windScale]})]})]},t)})]})]})})}),(0,i.jsx)("div",{style:{color:"var(--black)",marginTop:"20px",lineHeight:"1.5em"},children:!p&&T})]})}},91898:function(e,t,n){"use strict";n.d(t,{U:function(){return W}});var r,i,o,a,s=n(5194),l=n(1780),c=n(46796),u=n(50059),d=n(57437),h=n(2265),f=n(23760),p=n(74634),x=n(85735),g=["pageX","pageY","clientY","clientX","screenX","screenY"],v=["shiftKey","ctrlKey","target","currentTarget","type","isTrusted"],m={mobile:{start:"touchstart",move:"touchmove",end:"touchend"},desktop:{start:"mousedown",move:"mousemove",end:"mouseup"}},_=new WeakMap;function w(e,t,n,r,i){var o=m[n?"mobile":"desktop"][t],a=function(e){r(b(e),e)};return _.set(r,a),e.addEventListener(o,a,i),function(){e.removeEventListener(o,a)}}function j(e,t,n,r){var i=_.get(r);n?e.removeEventListener(m.mobile[t],i):e.removeEventListener(m.desktop[t],i)}function b(e){var t={};if(e instanceof MouseEvent)(0,x._)(g).concat((0,x._)(v)).forEach(function(n){t[n]=e[n]});else{var n=e.targetTouches.item(0);v.forEach(function(n){t[n]=e[n]}),n&&g.forEach(function(e){t[e]=n[e]})}return t}var y=n(96339),k=n(11183),C=n(22322),S=n(78693),I=n(8350),Z=n(19643),E=n(77335),L=n.n(E),T=n(94746);function P(){return(P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var M=function(e){return T.createElement("svg",P({xmlns:"http://www.w3.org/2000/svg",width:10,height:14,fill:"none",viewBox:"0 0 10 14"},e),r||(r=T.createElement("path",{stroke:"#344054",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.667,d:"M1.25 9.25 5 13l3.75-3.75m-7.5-4.5L5 1l3.75 3.75"})))};function R(){return(R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var N=function(e){return T.createElement("svg",R({xmlns:"http://www.w3.org/2000/svg",width:18,height:17,fill:"none",viewBox:"0 0 18 17"},e),i||(i=T.createElement("path",{stroke:"#344054",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.667,d:"M8.25 2.5H5.1c-1.26 0-1.89 0-2.371.244a2.25 2.25 0 0 0-.984.984C1.5 4.209 1.5 4.839 1.5 6.099v6.3c0 1.26 0 1.89.245 2.372.216.423.56.767.984.983.48.245 1.11.245 2.371.245h6.3c1.26 0 1.89 0 2.371-.245.424-.216.768-.56.984-.983.245-.482.245-1.112.245-2.372V9.25M6 11.5h1.256c.367 0 .55 0 .723-.041a1.5 1.5 0 0 0 .433-.18c.152-.093.282-.222.54-.482l7.173-7.172a1.591 1.591 0 0 0-2.25-2.25L6.703 8.546c-.26.26-.39.39-.482.54a1.5 1.5 0 0 0-.18.434C6 9.693 6 9.876 6 10.243z"})))};function A(){return(A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var B=function(e){return T.createElement("svg",A({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),o||(o=T.createElement("path",{stroke:"#344054",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.667,d:"M5.41 13.827a6.375 6.375 0 0 0 8.111-9.013l-.187-.325m-10.855 6.7a6.375 6.375 0 0 1 8.111-9.014M.87 11.251l2.05.55.548-2.05m9.064-3.5.55-2.05 2.048.55"})))};function H(){return(H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var F=function(e){return T.createElement("svg",H({xmlns:"http://www.w3.org/2000/svg",width:14,height:11,fill:"none",viewBox:"0 0 14 11"},e),a||(a=T.createElement("path",{stroke:"#344054",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.667,d:"M13 1.5 4.75 9.75 1 6"})))},D=n(43180),O=n(54632),W=(0,h.forwardRef)(function(e,t){var n=(0,f.LM)(function(e){return e.login}),r=!!(0,p.F)(),i=(0,h.useRef)(0),o=(0,h.useRef)(0),a=(0,h.useRef)(null),s=(0,h.useCallback)(function(){return r?a.current:document},[r]),l=(0,u._)((0,h.useState)(!1),2),c=l[0],x=l[1],g=(0,u._)((0,h.useState)(e.coverPosition||.5),2),v=g[0],m=g[1],_=(0,h.useRef)(v),E=(100*v).toFixed(2)+"%",T=function(e){e>1&&(e=1),e<0&&(e=0),m(e)},P=(0,p.a8)(),R=(0,u._)((0,h.useState)([]),2),A=R[0],H=R[1],O=(0,h.useCallback)(function(t){var n,i;t.id!=e.imageId&&(null===(n=e.setImageId)||void 0===n||n.call(e,t.id),null===(i=e.setImageUrl)||void 0===i||i.call(e,t.url),T(.5),e.updateCoverInfoFunc(e.id,{coverId:t.id,position:.5},r).then(function(t){if(0===t.data.errCode){var n;null===(n=e.onCoverInfoChanged)||void 0===n||n.call(e)}else(0,C.y)(t.data.errMsg,{variant:"error",autoHideDuration:2e3})}))},[r]),W=(0,h.useCallback)(function(){var e=Math.floor(Math.random()*A.length),t=A[e].images.length;O(A[e].images[Math.floor(Math.random()*t)])},[O,A]);(0,h.useImperativeHandle)(t,function(){return{randomChooseCover:W}},[W]),(0,h.useEffect)(function(){T(e.coverPosition)},[e.coverPosition]);var z=(0,h.useCallback)(function(e){if(void 0!==e.clientY){var t=e.clientY-i.current;T(_.current-t/o.current)}},[v]),V=(0,h.useRef)(z),Y=(0,h.useCallback)(function(e,t){r&&t.preventDefault(),V.current(e)},[r]);(0,h.useEffect)(function(){V.current=z},[z]);var q=(0,h.useCallback)(function(){j(s(),"move",r,Y),document.documentElement.style.removeProperty("overflow")},[s,r,Y]),X=(0,h.useCallback)(function(e){var t=b(e.nativeEvent);r&&c&&document.documentElement.style.setProperty("overflow","hidden"),_.current=v,i.current=t.clientY||0;var n=a.current,l=n.naturalWidth,u=n.naturalHeight,d=n.clientWidth;o.current=d/l*u;var h=s();c?(w(h,"move",r,Y),w(h,"end",r,q)):(j(h,"move",r,Y),j(h,"end",r,q))},[r,c,v,s,Y,q]);(0,h.useEffect)(function(){return function(){document.documentElement.style.removeProperty("overflow");var e=s();e&&j(e,"move",r,Y)}},[r,s]);var G=(0,h.useCallback)(function(){n?x(!0):(0,y.x3)({logDesc:"topic-file-cover-edit-need-login"})},[n]),J=(0,u._)((0,h.useState)(null),2),K=J[0],Q=J[1],$=(0,u._)((0,h.useState)(!1),2),ee=$[0],et=$[1],en=(0,h.useCallback)(function(){et(!ee)},[ee]),er=(0,u._)((0,h.useState)(),2),ei=er[0],eo=er[1],ea=(0,h.useMemo)(function(){return e.imageUrl?e.imageUrl:e.imageId?e.getUrlFromImageIdFunc(e.imageId,r):"/image/cover/default.png"},[ei,e.imageId,e.id]),es=(0,u._)((0,h.useState)(null),2),el=es[0],ec=es[1];(0,h.useEffect)(function(){e.imageId&&el!=e.imageId&&(el&&eo(new Date().getTime()),ec(e.imageId))},[e.imageId,el]),(0,h.useEffect)(function(){c||et(!1)},[c]);var eu=(0,h.useCallback)(function(t){var n=new FormData;n.append("file",t),e.uploadCoverImageFunc(e.id,n,r).then(function(t){var n,r;null===(n=e.setImageUrl)||void 0===n||n.call(e,null),T(.5),null===(r=e.setImageId)||void 0===r||r.call(e,t.data.data)})},[]),ed=(0,h.useCallback)(function(){(0,k.cT)({multiple:!1,accept:"image/*",isDir:!1,onChange:function(e){e.currentTarget.files&&0!=e.currentTarget.files.length&&eu(e.currentTarget.files[0])}}),et(!1)},[]),eh=(0,h.useCallback)(function(){e.clearCoverImageFunc(e.id,r).then(function(t){if(0==t.data.errCode){var n;null===(n=e.deleteSucceed)||void 0===n||n.call(e)}else(0,C.y)("删除失败",{variant:"error",autoHideDuration:2e3})}),et(!1)},[]),ef=(0,h.useCallback)(function(){var t;x(!1),j(s(),"move",r,Y),null===(t=e.notifyPositionChanged)||void 0===t||t.call(e,v),e.updateCoverInfoFunc(e.id,{position:v},r).then(function(t){if(0!==t.data.errCode)(0,C.y)(t.data.errMsg,{variant:"error",autoHideDuration:2e3});else{var n;null===(n=e.onCoverInfoChanged)||void 0===n||n.call(e)}})},[v]);return(0,h.useEffect)(function(){e.getExampleImagesFunc(r).then(function(e){H(e.data.data.groupImages)})},[]),(0,d.jsxs)(S.Z,{sx:{width:"100%",height:1,position:"relative"},className:L().coverContainer,children:[(0,d.jsx)(S.Z,{sx:{width:"100%",flexShrink:0,height:1},children:P&&!e.isPending&&e.show&&(0,d.jsx)("img",{ref:a,src:ea,width:"100%",style:{cursor:c?"grab":"default",width:"100%",maxHeight:"227px",height:"100%",objectFit:"cover",objectPosition:"center ".concat(E)},onMouseDown:r?void 0:X,onTouchStart:X,onDragStart:function(e){return e.preventDefault()},alt:"cover"})}),e.show&&(0,d.jsxs)(S.Z,{sx:{position:"absolute",pointerEvents:"none"},top:"20px",left:"20px",right:"20px",display:"flex",justifyContent:"space-between",alignItems:"flex-start",children:[(0,d.jsx)(S.Z,{display:"flex",flexDirection:"row",children:c&&(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(U,{sx:{pointerEvents:"none"},startIcon:(0,d.jsx)(M,{}),children:"拖拽定位"})})}),(0,d.jsxs)(S.Z,{display:"flex",flexDirection:"row",gap:"10px",children:[e.showTool&&!c&&(0,d.jsx)(U,{className:L().coverEditButton,onClick:G,startIcon:(0,d.jsx)(N,{}),children:"编辑"}),c&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(U,{startIcon:(0,d.jsx)(B,{}),onClick:en,children:"更换"}),(0,d.jsx)(U,{ref:Q,onClick:ef,children:(0,d.jsx)(F,{})})]})]}),(0,d.jsx)(D.ZP,{anchor:K,open:ee,isAutoUpdate:!0,placement:"bottom-end",offsetOptions:{mainAxis:5},children:(0,d.jsxs)(S.Z,{direction:"column",sx:{width:"min(400px, 90vw)",bgcolor:"var(--white)"},children:[(0,d.jsxs)(S.Z,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"10px 12.5px 0 18.5px"},children:[(0,d.jsx)(S.Z,{sx:{fontWeight:800,fontSize:"14px",lineHeight:"22px",color:"var(--black)"},children:"列表"}),(0,d.jsxs)(S.Z,{sx:{display:"flex",flexDirection:"row",fontWeight:400,fontSize:"14px",lineHeight:"22px",gap:"12px"},children:[(0,d.jsx)(S.Z,{sx:{color:"#1570EF",cursor:"pointer"},onClick:ed,children:"上传"}),(0,d.jsx)(S.Z,{sx:{color:"#F04438",cursor:"pointer"},onClick:eh,children:"删除"})]})]}),(0,d.jsx)(I.Z,{sx:{marginTop:"5px"}}),(0,d.jsx)(Z.Z,{sx:{padding:"0px 12.5px 0px 18.5px",overflowY:"auto",height:"250px"},children:A.map(function(e,t){return(0,d.jsxs)(S.Z,{children:[e.title&&e.title.length>0&&(0,d.jsx)(S.Z,{sx:{fontWeight:700,fontSize:"12px",lineHeight:"18px",color:"#475467",mt:"10px",mb:"10px"},children:e.title}),(0,d.jsx)(S.Z,{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(80px, 90px))",sx:{justifyContent:"space-between"},marginTop:e.title&&e.title.length>0?"0":"15px",marginBottom:e.title&&e.title.length>0?"0":"15px",children:e.images.map(function(e,t){return(0,d.jsx)(S.Z,{sx:{cursor:"pointer"},onClick:function(){return O(e)},children:(0,d.jsx)("img",{src:"".concat(e.thumbnailUrl||"https://metaso.cn/api/image/"+e.id+"/thumbnail"),style:{objectPosition:"center 50%",width:"87px",height:"43px",objectFit:"cover"}})},e.id)})})]},e.groupId)})})]})})]})]})});W.displayName="MetaCover";var U=h.forwardRef(function(e,t){e.children;var n=(0,c._)(e,["children"]);return(0,d.jsx)(O.Z,(0,l._)((0,s._)({ref:t},n),{sx:(0,s._)({pointerEvents:"all",padding:"5px 10px",bgcolor:"white",minWidth:0,"&:hover":{bgcolor:"#f2f4f7"},cursor:"pointer",alignItems:"center",color:"black",borderRadius:"2px"},n.sx),children:e.children}))});U.displayName="CoverToolButton"},24349:function(){},30983:function(e){e.exports={"result-field-title":"Search_result-field-title__BVuBB","tag-container":"Search_tag-container__bZrHQ",tag:"Search_tag__rpIio","progress-container":"Search_progress-container__TYVdU","search-result-container":"Search_search-result-container__YqYVs","search-result":"Search_search-result__VqZPV",recommendedQuestionList:"Search_recommendedQuestionList__8L2Xe",recommendedQuestionBox:"Search_recommendedQuestionBox__PwaOr","append-search-textarea":"Search_append-search-textarea__NEXPZ","height-0":"Search_height-0__yBrbD","search-tip-label-container":"Search_search-tip-label-container__qk6lF","sub-title":"Search_sub-title__JzIPC","menu-footer":"Search_menu-footer__k9Vs_","reference-dot":"Search_reference-dot__IQruJ",active:"Search_active__eaMdU",content:"Search_content__NregH","skeleton-container":"Search_skeleton-container__JDLN8",sk:"Search_sk__nR2_0","new-text":"Search_new-text__6mxNK","menu-item":"Search_menu-item__99Vp5","active-list-item-container":"Search_active-list-item-container__PVzPP","active-list-item":"Search_active-list-item__ZlVVy","active-list-item-text":"Search_active-list-item-text__mdtwx","active-list-item-part":"Search_active-list-item-part__nfgL5","active-list-item-part--left":"Search_active-list-item-part--left__gB1_R","active-list-item-arrow":"Search_active-list-item-arrow__Cpy7v","active-list-item-part--right":"Search_active-list-item-part--right__CkFQF","copy-btn":"Search_copy-btn__K8udK","relevant-title":"Search_relevant-title__CSbk_","relevant-title-h5":"Search_relevant-title-h5__Ktg6r","related-event-action-button-container":"Search_related-event-action-button-container__CW95F","relation-count":"Search_relation-count__9eRxQ","h5sd-modal":"Search_h5sd-modal__xifR4","h5sd-container":"Search_h5sd-container__lIQjp","h5sd-header":"Search_h5sd-header__Tvrip","h5sd-footer":"Search_h5sd-footer__LIP5R","answer-link-btn":"Search_answer-link-btn__jFD1J","styled-result-button":"Search_styled-result-button__7TjeE"}},67920:function(e){e.exports={"date-view-container":"datetime_date-view-container__JVf0b","date-view":"datetime_date-view__UmYf3","date-th":"datetime_date-th__9wEbU","date-td":"datetime_date-td__SmlVZ",active:"datetime_active__MB2AV",date:"datetime_date__TgAJE",holiday:"datetime_holiday___diT9",text:"datetime_text__sqo7s",disabled:"datetime_disabled__JgnbE","date-view-tool-button":"datetime_date-view-tool-button___pOUP","date-picker":"datetime_date-picker__KTO0m","top-mask":"datetime_top-mask__opMx4","bottom-mask":"datetime_bottom-mask__7jRK1","picker-item":"datetime_picker-item__ukU8o",swipe:"datetime_swipe__dbGd8"}},18925:function(e){e.exports={"dict-ul":"dictionary_dict-ul___rfVu","dict-li":"dictionary_dict-li__B7z5a","dict-sound-btn":"dictionary_dict-sound-btn__Aod8f","dict-speech":"dictionary_dict-speech__sEILb","dict-collapse-btn":"dictionary_dict-collapse-btn__xY_j9","dict-collapse-btn-icon__open":"dictionary_dict-collapse-btn-icon__open__sunXk","dict-output":"dictionary_dict-output__4hsdX"}},92838:function(e){e.exports={"pdf-thumb-view":"pdf_pdf-thumb-view__DkdMr",active:"pdf_active__aGhPe","thumb-h5":"pdf_thumb-h5__XhpWv",tab:"pdf_tab__X2NYx","thumb-view-container":"pdf_thumb-view-container__ENsFl","outline-container":"pdf_outline-container__5dX0f","thumb-header":"pdf_thumb-header__Uh_Rk","menu-item-content":"pdf_menu-item-content__Zph_E","menu-item":"pdf_menu-item__fIBHz","drag-mode":"pdf_drag-mode__eYZ7g","mouse-down":"pdf_mouse-down__eY40y","field-name":"pdf_field-name__1tSv2","url-input":"pdf_url-input___Pm8q","pdf-banner":"pdf_pdf-banner__IyDAB","img-container":"pdf_img-container__89L4O","pdf-name":"pdf_pdf-name__DUil3","swiper-button":"pdf_swiper-button__FEyhz","menu-icon":"pdf_menu-icon__BFGwN","doc-info":"pdf_doc-info__MoXkn","field-value":"pdf_field-value__VXR3Y","field-value-url":"pdf_field-value-url__81A_H","url-copy-btn":"pdf_url-copy-btn__RZ_2c","progress-bottom":"pdf_progress-bottom__r1XSr","progress-top":"pdf_progress-top__7k8Dz","h5-thumbs-container":"pdf_h5-thumbs-container__z9BSi","h5-thumb-item":"pdf_h5-thumb-item__sYREG",tag:"pdf_tag__89Vqz","page-float-btn":"pdf_page-float-btn__43Luh","pdf-menu-title":"pdf_pdf-menu-title__EmKqo","pdf-title":"pdf_pdf-title__TlOKt","h5-tag":"pdf_h5-tag__VmqH5","detail-caption":"pdf_detail-caption__eCrLI","detail-content":"pdf_detail-content__Yh5mk","h5-pdf-markdown-page":"pdf_h5-pdf-markdown-page__lvm4R","pdf-page":"pdf_pdf-page__fdh7p","pdf-markdown-page":"pdf_pdf-markdown-page__JVA3r","markdown-container":"pdf_markdown-container__p19b3","active-btn":"pdf_active-btn__tp_Yz","markdown-lang":"pdf_markdown-lang__VWQoJ","content-group":"pdf_content-group__tz7Pu","markdown-page-content":"pdf_markdown-page-content__vwolm","color-btn":"pdf_color-btn__LsZU_","color-circle":"pdf_color-circle__jh79h","font-circle":"pdf_font-circle__xGFce","reading-btn":"pdf_reading-btn__ak_Ng","lesson-btn":"pdf_lesson-btn__RewsR","lesson-btn-right":"pdf_lesson-btn-right__HxXMX","pdf-to-ppt":"pdf_pdf-to-ppt__h0pK_"}},66707:function(e){e.exports={"result-title":"search-title_result-title__Qtgg4"}},77335:function(e){e.exports={coverContainer:"meta-cover_coverContainer__x_chq",coverEditButton:"meta-cover_coverEditButton__Hzhzj"}},86400:function(e,t){"use strict";t.Z={src:"https://static-1.metaso.cn/_next/static/media/app-qrcode.f8820aee.png",height:400,width:400,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAAAAADhZOFXAAAAU0lEQVR42gFIALf/ANvL4Mv0z8rdAMy3uaq/sLHNANiyy8bGydXZANe1u7jRy8HQAN6forOTvtHXAN+7qMiomcbJAMywu8qUiaTVANzP28bk2MHj8w0w+9funR4AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}}}]);