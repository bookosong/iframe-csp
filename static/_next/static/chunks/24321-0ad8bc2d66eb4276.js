(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[24321],{52115:function(e,t,n){"use strict";var r,a=n(94746);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return a.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),r||(r=a.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M5 9v8m4.5-8v8m5-8v8M19 9v8M3 18.6v.8c0 .56 0 .84.109 1.054a1 1 0 0 0 .437.437C3.76 21 4.04 21 4.6 21h14.8c.56 0 .84 0 1.054-.109a1 1 0 0 0 .437-.437C21 20.24 21 19.96 21 19.4v-.8c0-.56 0-.84-.109-1.054a1 1 0 0 0-.437-.437C20.24 17 19.96 17 19.4 17H4.6c-.56 0-.84 0-1.054.109a1 1 0 0 0-.437.437C3 17.76 3 18.04 3 18.6m8.653-15.523-7.4 1.645c-.447.099-.67.149-.838.269a1 1 0 0 0-.334.417C3 5.597 3 5.826 3 6.283V7.4c0 .56 0 .84.109 1.054a1 1 0 0 0 .437.437C3.76 9 4.04 9 4.6 9h14.8c.56 0 .84 0 1.054-.109a1 1 0 0 0 .437-.437C21 8.24 21 7.96 21 7.4V6.283c0-.457 0-.686-.081-.875a1 1 0 0 0-.335-.417c-.166-.12-.39-.17-.837-.27l-7.4-1.644a2 2 0 0 0-.26-.049 1 1 0 0 0-.174 0c-.066.006-.13.02-.26.05"})))}},67475:function(e,t,n){"use strict";var r,a=n(94746);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return a.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:25,height:24,fill:"none",viewBox:"0 0 25 24"},e),r||(r=a.createElement("g",{id:"table"},a.createElement("path",{id:"Icon",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M3.5 9h18m-12-6v18M8.3 3h8.4c1.68 0 2.52 0 3.162.327a3 3 0 0 1 1.311 1.311c.327.642.327 1.482.327 3.162v8.4c0 1.68 0 2.52-.327 3.162a3 3 0 0 1-1.311 1.311C19.22 21 18.38 21 16.7 21H8.3c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311C3.5 18.72 3.5 17.88 3.5 16.2V7.8c0-1.68 0-2.52.327-3.162a3 3 0 0 1 1.311-1.311C5.78 3 6.62 3 8.3 3"}))))}},98114:function(e,t,n){"use strict";var r,a=n(94746);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return a.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"none",viewBox:"0 0 25 25"},e),r||(r=a.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.37 16.164c1.455.731 2.703 1.905 3.614 3.373.18.29.271.436.302.637.064.409-.216.912-.597 1.073-.187.08-.398.08-.82.08m-4.5-9.468a4.5 4.5 0 0 0 0-8.064m-2 4.032a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0M2.93 19.266c1.594-2.394 4.11-3.939 6.94-3.939s5.347 1.545 6.94 3.938c.35.525.525.787.505 1.122-.016.26-.187.58-.395.738-.268.202-.636.202-1.372.202H4.19c-.736 0-1.104 0-1.371-.202a1.1 1.1 0 0 1-.395-.738c-.02-.335.154-.597.503-1.122"})))}},34546:function(e,t,n){"use strict";n.d(t,{Z:function(){return T}});var r,a,i=n(12249),o=n(5194),l=n(46796),s=n(50059),c=n(57437),u=n(2265),d=n(7870),p=n(67571),h=n(46387),f=n(59832),g=n(94746);function x(){return(x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var m=function(e){return g.createElement("svg",x({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),r||(r=g.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M17 7 7 17M7 7l10 10"})))};function v(){return(v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var y=function(e){return g.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),a||(a=g.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"m18 15-6-6-6 6"})))},b=n(78223),j=n.n(b),w=n(46075),k=n.n(w),_=n(74634),S=(0,u.forwardRef)(function(e,t){var n,r=e.tagContent,a=(e.onCloseTag,e.onChange),g=e.defaultOpen,x=e.children,v=e.open,b=e.className,w=e.noArrow,S=e.clickable,T=(0,l._)(e,["tagContent","onCloseTag","onChange","defaultOpen","children","open","className","noArrow","clickable"]),R=(0,s._)((0,_.U8)(v,void 0!==g&&g,{onChange:a}),2),Z=R[0],C=R[1],I=(0,u.useRef)(null);(0,u.useImperativeHandle)(t,function(){return{nodeRef:I}},[]);var H={p:0,display:"flex",alignItems:"center",width:"100%",justifyContent:"space-evenly"};return e.maxTextWidth&&(H.maxWidth=e.maxTextWidth,H.overflow="hidden",H.textOverflow="ellipsis",H.whiteSpace="nowrap"),(0,c.jsx)(p.Z,(0,o._)({clickable:void 0===S||S,ref:I,onClick:function(t){var n,r;C(function(e){return!e}),null===(n=e.onClick)||void 0===n||n.call(e,t),null===(r=window.getSelection())||void 0===r||r.removeAllRanges()},label:r?(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(h.Z,{className:(0,d.zk)(["content",j().content,j()["tag-content"]]),color:"primary.main",children:r})}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:(0,d.zk)(["content",j().content,j()["primary-content"]]),children:x}),!(void 0!==w&&w)&&(0,c.jsx)(y,{className:(0,d.zk)([j()["arrow-icon"]],(0,i._)({},j()["arrow-icon-reverse"],Z))})]}),sx:(0,o._)({backgroundColor:"transparent","&:hover":{backgroundColor:"var(--action-btn-hover,#f9fafb)"},color:r?"theme.palette.primary.light":"var(--black)",p:"0 13px","& .MuiChip-label":H,"& .MuiChip-deleteIcon":{m:0,color:"primary.main","&:hover":{color:"primary.main"}}},e.sx),className:(0,d.zk)([b,j().root],(n={},(0,i._)(n,j()["tag-style"],r),(0,i._)(n,"action-button--active",v),n)),onDelete:r?e.onCloseTag:void 0,deleteIcon:r?(0,c.jsx)(f.Z,{onMouseDown:function(e){return e.stopPropagation()},onClick:function(t){var n;t.stopPropagation(),null===(n=e.onCloseTag)||void 0===n||n.call(e)},sx:{p:0,width:25,height:25,ml:.5},size:"small",children:(0,c.jsx)(m,{})}):void 0},k()(T,["sx","onClick"])))});S.displayName="ActionButton";var T=S},28121:function(e,t,n){"use strict";n.d(t,{V7:function(){return q},K1:function(){return J},X7:function(){return A},QS:function(){return O},Fw:function(){return K}});var r,a=n(5194),i=n(1780),o=n(50059),l=n(85735),s=n(57437),c=n(2265),u=n(78693),d=n(59832),p=n(38398),h=n(8350),f=n(35389),g=n(20144),x=n(34546),m=n(27022),v=n(30022),y=n(94746);function b(){return(b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var j=function(e){return y.createElement("svg",b({xmlns:"http://www.w3.org/2000/svg",width:19,height:18,fill:"none",viewBox:"0 0 19 18"},e),r||(r=y.createElement("g",{id:"filter-funnel-02"},y.createElement("path",{id:"Icon",stroke:"#667085",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3.04 4.25c-.568-.634-.851-.95-.862-1.22a.75.75 0 0 1 .272-.608c.208-.172.633-.172 1.484-.172h11.132c.85 0 1.276 0 1.484.172a.75.75 0 0 1 .272.608c-.01.27-.294.586-.862 1.22l-4.28 4.783c-.113.127-.17.19-.21.262a.8.8 0 0 0-.077.204c-.018.08-.018.165-.018.334v4.01c0 .148 0 .22-.024.284a.4.4 0 0 1-.099.147c-.05.045-.118.072-.254.127l-2.55 1.02c-.276.11-.414.165-.524.142a.38.38 0 0 1-.237-.16c-.062-.094-.062-.242-.062-.54v-5.03c0-.17 0-.254-.018-.334a.8.8 0 0 0-.078-.204c-.04-.072-.097-.135-.21-.262z"}))))},w=n(54887),k=n(7870),_=n(39207),S=n(5175),T=n(54301),R=n(61201),Z=n(48359),C=n.n(Z),I=n(29336),H=n(3864),P=n(55833),E=n(22322),N=n(74634),M=n(89831),D=n(79943),W=(0,n(30166).default)(function(){return Promise.all([n.e(47999),n.e(4637),n.e(21634),n.e(42845),n.e(58509),n.e(57930),n.e(14449),n.e(35322),n.e(32088)]).then(n.bind(n,10301)).then(function(e){return e.ReferenceNum})},{loadableGenerated:{webpack:function(){return[10301]}},ssr:!1}),B=["#12B76A","#D92D20","#475467"],L=["正面","负面","中性"],z=function(e){var t=e.name,n=e.count,r=e.checked,a=e.onClick;return(0,s.jsxs)(u.Z,{display:"flex",sx:{fontWeight:"400",cursor:"pointer",padding:"5px 10px",fontSize:"16px",lineHeight:"22px","&  .num":{color:"#667085"},"&:hover":{color:"#1570EF","&  .num":{color:"#1570EF"}},"&.active":{color:"#1570EF","&  .num":{color:"#1570EF"}}},flexDirection:"row",justifyContent:"space-between",alignItems:"center",className:r?"active":"",onClick:a,alignContent:"center",children:[(0,s.jsxs)(u.Z,{display:"flex",flexDirection:"row",alignItems:"center",children:[(0,s.jsx)("span",{children:t}),(0,s.jsx)("span",{className:"num",style:{fontSize:"14px",fontWeight:"700",marginLeft:"8px",lineHeight:"18px",verticalAlign:"bottom"},children:n})]}),r?(0,s.jsx)(g.Z,{}):(0,s.jsx)(u.Z,{})]})},F=function(e){var t=e.title;return(0,s.jsx)(u.Z,{style:{fontSize:"10px",color:"#98A2B3",lineHeight:"18px",fontWeight:"700",padding:"5px 10px"},children:t})},O=(0,c.forwardRef)(function(e,t){var n=(0,o._)((0,c.useState)({all:0,emotionType:[],descTag:[]}),2),r=n[0],f=n[1],g=(0,o._)((0,c.useState)({type:"all"}),2),y=g[0],b=g[1],k=function(t,n){var r,a={type:t,by:n};b(a),null===(r=e.tableRef.current)||void 0===r||r.filterBy(a)},_=function(e){var t=new Map,n=new Map,r=0,a=!0,i=!1,o=void 0;try{for(var s,c=e[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var u=s.value;r+=1,u.hasOwnProperty("emotionType")&&(t.has(u.emotionType)||t.set(u.emotionType,{name:L[u.emotionType],count:0,filterValue:u.emotionType}),t.get(u.emotionType).count+=1),u.hasOwnProperty("descTag")&&u.descTag.trim().length>0&&(n.has(u.descTag)||n.set(u.descTag,{name:u.descTag,count:0,filterValue:u.descTag}),n.get(u.descTag).count+=1)}}catch(e){i=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(i)throw o}}return{all:r,emotionType:(0,l._)(t.keys()).sort().map(function(e){return t.get(e)}),descTag:(0,l._)(n.values())}},S=e.source;(0,c.useImperativeHandle)(t,function(){return{tableDataUpdated:function(e){f(_(e))}}},[f]);var T=(0,c.useCallback)(function(e,t){return"attr"===y.type&&y.by.attrName===e&&y.by.attrVal===t.filterValue},[y]),R=(0,c.useMemo)(function(){return"attr"===y.type?r[y.by.attrName].find(function(e){return e.filterValue===y.by.attrVal}):null},[y,r]),Z=document.getElementById(e.portalId||""),C=R&&(0,s.jsx)(x.Z,{sx:{ml:"10px"},onCloseTag:function(){k("all")},className:"related-event-action-button",tagContent:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{style:{fontSize:"14px",fontWeight:"400",lineHeight:"22px"},children:R.name}),(0,s.jsx)("span",{style:{fontSize:"12px",fontWeight:"700",lineHeight:"18px",marginLeft:"4px"},children:R.count})]})});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(u.Z,{display:"flex",className:"related-event-table-filter-icon",flexDirection:"row",alignItems:"center",minHeight:"30px",children:[(0,s.jsx)(m.ZP,{variant:"popover",popupId:"NavigationMenu-popover",children:function(e){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Z,(0,i._)((0,a._)({sx:{ml:-1,boxSizing:"border-box",height:30,width:30}},(0,v.vW)(e)),{children:(0,s.jsx)(j,{style:{flex:"none"}})})),(0,s.jsx)(p.ZP,(0,i._)((0,a._)({},(0,v.ZW)(e)),{anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},style:{marginTop:"10px",marginLeft:"35px"},children:(0,s.jsxs)(u.Z,{width:"200px",padding:"15px 20px",children:[(0,s.jsx)(u.Z,{children:(0,s.jsx)(z,{name:"全部",count:r.all,onClick:function(){e.close(),k("all")},checked:"all"===y.type})}),r.emotionType.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.Z,{sx:{margin:"5px 0 "},light:!0}),(0,s.jsxs)(u.Z,{children:[(0,s.jsx)(F,{title:"事件情感"}),r.emotionType.map(function(t){return(0,s.jsx)(z,{name:t.name,count:t.count,checked:T("emotionType",t),onClick:function(){e.close(),k("attr",{attrName:"emotionType",attrVal:t.filterValue})}},t.filterValue)})]})]}),r.descTag.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.Z,{sx:{margin:"5px 0 "},light:!0}),(0,s.jsxs)(u.Z,{children:[(0,s.jsx)(F,{title:"event"===S?"事件类型":"organization"===S?"组织类型":"人物类型"}),r.descTag.map(function(t){return(0,s.jsx)(z,{name:t.name,count:t.count,checked:T("descTag",t),onClick:function(){e.close(),k("attr",{attrName:"descTag",attrVal:t.filterValue})}},t.filterValue)})]})]})]})}))]})}}),!Z&&C]}),Z&&(0,w.createPortal)(C,Z)]})});O.displayName="RelatedEventTableFilter";var A=(0,c.forwardRef)(function(e,t){var n=(0,D.WS)(),r=e.resultId,i=e.links,l=e.filterRef,d=e.updateDataIsNotEmptyAfterLoad,p=e.updateCount,h=e.isH5,g=e.submit,x=(0,o._)((0,c.useState)([]),2),m=x[0],v=x[1],y=(0,N.F)();(0,c.useImperativeHandle)(t,function(){return{filterBy:function(e){O(e)}}},[]);var b=(0,o._)((0,c.useState)(!1),2),j=b[0],w=b[1],Z=(0,c.useMemo)(function(){if(!m||0==m.length)return"";var e="<!-- TOC -->\n\n## 相关事件\n\n|事件名称|事件时间|事件概述|类型|\n|---|---|---|---|\n",t=!0,n=!1,r=void 0;try{for(var a,i=m[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;o&&(e+="|".concat((0,k.P_)(o.name),"|").concat((0,k.P_)(o.time),"|").concat((0,k.P_)(o.desc),"|").concat((0,k.P_)(o.descTag),"|\n"))}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e},[m]),L=P.vs.useBridge("exportMarkdownAPI");(0,c.useEffect)(function(){var e;null===(e=L.current)||void 0===e||e.updateExportMarkdownTextMap(P.r$.EventTable,r,Z)},[Z]);var z=(0,o._)((0,c.useState)({type:"all"}),2),F=z[0],O=z[1],A=(0,o._)((0,c.useState)([]),2),K=A[0],Q=A[1];(0,c.useEffect)(function(){"all"===F.type?Q(m):"attr"===F.type&&Q(m.filter(function(e){return e[F.by.attrName]===F.by.attrVal}))},[m,F]),(0,c.useEffect)(function(){var e;null==l||null===(e=l.current)||void 0===e||e.tableDataUpdated(m),null==p||p(m.length)},[m]),(0,c.useEffect)(function(){(e.model&&"fast_thinking"!==e.model?r:r&&e.finished)&&(null==d||d(!1),w(!0),(0,_.rnj)(r).then(function(e){if(e.data.errCode===M.cO.SENSITIVE_WORD){(0,E.y)("本次请求涉及的领域暂不支持",{variant:"warning",autoHideDuration:3e3,keep:!0}),(0,k.mh)(n);return}var t=e.data.data,r=[],a=!0,o=!1,l=void 0;try{for(var s,c=t[Symbol.iterator]();!(a=(s=c.next()).done);a=!0)!function(){var e=s.value,t=e["情感分析"],n=2;t.indexOf("正面")>=0?n=0:t.indexOf("负面")>=0&&(n=1);var a=e["来源"],o=[],l=!1;if(a){var c=a.match(/\[(\d+)]/g);o=c?c.map(function(e){var t=Number(e.substring(1,e.length-1));return t>0&&t<=i.length&&i[t-1].danger&&(l=!0),{index:t-1,link:i[t-1]}}):[],o=(0,H._p)(o)}if(!l){var u={name:e["事件名称"],desc:e["概括"],time:e["时间"],descTag:e["事件类型"],emotionType:n,referenceNum:o};r.push(u)}}()}catch(e){o=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(o)throw l}}v(r),null==d||d(r.length>0)}).finally(function(){w(!1)}))},[r,e.model,e.finished]);var q=function(e){null==g||g(e)};return j?(0,s.jsx)(f.Z,{size:"1.5em",sx:{color:"gray"},thickness:2}):(0,s.jsx)(S.ZP,{className:C()["result-table"],containerSx:{boxShadow:"none"},sx:h?(0,a._)({color:"var(--black)",borderRadius:"1px",border:"2px solid var(--border-color)","& th,td":{borderRight:"1px solid var(--border-color)",borderBottom:"1px solid var(--border-color)",fontSize:h?"12px":"14px"}},h?{'& [class*="MuiTableRow-root"]':{verticalAlign:"top"}}:{}):{border:"1px solid var(--card-border-color) !important"},style:{minWidth:h?"300px":"auto"},head:(0,s.jsxs)(T.Z,{sx:{"& th":{fontWeight:"700",fontSize:"16px",lineHeight:"24px",position:"relative",zIndex:0}},children:[h&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(R.Z,{width:"40",children:"事件名称"}),(0,s.jsx)(R.Z,{width:"60",children:"事件概述"})]}),!h&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(R.Z,{width:"170px",children:"事件名称"}),(0,s.jsx)(R.Z,{width:"135px",children:"事件时间"}),(0,s.jsx)(R.Z,{children:"事件概述"})]})]}),body:(0,s.jsx)(s.Fragment,{children:K.map(function(t,n){return(0,s.jsxs)(T.Z,{children:[(0,s.jsx)(R.Z,{children:(0,s.jsxs)(u.Z,{className:"".concat(h?"":C()["pc-event-box"]),sx:{lineHeight:"22px"},children:[!h&&(0,s.jsx)(u.Z,{children:(0,s.jsx)(I.Z,{style:{color:B[t.emotionType],minWidth:8,minHeight:8}})}),h&&t.time&&(0,s.jsxs)(u.Z,{className:C()["h5-event-time-box"],children:[(0,s.jsx)(I.Z,{style:{color:B[t.emotionType],minWidth:8,minHeight:8}}),(0,s.jsx)(u.Z,{className:"".concat(h?C()["h5-event-time"]:""),children:t.time})]}),(0,s.jsxs)(u.Z,{className:"".concat(h?C()["h5-event-name"]:""),children:[(0,s.jsx)(u.Z,{component:"span",style:{cursor:"pointer"},sx:{"&:hover":{textDecoration:"underline"}},onClick:function(){q(t.name)},children:t.name}),t.referenceNum.map(function(t,n){return(0,s.jsx)(W,{searchResultId:e.searchResultId,from:H.ik.TABLE,index:t.num,gid:e.gid,pages:t.pages,engineType:e.engineType,isH5:y,num:t.link.display.refer_id,link:i[t.num]},n)})]})]})}),!h&&(0,s.jsx)(R.Z,{children:(0,s.jsx)(U,{text:t.time})}),(0,s.jsxs)(R.Z,{children:[t.descTag&&(0,s.jsx)(V,{sx:{marginRight:"5px",fontSize:"10px !important"},children:t.descTag}),(0,s.jsx)("span",{children:(0,s.jsx)(U,{text:t.desc})})]})]},n)})})})});function V(e){var t=e.children,n=e.sx,r=e.onClick;return(0,s.jsx)(u.Z,{component:"span",sx:n,className:C().eventDesTag,onClick:r,children:t})}function U(e){var t=e.text.replace(/\[(\[\d+])+]/g,"");return(0,s.jsx)(s.Fragment,{children:t})}function K(e){var t=e.resultId,n=e.links,r=e.finished,a=e.model,i=(0,D.WS)(),l=(0,o._)((0,c.useState)([]),2),s=l[0],u=l[1],d=(0,o._)((0,c.useState)([]),2),p=d[0],h=d[1];return(0,c.useEffect)(function(){(a&&"fast_thinking"!==a?t:t&&r)&&(0,_.fR$)(t).then(function(e){if(e.data.errCode===M.cO.SENSITIVE_WORD){(0,E.y)("本次请求涉及的领域暂不支持",{variant:"warning",autoHideDuration:3e3,keep:!0}),(0,k.mh)(i);return}var t=e.data.data.orgnization,r=e.data.data.people,a=[],o=[],l=!0,s=!1,d=void 0;try{for(var p,f=t[Symbol.iterator]();!(l=(p=f.next()).done);l=!0)!function(){var e=p.value,t=e["来源"],r=[],i=!1;if(t){var o=t.match(/\[(\d+)]/g);r=o?o.map(function(e){var t=Number(e.substring(1,e.length-1));return t>0&&t<=n.length&&n[t-1].danger&&(i=!0),{index:t-1,link:n[t-1]}}):[],r=(0,H._p)(r)}i||a.push({name:e["机构名称"],desc:e["描述"],descTag:e["类型"],referenceNum:r}),(0,c.startTransition)(function(){u(a)})}()}catch(e){s=!0,d=e}finally{try{l||null==f.return||f.return()}finally{if(s)throw d}}var g=!0,x=!1,m=void 0;try{for(var v,y=r[Symbol.iterator]();!(g=(v=y.next()).done);g=!0)!function(){var e=v.value,t=e["来源"],r=[],a=!1;t&&(r=t.match(/\[(\d+)]/g).map(function(e){var t=Number(e.substring(1,e.length-1));return t>0&&t<=n.length&&n[t-1].danger&&(a=!0),{index:t-1,link:n[t-1]}}),r=(0,H._p)(r)),a||o.push({name:e["人名"],desc:e["描述"],descTag:e["类型"],referenceNum:r}),(0,c.startTransition)(function(){h(o)})}()}catch(e){x=!0,m=e}finally{try{g||null==y.return||y.return()}finally{if(x)throw m}}})},[t,r,a]),{organizationTableData:s,userTableData:p,orgCount:s.length,peopleCount:p.length}}A.displayName="RelatedEventTable";var Q=(0,c.forwardRef)(function(e,t){var n=e.resultId,r=e.links,i=e.filterRef,l=e.tableData,d=e.isH5,p=e.submit,h=(0,o._)((0,c.useState)(!1),2),g=h[0];h[1];var x=(0,o._)((0,c.useState)({type:"all"}),2),m=x[0],v=x[1],y=(0,o._)((0,c.useState)([]),2),b=y[0],j=y[1],w=(0,N.F)();(0,c.useImperativeHandle)(t,function(){return{filterBy:function(e){v(e)}}},[]),(0,c.useEffect)(function(){var e;null==i||null===(e=i.current)||void 0===e||e.tableDataUpdated(l)},[l]),(0,c.useEffect)(function(){var e;null==i||null===(e=i.current)||void 0===e||e.tableDataUpdated(l)},[l]);var _=(0,c.useMemo)(function(){if(!l||0==l.length)return"";var e="<!-- TOC -->\n\n## 相关组织\n\n|组织名称|概述|类型|\n|---|---|---|\n",t=!0,n=!1,r=void 0;try{for(var a,i=l[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;o&&(e+="|".concat((0,k.P_)(o.name),"|").concat((0,k.P_)(o.desc),"|").concat((0,k.P_)(o.descTag),"|\n"))}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e},[l]),Z=P.vs.useBridge("exportMarkdownAPI");(0,c.useEffect)(function(){var e;null===(e=Z.current)||void 0===e||e.updateExportMarkdownTextMap(P.r$.OrganizationTable,n,_)},[_]),(0,c.useEffect)(function(){"all"===m.type?j(l):"attr"===m.type&&j(l.filter(function(e){return e[m.by.attrName]===m.by.attrVal}))},[m,l]);var I=function(e){null==p||p(e)};return g?(0,s.jsx)(f.Z,{size:"1.5em",sx:{color:"gray"},thickness:2}):(0,s.jsx)(S.ZP,{className:C()["result-table"],containerSx:{boxShadow:"none"},sx:d?(0,a._)({color:"var(--black)",borderRadius:"1px",border:"2px solid var(--border-color)","& th,td":{borderRight:"1px solid var(--border-color)",borderBottom:"1px solid var(--border-color)",fontSize:d?"12px":"14px"}},d?{'& [class*="MuiTableRow-root"]':{verticalAlign:"top"}}:{}):{border:"1px solid var(--card-border-color) !important"},style:{minWidth:d?"300px":"650px"},head:(0,s.jsxs)(T.Z,{sx:{"& th":{fontWeight:"700",fontSize:"16px",lineHeight:"24px",position:"relative",zIndex:0}},children:[(0,s.jsx)(R.Z,{width:"40",children:"组织名称"}),(0,s.jsx)(R.Z,{width:"60",children:"概述"})]}),body:(0,s.jsx)(s.Fragment,{children:b.map(function(t,n){return(0,s.jsxs)(T.Z,{children:[(0,s.jsx)(R.Z,{children:(0,s.jsx)(u.Z,{display:"flex",flexDirection:"row",gap:"10px",sx:{lineHeight:"22px"},children:(0,s.jsxs)(u.Z,{children:[(0,s.jsx)(u.Z,{component:"span",style:{cursor:"pointer"},sx:{"&:hover":{textDecoration:"underline"}},onClick:function(){I(t.name)},children:t.name}),t.referenceNum.map(function(t,n){return(0,s.jsx)(W,{searchResultId:e.searchResultId,from:H.ik.TABLE,index:t.num,gid:e.gid,pages:t.pages,engineType:e.engineType,isH5:w,num:t.link.display.refer_id,link:r[t.num]},n)})]})})}),(0,s.jsxs)(R.Z,{children:[t.descTag&&(0,s.jsx)(V,{sx:{marginRight:"5px",fontSize:"10px !important"},children:t.descTag}),(0,s.jsx)("span",{children:t.desc})]})]},n)})})})}),q=c.memo(Q),J=(0,c.forwardRef)(function(e,t){var n=e.resultId,r=e.links,i=e.filterRef,l=e.tableData,d=e.isH5,p=e.submit,h=(0,o._)((0,c.useState)(!1),2),g=h[0];h[1];var x=(0,o._)((0,c.useState)({type:"all"}),2),m=x[0],v=x[1],y=(0,o._)((0,c.useState)([]),2),b=y[0],j=y[1],w=(0,N.F)();(0,c.useImperativeHandle)(t,function(){return{filterBy:function(e){v(e)}}},[]),(0,c.useEffect)(function(){var e;null==i||null===(e=i.current)||void 0===e||e.tableDataUpdated(l)},[l]);var _=(0,c.useMemo)(function(){if(!l||0==l.length)return"";var e="<!-- TOC -->\n\n## 相关人物\n\n|人物名称|概述|类型|\n|---|---|---|\n",t=!0,n=!1,r=void 0;try{for(var a,i=l[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;o&&(e+="|".concat((0,k.P_)(o.name),"|").concat((0,k.P_)(o.desc),"|").concat((0,k.P_)(o.descTag),"|\n"))}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e},[l]),Z=P.vs.useBridge("exportMarkdownAPI");(0,c.useEffect)(function(){var e;null===(e=Z.current)||void 0===e||e.updateExportMarkdownTextMap(P.r$.PeopleTable,n,_)},[_]),(0,c.useEffect)(function(){"all"===m.type?j(l):"attr"===m.type&&j(l.filter(function(e){return e[m.by.attrName]===m.by.attrVal}))},[m,l]);var I=function(e){null==p||p(e)};return g?(0,s.jsx)(f.Z,{size:"1.5em",sx:{color:"gray"},thickness:2}):(0,s.jsx)(S.ZP,{className:C()["result-table"],containerSx:{boxShadow:"none"},sx:d?(0,a._)({color:"var(--black)",borderRadius:"1px",border:"2px solid var(--border-color)","& th,td":{borderRight:"1px solid var(--border-color)",borderBottom:"1px solid var(--border-color)",fontSize:d?"12px":"14px"}},d?{'& [class*="MuiTableRow-root"]':{verticalAlign:"top"}}:{}):{border:"1px solid var(--card-border-color) !important"},style:{minWidth:d?"300px":"650px"},head:(0,s.jsxs)(T.Z,{sx:{"& th":{fontWeight:"700",fontSize:"16px",lineHeight:"24px",position:"relative",zIndex:0}},children:[(0,s.jsx)(R.Z,{width:"40",children:"人物名称"}),(0,s.jsx)(R.Z,{width:"60",children:"概述"})]}),body:(0,s.jsx)(s.Fragment,{children:b.map(function(t,n){return(0,s.jsxs)(T.Z,{children:[(0,s.jsx)(R.Z,{children:(0,s.jsx)(u.Z,{display:"flex",flexDirection:"row",gap:"10px",sx:{lineHeight:"22px"},children:(0,s.jsxs)(u.Z,{children:[(0,s.jsx)(u.Z,{component:"span",style:{cursor:"pointer"},sx:{"&:hover":{textDecoration:"underline"}},onClick:function(){I(t.name)},children:t.name}),t.referenceNum.map(function(t,n){return(0,s.jsx)(W,{searchResultId:e.searchResultId,from:H.ik.TABLE,index:t.num,pages:t.pages,gid:e.gid,engineType:e.engineType,isH5:w,num:t.link.display.refer_id,link:r[t.num]},n)})]})})}),(0,s.jsxs)(R.Z,{children:[t.descTag&&(0,s.jsx)(V,{sx:{marginRight:"5px",fontSize:"10px !important"},children:t.descTag}),(0,s.jsx)("span",{children:t.desc})]})]},n)})})})})},63598:function(e,t,n){"use strict";n.d(t,{M:function(){return g},z:function(){return h}});var r=n(50059),a=n(57437),i=n(78693),o=n(98633),l=n(2265),s=n(79235),c=n.n(s),u=n(36760),d=n.n(u),p=n(54632),h=function(e){return(0,a.jsx)(i.Z,{display:"flex",flexDirection:"column",marginTop:"8px",className:d()(c().linkContainer,e.isH5?c().isH5:""),children:e.links.filter(function(e){return!e.danger}).map(function(t,n){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f,{link:t,question:e.question},n),(n+1)%6==0&&e.isH5&&(0,a.jsx)(g,{onClick:null==e?void 0:e.switchToNormalMode,isH5:e.isH5})]})})})},f=function(e){var t=(0,r._)((0,l.useState)(""),2),n=t[0],s=t[1],u=(0,r._)((0,l.useState)(""),2),p=u[0],h=u[1],f=(0,r._)((0,l.useState)(e.link.title),2),g=f[0],m=f[1],v=(0,r._)((0,l.useState)(e.link.snippet),2),y=v[0],b=v[1],j=(0,r._)((0,l.useState)(!1),2),w=j[0],k=j[1];(0,l.useEffect)(function(){var t=e.link;try{var n=new URL(t.link);s(n.origin);var r=n.pathname.endsWith("/")?n.pathname.substring(0,n.pathname.length-1):n.pathname;0==r.trim().length&&n.search.length>0&&(r="/"),h((r+n.search).replaceAll("/"," › ")),m(x(t.title,e.question)),b(x(t.snippet,e.question))}catch(e){s(t.link),h("")}},[e.link.link]);var _=(0,l.useCallback)(function(){k(!0)},[]);return(0,a.jsxs)(i.Z,{display:"flex",flexDirection:"column",gap:"8px",className:d()(c().linkItem),children:[(0,a.jsx)(o.Z,{onLinkClick:_,display:"inline",style:{color:"inherit",textDecorationColor:"transparent"},className:d()(c().truncate),target:"_blank",href:e.link.link,children:(0,a.jsx)(i.Z,{className:d()(c().linkTitle,w?c().clicked:""),display:"inline",dangerouslySetInnerHTML:{__html:g},title:e.link.title})}),(0,a.jsxs)(i.Z,{className:c().linkSnippet,children:[e.link.date&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z,{component:"span",className:c().linkDate,children:e.link.date}),"\xa0\xa0•\xa0\xa0"]}),(0,a.jsx)(i.Z,{component:"span",dangerouslySetInnerHTML:{__html:y}})]}),(0,a.jsxs)(o.Z,{onLinkClick:_,style:{color:"inherit",textDecorationColor:"transparent",display:"inline"},target:"_blank",className:d()(c().truncate,c().linkHref),href:e.link.link,children:[(0,a.jsx)(i.Z,{component:"span",className:c().linkOrigin,children:n}),(0,a.jsx)(i.Z,{component:"span",className:c().linkPath,children:p})]})]})},g=function(e){var t=e.onClick,n=e.isH5;return(0,a.jsxs)(i.Z,{display:"flex",flexDirection:"column",gap:"20px",padding:"25px",sx:{backgroundColor:n?"white":"transparent"},border:n?"":"1px solid #EAECF0",borderRadius:n?"":"8px",children:[(0,a.jsx)(i.Z,{fontWeight:700,fontSize:n?"18px":"20px",lineHeight:"38px",children:"想直接找答案？"}),(0,a.jsx)(i.Z,{textAlign:"center",children:(0,a.jsx)("img",{style:{width:"100%"},src:"https://static-1.metaso.cn/_next/static/media/webpage-tip.38651aff.png",alt:"更精准"})}),(0,a.jsx)(i.Z,{textAlign:"center",fontWeight:400,lineHeight:"24px",fontSize:n?"15px":"13px",color:"#475467",children:"网页太多？为您提供直接、精准的答案"}),(0,a.jsx)(i.Z,{children:(0,a.jsx)(p.Z,{variant:"contained",sx:{width:"100%",height:"42px"},onClick:t,children:"我来回答"})})]})};function x(e,t){if(!e)return"";var n=function(e,t){e=e.toLowerCase(),t=t.toLowerCase();for(var n=e.length,r=t.length,a=Array(n+1).fill(null).map(function(){return Array(r+1).fill(0)}),i=0,o=0,l=0,s=1;s<=n;s++)for(var c=1;c<=r;c++)e[s-1]===t[c-1]&&(a[s][c]=a[s-1][c-1]+1,a[s][c]>i&&(i=a[s][c],o=s,l=c));return 0===i?null:{substring:e.substring(o-i,o),start1:o-i,end1:o-1,start2:l-i,end2:l-1}}(e=e.replace(/<[^<>]+>([^<>]*)<\/[^<>]+>/g,"$1"),t);if(null==n)return e;var r="";return n.start1>0&&(r+=e.substring(0,n.start1)),r+='<span class="'.concat(c().highlight,'">').concat(e.substring(n.start1,n.end1+1),"</span>")+e.substring(n.end1+1)}},76117:function(e,t,n){"use strict";n.d(t,{k:function(){return g}});var r=n(2403),a=n(50059),i=n(5853),o=n(99376),l=n(2265),s=n(39207),c=n(22322),u=n(26058),d=n(7870),p=n(79943),h=n(47812),f=n(55833);function g(e){var t,n=e.modelResultId,g=e.collapse,v=e.shareGid,y=e.sessionId,b=(0,o.useSearchParams)().get("ppt"),j=(0,a._)((0,l.useState)(!1),2),w=j[0],k=j[1],_=(0,a._)((0,l.useState)(""),2),S=_[0],T=_[1],R=(0,a._)((0,l.useState)(""),2),Z=R[0],C=R[1],I=(0,p.WS)(),H=(0,a._)((0,l.useState)(0),2),P=H[0],E=H[1],N=f.vs.useBridge("shareKey");(0,l.useEffect)(function(){if(null!==b&&"true"===b&&!g){var e=new URLSearchParams(window.location.search);if(e.delete("ppt"),e.delete(h.Vp.COMMON),e.has("arid")){if(e.get("arid")!==v)return;e.delete("arid")}e.delete("arid");var t="1";e.has("pptStyle")&&(t=e.get("pptStyle"),e.delete("pptStyle"),localStorage.setItem("pptStyle",t)),M(t);var n="".concat(window.location.pathname,"?").concat(e.toString());I.replace(n)}},[b,g]);var M=function(e){k(!0),(0,d.dW)("show-ppt",1);var t,r,a=e||localStorage.getItem("pptStyle")||"1";Z?T(Z.replace(/\/figure/g,"http://uranus-static.oss-accelerate.aliyuncs.com/metaso/image/figure"+a)):(0,s.ffG)(n).then(function(e){if(!e.data.data){(0,c.y)("生成演示文稿失败，请稍后再试",{variant:"error",autoHideDuration:2e3}),D();return}var t=e.data.data.replace(/\\\(/g,"\\\\(").replace(/\\\)/g,"\\\\)").replace(/\\\[/g,"\\\\[").replace(/\\\]/g,"\\\\]").replace(RegExp("(?<!\\\\)~","g"),"\\~");C(t=t.replace(/`<([a-z]{1,12})>`/g,function(e,t){return"&lt;"+t+"&gt;"})),T(t.replace(/\/figure/g,"http://uranus-static.oss-accelerate.aliyuncs.com/metaso/image/figure"+a))}),(0,u.FB)()&&!x.has((t=v,(r=a)?t+r:t))&&m(y,v,a,N.current.getSearchNormalShareKey())},D=function(){k(!1)};return{displayPpt:w,setDisplayPpt:k,pptMd:S,setPptMd:T,showPpt:M,hidePpt:D,shareClicked:(t=(0,r._)(function(){var e;return(0,i.Jh)(this,function(t){var n,r,a,i,o;switch(t.label){case 0:;if(e=localStorage.getItem("pptStyle")||"1",(0,d.oh)("share"),n=e,x.has((r=v,(a=n)?r+a:r)))return[3,2];return[4,m(y,v,e,N.current.getSearchNormalShareKey())];case 1:t.sent(),t.label=2;case 2:;return(0,d.vQ)(x.get((i=v,(o=e)?i+o:i))).then(function(){(0,c.y)("分享链接已成功复制到剪贴板",{variant:"success",autoHideDuration:3e3})}),[2]}})}),function(){return t.apply(this,arguments)}),pptPageNum:P,setPptPageNum:E}}var x=new Map;function m(e,t,n,r){var a=new URL(location.href);return a.searchParams.set("ppt","true"),a.searchParams.set("arid",t),n&&a.searchParams.set("pptStyle",n),r&&a.searchParams.set("shareKey",r),(0,s.JjP)(a.pathname+a.search,s.FqK.SEARCH_PPT,e).then(function(e){var r,a,i=e.data.data;x.set((r=t,(a=n)?r+a:r),location.origin+i)})}},48174:function(e,t,n){"use strict";n.d(t,{P:function(){return N}});var r,a,i=n(2403),o=n(5194),l=n(1780),s=n(46796),c=n(50059),u=n(5853),d=n(57437),p=n(78693),h=n(47812),f=n(94746);function g(){return(g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var x=function(e){return f.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",width:25,height:24,fill:"none",viewBox:"0 0 25 24"},e),r||(r=f.createElement("path",{fill:"currentColor",d:"M20.121 1.514H4.211a2.53 2.53 0 0 0-2.531 2.53v15.911a2.53 2.53 0 0 0 2.53 2.532h15.911a2.53 2.53 0 0 0 2.532-2.532V4.045a2.53 2.53 0 0 0-2.532-2.531m1.102 18.441c0 .608-.494 1.102-1.102 1.102H4.211a1.103 1.103 0 0 1-1.102-1.102V4.045c0-.608.494-1.102 1.102-1.102h15.91c.608 0 1.102.494 1.102 1.102z"})),a||(a=f.createElement("path",{fill:"currentColor",d:"M11.798 7.443H9.014v9.113h1.447V13.17h1.385c1.996 0 3.471-.923 3.471-2.925 0-2.087-1.475-2.803-3.52-2.803m-.073 4.283h-1.26l.03-2.837h1.2c1.458 0 2.188.133 2.188 1.357 0 1.188-.707 1.48-2.158 1.48"})))},m=n(2265),v=n(7870),y=n(54632),b=n(42576),j=n(36956),w=n(43180),k=n(81951),_=n(39207),S=n(75825),T=n(61592),R=n(13937),Z=n(79943),C=n(99376),I=n(55833),H=n(96339),P=n(23760),E=n(92498),N=(0,m.memo)((0,m.forwardRef)(function(e,t){var n,r,a,i;return(0,d.jsxs)(p.Z,{className:"".concat(e.isLast?"last-qa-o":""),sx:{position:"relative",display:"flex",flexDirection:"row",gap:e.isH5?"24px":"12px",mt:e.isH5?2:0},children:[e.groupConfig&&!(null===(n=e.groupConfig)||void 0===n?void 0:n.disableDeepThinkReport)&&(0,d.jsx)(W,{idForResult:e.finalIdForResult,id:e.id,buttonLabel:e.buttonLabel,pcStyleBtn:e.pcStyleBtn,targetType:h.QB.DEEP_THING_RESEARCH_REPORT,setTargetType:e.getReportId,isH5:e.isH5,generated:!!e.htmlReportId}),!(null===(r=e.groupConfig)||void 0===r?void 0:r.disableHTML)&&(0,d.jsx)(W,{idForResult:e.finalIdForResult,id:e.id,buttonLabel:e.buttonLabel,targetType:h.QB.DEFAULT,pcStyleBtn:e.pcStyleBtn,setTargetType:e.getReportId,isH5:e.isH5,generated:!!e.htmlReportId}),!(null===(a=e.groupConfig)||void 0===a?void 0:a.disableReport)&&(0,d.jsx)(W,{idForResult:e.finalIdForResult,id:e.id,targetType:h.QB.CARD,pcStyleBtn:e.pcStyleBtn,setTargetType:e.getReportId,isH5:e.isH5,generated:!!e.htmlReportId}),!(null===(i=e.groupConfig)||void 0===i?void 0:i.disablePPT)&&(0,d.jsx)(M,{searchResultId:e.finalIdForResult,result:e.result,pcStyleBtn:e.pcStyleBtn,pptId:e.pptId,sessionId:e.id,title:e.title,isH5:e.isH5})]})}));N.displayName="SearchQAToolButtons";var M=(0,m.memo)((0,m.forwardRef)(function(e,t){var n=e.sx,r=e.searchResultId,a=e.sessionId,c=e.result,h=(e.title,e.pcStyleBtn),f=e.pptId,g=e.isH5,m=(0,s._)(e,["sx","searchResultId","sessionId","result","title","pcStyleBtn","pptId","isH5"]);(0,Z.WS)();var j=(0,b.Z)({sessionId:a}),w=(0,C.useSearchParams)(),_=I.vs.useBridge("presentationApi"),S=(0,P.LM)(function(e){return e.login}),T=(0,E.Z)((0,i._)(function(){var t,n,i,o,l,s;return(0,u.Jh)(this,function(u){switch(u.label){case 0:if((0,v.dW)("generate-search-ppt-click",{isH5:e.isH5,sessionId:a,resultId:r,pptId:f}),!e.isH5)return[3,3];if(t=new URL(location.href),i={sessionId:a,searchResultId:r},o=t.searchParams.get("shareKey"))return[3,2];return[4,j.promise];case 1:o=u.sent().shareKey,u.label=2;case 2:return i.shareKey=o,n=i,e.pptId&&(n.presentationId=f),(0,k.I)({searchPageLikeParams:n}),[3,4];case 3:s=c.replace(/\[\[\d+\]\]/g,"").replace(/!\[[^\]]*\]\([^)]+\)/g,"").replace(/<[^>]*>\s*\[AI生成\]\s*<\/[^>]*>\s*$/g,"").trim(),null===(l=_.current)||void 0===l||l.showSearchResultToPresentationDialog(e.searchResultId,s,f),u.label=4;case 4:return[2]}})})),R=(0,E.Z)((0,i._)(function(){return(0,u.Jh)(this,function(e){return S?T():(0,H.x3)({logDesc:"ppt-login-btn",callback:function(){T()}}),[2]})}));return g&&!(void 0!==h&&h)?(0,d.jsx)(D,{icon:(0,d.jsx)(x,{}),title:"转PPT",onClick:R}):(0,d.jsx)(y.Z,(0,l._)((0,o._)({sx:(0,v.Vc)({width:1,height:42,fontSize:e.isH5?12:w.get("displayUrl")?8:16,svg:{width:e.isH5?"24px":w.get("displayUrl")?"16px":"24px"},borderRadius:"8px",fontWeight:"normal",color:"#fff",bgcolor:"var(--home-search-box-bg, #000)","&:hover,&:active":{bgcolor:"#424242","& .switch-icon":{visibility:"visible"}},"& .switch-icon.active":{visibility:"visible"}},n),startIcon:(0,d.jsx)(x,{}),onClick:R},m),{children:(0,d.jsx)(p.Z,{component:"span",children:"转PPT"})}))})),D=(0,m.memo)((0,m.forwardRef)(function(e,t){return(0,d.jsxs)(p.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",cursor:"pointer",border:"1px solid #E7E7E7",borderRadius:"8px",width:"100%",boxSizing:"border-box",fontSize:"12px",padding:"12px",gap:"6px",backgroundColor:"#F9F9F9"},onClick:e.onClick,children:[(0,d.jsx)(p.Z,{children:e.icon}),(0,d.jsx)(p.Z,{children:(0,d.jsx)(p.Z,{component:"span",children:e.title})})]})})),W=(0,m.memo)((0,m.forwardRef)(function(e,t){var n,r=e.sx,a=e.isH5,f=void 0!==a&&a,g=(e.generated,e.webpageUrl),x=e.idForResult,Z=e.pcStyleBtn,I=e.id,H=e.targetType,P=e.setTargetType,E=(0,s._)(e,["sx","isH5","generated","webpageUrl","idForResult","pcStyleBtn","id","targetType","setTargetType"]),N=(0,C.useSearchParams)(),M=(0,b.Z)({sessionId:I}),W=(0,c._)((0,m.useState)(!1),2),B=W[0],L=W[1],z=(0,c._)((0,m.useState)(null),2),F=z[0];z[1],(0,c._)((0,w.bQ)({anchor:F},B,function(){L(!1)}),1)[0],(0,j.W)();var O=(n=(0,i._)(function(e){var t,n,r,a,i,o;return(0,u.Jh)(this,function(l){switch(l.label){case 0:if(t=null,L(!1),P&&(t=P(e)),!f)return[3,3];if(n=new URL(location.href),a={sessionId:I},i=n.searchParams.get("shareKey"))return[3,2];return[4,M.promise];case 1:i=l.sent().shareKey,l.label=2;case 2:return a.shareKey=i,r=a,t&&(r.reportId=t),(0,k.I)({searchPageLikeParams:r}),[3,4];case 3:(o=new URL((0,_.jaP)((0,v.gY)(S.l.SearchInteractiveReport,{id:I})),location.origin)).searchParams.set("dataId",x),o.searchParams.set("targetType",(null==e?void 0:e.toString())||h.QB.DEFAULT.toString()),t&&o.searchParams.set("reportId",t),g?((0,v.dW)("generate-interactive-webpage-quick",{webpageUrl:g,id:I,targetType:e}),o.searchParams.set("webpageUrl",g)):(0,v.dW)("generate-interactive-webpage",{id:I,targetType:e}),window.open(o.href),l.label=4;case 4:return[2]}})}),function(e){return n.apply(this,arguments)}),A=(0,m.useMemo)(function(){return H==h.QB.CARD?"展示海报":e.buttonLabel||"互动网页"},[H,e.buttonLabel]),V=(0,m.useMemo)(function(){return H==h.QB.CARD?(0,d.jsx)(T.Z,{}):(0,d.jsx)(R.Z,{})},[H]),U=f&&!(void 0!==Z&&Z);return U?(0,d.jsx)(D,{icon:V,title:A,onClick:function(){return O(H)}}):(0,d.jsx)(y.Z,(0,l._)((0,o._)({sx:(0,v.Vc)({width:1,height:42,fontSize:U?12:N.get("displayUrl")?8:16,svg:{width:U?"24px":N.get("displayUrl")?"16px":"24px"},borderRadius:"8px",fontWeight:"normal",color:"#fff",bgcolor:"var(--home-search-box-bg, #000)","&:hover,&:active":{bgcolor:"#424242","& .switch-icon":{visibility:"visible"}},"& .switch-icon.active":{visibility:"visible"}},r),startIcon:V,onClick:function(){return O(H)}},E),{children:(0,d.jsx)(p.Z,{component:"span",children:A})}))}))},5175:function(e,t,n){"use strict";var r=n(5194),a=n(1780),i=n(46796),o=n(57437),l=n(2265),s=n(70208),c=n(59469),u=n(9633),d=n(32281),p=n(53410),h=n(46075),f=n.n(h),g=n(15438),x=n(50032),m=n(74634),v=(0,l.forwardRef)(function(e,t){var n=e.head,h=e.body,f=e.className,g=e.sx,x=e.containerSx,m=e.onBodyScroll,v=(0,i._)(e,["head","body","className","sx","containerSx","onBodyScroll"]),y=(0,l.useRef)(null),b=(0,l.useRef)(null),j=(0,l.useRef)(null);return(0,l.useImperativeHandle)(t,function(){return{containerRef:y,headRef:b,tableRef:j}},[]),(0,o.jsx)(u.Z,{sx:(0,r._)({overflowX:"initial",width:"100%"},x),ref:y,className:"meta-component ".concat(f," "),component:p.Z,onScroll:m,children:(0,o.jsxs)(s.Z,(0,a._)((0,r._)({sx:(0,r._)({minWidth:650,tableLayout:"fixed"},g),"aria-label":"simple table"},v),{ref:j,children:[(0,o.jsx)(d.Z,{ref:b,sx:{zIndex:2,"& th":{position:"sticky",top:0,zIndex:2,textWrap:"nowrap"}},children:n}),(0,o.jsx)(c.Z,{children:h})]}))})});t.ZP=v;var y=(0,l.createContext)(void 0);(0,l.forwardRef)(function(e,t){var n=(0,l.useContext)(y),i=(0,g.YF)({transform:!0,elements:{reference:n}}),s=i.refs,c=(i.floatingStyles,i.x,i.y),u=(i.context,i.elements),p=i.update,h=(0,m.a8)();return(0,l.useLayoutEffect)(function(){if(h){var e=u.reference;if(e&&u.floating){var t=e instanceof HTMLElement&&e.previousElementSibling||e;return(0,x.Me)(t,u.floating,p)}}},[p,h]),(0,l.useImperativeHandle)(t,function(){return s.floating.current},[s.floating]),(0,o.jsx)(d.Z,(0,a._)((0,r._)({},f()(e,["children","style"])),{style:(0,r._)({transform:"translateY(".concat(c,"px)")},e.style),ref:s.setFloating,children:e.children}))}).displayName="MetaTableHead"},78223:function(e){e.exports={root:"action-button_root__sSsRZ","tag-style":"action-button_tag-style__s5ZfP",content:"action-button_content__Mme1N","tag-content":"action-button_tag-content__FgeJ9","arrow-icon":"action-button_arrow-icon__nU_MF","arrow-icon-reverse":"action-button_arrow-icon-reverse__K670b"}},79235:function(e){e.exports={linkContainer:"MetaWebpageSearchResult_linkContainer__9LrkL",isH5:"MetaWebpageSearchResult_isH5__jYEK2",linkItem:"MetaWebpageSearchResult_linkItem__iw2Ig",linkTitle:"MetaWebpageSearchResult_linkTitle__6n4b_",linkSnippet:"MetaWebpageSearchResult_linkSnippet__zQ_UM",linkOrigin:"MetaWebpageSearchResult_linkOrigin__mSFRB",highlight:"MetaWebpageSearchResult_highlight__s6HDl",clicked:"MetaWebpageSearchResult_clicked__4Z52f",linkDate:"MetaWebpageSearchResult_linkDate__zubz6",linkHref:"MetaWebpageSearchResult_linkHref__p_Dk_",linkPath:"MetaWebpageSearchResult_linkPath__OCRPU",truncate:"MetaWebpageSearchResult_truncate__KjDR7"}}}]);