(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[18810,39650],{5942:function(e,t,n){"use strict";var r,o=n(94746);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return o.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),r||(r=o.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 9V3m0 0h-6m6 0-9 9m-2-9H7.8c-1.68 0-2.52 0-3.162.327a3 3 0 0 0-1.311 1.311C3 5.28 3 6.12 3 7.8v8.4c0 1.68 0 2.52.327 3.162a3 3 0 0 0 1.311 1.311C5.28 21 6.12 21 7.8 21h8.4c1.68 0 2.52 0 3.162-.327a3 3 0 0 0 1.311-1.311C21 18.72 21 17.88 21 16.2V14"})))}},4416:function(e,t,n){"use strict";n.d(t,{Z:function(){return u},e:function(){return d}});var r=n(5194),o=n(1780),i=n(46796),a=n(57437),c=n(14865),l=n(19643),s=n(78693);function u(e){var t=e.classes,n=(0,i._)(e,["classes"]);return(0,a.jsx)(c.Z,(0,o._)((0,r._)({},n),{classes:(0,r._)({root:"switch-root",switchBase:"switch-base",thumb:"switch-thumb",track:"switch-track"},t)}))}function d(e){var t=e.checked,n=e.onChange,r=e.children;return(0,a.jsxs)(l.Z,{onClick:function(){n(!t)},direction:"row",justifyContent:t?"start":"end",position:"relative",alignItems:"center",sx:{height:"22px",width:"52px",borderRadius:"12px",border:t?"solid 0.5px #1570EF":"solid 0.5px #E5E7EB",backgroundColor:t?"#1570EF":"#F2F4F7"},children:[(0,a.jsx)(s.Z,{sx:{fontSize:"12px",color:t?"white":"#475467",margin:"0 6px",transition:"color .3s"},children:r}),(0,a.jsx)(s.Z,{left:t?"calc(100% - 18px)":"2px",sx:{transition:"left .3s",backgroundColor:"white",height:"16px",width:"16px",borderRadius:"50%",boxShadow:"0px 1px 1px 0px #10182833",position:"absolute"}})]})}n(2265)},29707:function(e,t,n){"use strict";n.d(t,{E:function(){return b}});var r=n(5194),o=n(1780),i=n(46796),a=n(57437),c=n(2265),l=n(78693),s=n(7870),u=n(50059),d=n(99325),f=n.n(d),v=n(7633),h=n.n(v),g=n(53323),m=n(94943),p=function(e,t){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}},x=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},b=(0,c.memo)((0,c.forwardRef)(function(e,t){var n=e.children,d=e.innerStyle,v=e.innerClassName,b=e.minScale,_=e.maxScale,w=e.autoResetOnSmallScale,j=e.resetTransitionDuration,C=e.notAllowMovingWhenZoomedOut,k=e.allowResetScale,E=e.getResetValue,y=e.disabled,S=e.noMoving,I=(0,i._)(e,["children","innerStyle","innerClassName","minScale","maxScale","autoResetOnSmallScale","resetTransitionDuration","notAllowMovingWhenZoomedOut","allowResetScale","getResetValue","disabled","noMoving"]),M=(0,c.useRef)(null),R=(0,c.useRef)(null),Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minScale,r=void 0===n?.1:n,o=t.maxScale,i=void 0===o?10:o,a=t.autoResetOnSmallScale,l=void 0!==a&&a,s=t.resetTransitionDuration,d=void 0===s?300:s,v=t.notAllowMovingWhenZoomedOut,b=void 0!==v&&v,_=t.disabled,w=void 0!==_&&_,j=t.noMoving,C=void 0!==j&&j,k=(0,u._)((0,c.useState)(0),2),E=k[0],y=k[1],S=(0,g.I)(E),I=(0,u._)((0,c.useState)(0),2),M=I[0],R=I[1],Y=(0,g.I)(M),L=(0,u._)((0,c.useState)(1),2),Z=L[0],T=L[1],X=(0,g.I)(Z),O=(0,u._)((0,c.useState)(!1),2),F=O[0],D=O[1],P=(0,u._)((0,c.useState)(!1),2),W=P[0],B=P[1],H=(0,u._)((0,c.useState)(!1),2),N=H[0],A=H[1],V=(0,g.I)(N),z=(0,c.useRef)({translateX:0,translateY:0}),U=(0,c.useRef)({x:0,y:0}),q=(0,c.useCallback)(function(){var t=e.current;if(!t)return{width:0,height:0,left:0,top:0};var n=t.getBoundingClientRect();return{width:n.width,height:n.height,left:n.left,top:n.top}},[e]),G=(0,c.useRef)(null),K=(0,c.useRef)(null),J=(0,c.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0,r=null!==(l=null==n?void 0:n.delay)&&void 0!==l?l:100,o=null!==(s=null==n?void 0:n.scene)&&void 0!==s?s:"default",i=null!==(u=null==n?void 0:n.resetScale)&&void 0!==u?u:t.allowResetScale;if(clearTimeout(K.current),e){var a=h()("zoom-animate-token");G.current=a,A(!0);var c=function(e){var t=e.beginningScale,n=e.beginningX,r=e.beginningY,o=e.startTime,l=e.targetScale,s=e.targetY,u=e.targetX;requestAnimationFrame(function(){if(V.current&&a===G.current){var f=(0,m.Vv)(Math.min((performance.now()-o)/d,1));y(n+(u-n)*f),R(r+(s-r)*f),i&&T((l-t)*f+t),f>=1?A(!1):c(e)}})};K.current=setTimeout(function(){var e,n,r,i,a=performance.now(),l=null===(e=t.getResetValue)||void 0===e?void 0:e.call(t,o,{scale:X.current,translateX:S.current,translateY:Y.current});c({startTime:a,beginningX:S.current,beginningScale:X.current,beginningY:Y.current,targetX:null!==(n=null==l?void 0:l.translateX)&&void 0!==n?n:0,targetY:null!==(r=null==l?void 0:l.translateY)&&void 0!==r?r:0,targetScale:null!==(i=null==l?void 0:l.scale)&&void 0!==i?i:1})},r)}else{var l,s,u,f,v,g,p,x=null===(f=t.getResetValue)||void 0===f?void 0:f.call(t,o,{scale:X.current,translateX:S.current,translateY:Y.current});y(null!==(v=null==x?void 0:x.translateX)&&void 0!==v?v:0),R(null!==(g=null==x?void 0:x.translateY)&&void 0!==g?g:0),i&&T(null!==(p=null==x?void 0:x.scale)&&void 0!==p?p:1)}},[V,t,t.getResetValue,d,X,S,Y]),Q=(0,c.useCallback)(function(e){e.preventDefault(),A(!1);var t={x:e.clientX,y:e.clientY},n=e.deltaY;T(function(e){var o=Math.max(r,Math.min(i,f()(e-n/1e3,2))),a=q(),c=a.width,s=a.height,u=a.left,d=a.top,v=E/100*c,h=(t.x-(u+c/2)-v)/e,g=M/100*s,m=(t.y-(d+s/2)-g)/e,p=o-e;return y(function(e){return e+-h*p/c*100}),R(function(e){return e+-m*p/s*100}),o<1&&l&&!F&&J(!0,{scene:"zoom-out"}),o})},[r,i,q,E,M,l,F,J]),$=(0,c.useRef)({x:0,y:0}),ee=(0,c.useCallback)(function(e){U.current={x:e.clientX,y:e.clientY},D(!0),A(!1),$.current=U.current},[]),et=(0,c.useCallback)(function(e,t){if(F){B(!0);var n,r=q();null===(n=getSelection())||void 0===n||n.removeAllRanges();var o=e-$.current.x,i=t-$.current.y;y(function(e){return e+o/r.width*100}),R(function(e){return e+i/r.height*100}),$.current={x:e,y:t}}},[q,F]),en=(0,c.useCallback)(function(e){et(e.clientX,e.clientY)},[et]),er=(0,c.useCallback)(function(e){X.current<1&&l&&J(!0,{scene:"zoom-out"}),el.current<2&&(e.stopPropagation(),el.current++),D(!1),B(!1)},[l,J,X]),eo=(0,c.useRef)(0),ei=(0,c.useRef)(1),ea=(0,c.useRef)(null),ec=(0,c.useCallback)(function(e){if(2===e.touches.length){B(!0),A(!1);var t={x:f()(e.touches[0].clientX,1),y:f()(e.touches[0].clientY,1)},n={x:f()(e.touches[1].clientX,1),y:f()(e.touches[1].clientY,1)},r=p(t,n);eo.current=f()(x(t,n),1),ea.current=[t,n],ei.current=Z,U.current=r,z.current={translateX:E,translateY:M}}},[Z,E,M]),el=(0,c.useRef)(0),es=(0,c.useCallback)(function(e){if(2===e.touches.length&&ea.current){e.preventDefault(),el.current=0;var t={x:f()(e.touches[0].clientX,1),y:f()(e.touches[0].clientY,1)},n={x:f()(e.touches[1].clientX,1),y:f()(e.touches[1].clientY,1)},o=f()(x(t,n),1),a=p(t,n),c=q(),l=c.width,s=c.height,u=c.left,d=c.top,v=o/eo.current,h=Math.max(r,Math.min(i,ei.current*v));if(!(X.current>=i)||!(h>=i)){var g=z.current.translateX,m=z.current.translateY,b=(a.x-(u+l/2))/l*100,_=(a.y-(d+s/2))/s*100;y(g+(b-g)*(1-v)),R(m+(_-m)*(1-v)),T(h)}}},[q,r,i]),eu=(0,c.useCallback)(function(e){if(1===e.touches.length){D(!0);var t=e.touches[0];U.current={x:t.clientX,y:t.clientY},$.current=U.current}},[]),ed=(0,c.useCallback)(function(e){if(1===e.touches.length&&!C&&(!b||!(X.current<=1))){var t=e.touches[0];et(t.clientX,t.clientY)}},[b,et]);return(0,c.useEffect)(function(){var t=e.current;if(!w&&t)return t.addEventListener("wheel",Q),t.addEventListener("touchstart",ec,!0),t.addEventListener("touchmove",es,{passive:!1,capture:!0}),t.addEventListener("touchend",er,!0),C||(t.addEventListener("touchstart",eu,!0),t.addEventListener("touchmove",ed,!0)),function(){t.removeEventListener("wheel",Q),t.removeEventListener("touchstart",ec,!0),t.removeEventListener("touchmove",es,!0),t.removeEventListener("touchend",er,!0),t.removeEventListener("touchstart",eu,!0),t.removeEventListener("touchmove",ed,!0)}},[e,w,ee,en,ed,eu,er,es,ec,Q,C]),(0,c.useEffect)(function(){if(!C){var e=function(e){return en(e)},t=function(e){return er(e)};return document.addEventListener("mousemove",e),document.addEventListener("mouseup",t),function(){document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)}}},[en,er,C]),{scale:Z,translateX:E,translateY:M,isGrabbing:F,isMoving:W,resetTransform:J,setScale:T,setTranslateX:y,setTranslateY:R,handlers:{onMouseDown:ee,onWheel:Q,onTouchStart:ec,onTouchMove:es,onTouchEnd:er}}}(M,{minScale:void 0===b?.1:b,maxScale:void 0===_?10:_,disabled:y,autoResetOnSmallScale:void 0!==w&&w,notAllowMovingWhenZoomedOut:C,resetTransitionDuration:void 0===j?300:j,getResetValue:E,allowResetScale:k,noMoving:S}),L=Y.scale,Z=Y.translateX,T=Y.translateY,X=Y.isGrabbing,O=Y.isMoving,F=Y.setScale,D=Y.resetTransform,P=(0,c.useRef)({scale:L,translateX:Z,translateY:T});return(0,c.useEffect)(function(){var t,n={scale:L,translateX:Z,translateY:T};null===(t=e.onTransformChange)||void 0===t||t.call(e,n,P.current),P.current=n},[L,Z,T]),(0,c.useImperativeHandle)(t,function(){return{setScale:F,resetTransform:D,getContainer:function(){return M.current}}}),(0,a.jsx)(l.Z,(0,o._)((0,r._)({},I),{sx:(0,s.Vc)({cursor:X?"grabbing":"grab",touchAction:"none",overflow:"hidden",position:"relative"},e.sx),ref:M,children:(0,a.jsx)(l.Z,{sx:{width:1,height:1},className:v,style:(0,r._)({pointerEvents:O?"none":"auto",userSelect:O?"none":"auto",transform:"translate(".concat(Z,"%, ").concat(T,"%) scale(").concat(L,")"),transformOrigin:"center center"},d),ref:R,children:n})}))}))},91898:function(e,t,n){"use strict";n.d(t,{U:function(){return H}});var r,o,i,a,c=n(5194),l=n(1780),s=n(46796),u=n(50059),d=n(57437),f=n(2265),v=n(23760),h=n(74634),g=n(85735),m=["pageX","pageY","clientY","clientX","screenX","screenY"],p=["shiftKey","ctrlKey","target","currentTarget","type","isTrusted"],x={mobile:{start:"touchstart",move:"touchmove",end:"touchend"},desktop:{start:"mousedown",move:"mousemove",end:"mouseup"}},b=new WeakMap;function _(e,t,n,r,o){var i=x[n?"mobile":"desktop"][t],a=function(e){r(j(e),e)};return b.set(r,a),e.addEventListener(i,a,o),function(){e.removeEventListener(i,a)}}function w(e,t,n,r){var o=b.get(r);n?e.removeEventListener(x.mobile[t],o):e.removeEventListener(x.desktop[t],o)}function j(e){var t={};if(e instanceof MouseEvent)(0,g._)(m).concat((0,g._)(p)).forEach(function(n){t[n]=e[n]});else{var n=e.targetTouches.item(0);p.forEach(function(n){t[n]=e[n]}),n&&m.forEach(function(e){t[e]=n[e]})}return t}var C=n(96339),k=n(11183),E=n(22322),y=n(78693),S=n(8350),I=n(19643),M=n(77335),R=n.n(M),Y=n(94746);function L(){return(L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var Z=function(e){return Y.createElement("svg",L({xmlns:"http://www.w3.org/2000/svg",width:10,height:14,fill:"none",viewBox:"0 0 10 14"},e),r||(r=Y.createElement("path",{stroke:"#344054",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.667,d:"M1.25 9.25 5 13l3.75-3.75m-7.5-4.5L5 1l3.75 3.75"})))};function T(){return(T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var X=function(e){return Y.createElement("svg",T({xmlns:"http://www.w3.org/2000/svg",width:18,height:17,fill:"none",viewBox:"0 0 18 17"},e),o||(o=Y.createElement("path",{stroke:"#344054",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.667,d:"M8.25 2.5H5.1c-1.26 0-1.89 0-2.371.244a2.25 2.25 0 0 0-.984.984C1.5 4.209 1.5 4.839 1.5 6.099v6.3c0 1.26 0 1.89.245 2.372.216.423.56.767.984.983.48.245 1.11.245 2.371.245h6.3c1.26 0 1.89 0 2.371-.245.424-.216.768-.56.984-.983.245-.482.245-1.112.245-2.372V9.25M6 11.5h1.256c.367 0 .55 0 .723-.041a1.5 1.5 0 0 0 .433-.18c.152-.093.282-.222.54-.482l7.173-7.172a1.591 1.591 0 0 0-2.25-2.25L6.703 8.546c-.26.26-.39.39-.482.54a1.5 1.5 0 0 0-.18.434C6 9.693 6 9.876 6 10.243z"})))};function O(){return(O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var F=function(e){return Y.createElement("svg",O({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),i||(i=Y.createElement("path",{stroke:"#344054",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.667,d:"M5.41 13.827a6.375 6.375 0 0 0 8.111-9.013l-.187-.325m-10.855 6.7a6.375 6.375 0 0 1 8.111-9.014M.87 11.251l2.05.55.548-2.05m9.064-3.5.55-2.05 2.048.55"})))};function D(){return(D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var P=function(e){return Y.createElement("svg",D({xmlns:"http://www.w3.org/2000/svg",width:14,height:11,fill:"none",viewBox:"0 0 14 11"},e),a||(a=Y.createElement("path",{stroke:"#344054",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.667,d:"M13 1.5 4.75 9.75 1 6"})))},W=n(43180),B=n(54632),H=(0,f.forwardRef)(function(e,t){var n=(0,v.LM)(function(e){return e.login}),r=!!(0,h.F)(),o=(0,f.useRef)(0),i=(0,f.useRef)(0),a=(0,f.useRef)(null),c=(0,f.useCallback)(function(){return r?a.current:document},[r]),l=(0,u._)((0,f.useState)(!1),2),s=l[0],g=l[1],m=(0,u._)((0,f.useState)(e.coverPosition||.5),2),p=m[0],x=m[1],b=(0,f.useRef)(p),M=(100*p).toFixed(2)+"%",Y=function(e){e>1&&(e=1),e<0&&(e=0),x(e)},L=(0,h.a8)(),T=(0,u._)((0,f.useState)([]),2),O=T[0],D=T[1],B=(0,f.useCallback)(function(t){var n,o;t.id!=e.imageId&&(null===(n=e.setImageId)||void 0===n||n.call(e,t.id),null===(o=e.setImageUrl)||void 0===o||o.call(e,t.url),Y(.5),e.updateCoverInfoFunc(e.id,{coverId:t.id,position:.5},r).then(function(t){if(0===t.data.errCode){var n;null===(n=e.onCoverInfoChanged)||void 0===n||n.call(e)}else(0,E.y)(t.data.errMsg,{variant:"error",autoHideDuration:2e3})}))},[r]),H=(0,f.useCallback)(function(){var e=Math.floor(Math.random()*O.length),t=O[e].images.length;B(O[e].images[Math.floor(Math.random()*t)])},[B,O]);(0,f.useImperativeHandle)(t,function(){return{randomChooseCover:H}},[H]),(0,f.useEffect)(function(){Y(e.coverPosition)},[e.coverPosition]);var A=(0,f.useCallback)(function(e){if(void 0!==e.clientY){var t=e.clientY-o.current;Y(b.current-t/i.current)}},[p]),V=(0,f.useRef)(A),z=(0,f.useCallback)(function(e,t){r&&t.preventDefault(),V.current(e)},[r]);(0,f.useEffect)(function(){V.current=A},[A]);var U=(0,f.useCallback)(function(){w(c(),"move",r,z),document.documentElement.style.removeProperty("overflow")},[c,r,z]),q=(0,f.useCallback)(function(e){var t=j(e.nativeEvent);r&&s&&document.documentElement.style.setProperty("overflow","hidden"),b.current=p,o.current=t.clientY||0;var n=a.current,l=n.naturalWidth,u=n.naturalHeight,d=n.clientWidth;i.current=d/l*u;var f=c();s?(_(f,"move",r,z),_(f,"end",r,U)):(w(f,"move",r,z),w(f,"end",r,U))},[r,s,p,c,z,U]);(0,f.useEffect)(function(){return function(){document.documentElement.style.removeProperty("overflow");var e=c();e&&w(e,"move",r,z)}},[r,c]);var G=(0,f.useCallback)(function(){n?g(!0):(0,C.x3)({logDesc:"topic-file-cover-edit-need-login"})},[n]),K=(0,u._)((0,f.useState)(null),2),J=K[0],Q=K[1],$=(0,u._)((0,f.useState)(!1),2),ee=$[0],et=$[1],en=(0,f.useCallback)(function(){et(!ee)},[ee]),er=(0,u._)((0,f.useState)(),2),eo=er[0],ei=er[1],ea=(0,f.useMemo)(function(){return e.imageUrl?e.imageUrl:e.imageId?e.getUrlFromImageIdFunc(e.imageId,r):"/image/cover/default.png"},[eo,e.imageId,e.id]),ec=(0,u._)((0,f.useState)(null),2),el=ec[0],es=ec[1];(0,f.useEffect)(function(){e.imageId&&el!=e.imageId&&(el&&ei(new Date().getTime()),es(e.imageId))},[e.imageId,el]),(0,f.useEffect)(function(){s||et(!1)},[s]);var eu=(0,f.useCallback)(function(t){var n=new FormData;n.append("file",t),e.uploadCoverImageFunc(e.id,n,r).then(function(t){var n,r;null===(n=e.setImageUrl)||void 0===n||n.call(e,null),Y(.5),null===(r=e.setImageId)||void 0===r||r.call(e,t.data.data)})},[]),ed=(0,f.useCallback)(function(){(0,k.cT)({multiple:!1,accept:"image/*",isDir:!1,onChange:function(e){e.currentTarget.files&&0!=e.currentTarget.files.length&&eu(e.currentTarget.files[0])}}),et(!1)},[]),ef=(0,f.useCallback)(function(){e.clearCoverImageFunc(e.id,r).then(function(t){if(0==t.data.errCode){var n;null===(n=e.deleteSucceed)||void 0===n||n.call(e)}else(0,E.y)("删除失败",{variant:"error",autoHideDuration:2e3})}),et(!1)},[]),ev=(0,f.useCallback)(function(){var t;g(!1),w(c(),"move",r,z),null===(t=e.notifyPositionChanged)||void 0===t||t.call(e,p),e.updateCoverInfoFunc(e.id,{position:p},r).then(function(t){if(0!==t.data.errCode)(0,E.y)(t.data.errMsg,{variant:"error",autoHideDuration:2e3});else{var n;null===(n=e.onCoverInfoChanged)||void 0===n||n.call(e)}})},[p]);return(0,f.useEffect)(function(){e.getExampleImagesFunc(r).then(function(e){D(e.data.data.groupImages)})},[]),(0,d.jsxs)(y.Z,{sx:{width:"100%",height:1,position:"relative"},className:R().coverContainer,children:[(0,d.jsx)(y.Z,{sx:{width:"100%",flexShrink:0,height:1},children:L&&!e.isPending&&e.show&&(0,d.jsx)("img",{ref:a,src:ea,width:"100%",style:{cursor:s?"grab":"default",width:"100%",maxHeight:"227px",height:"100%",objectFit:"cover",objectPosition:"center ".concat(M)},onMouseDown:r?void 0:q,onTouchStart:q,onDragStart:function(e){return e.preventDefault()},alt:"cover"})}),e.show&&(0,d.jsxs)(y.Z,{sx:{position:"absolute",pointerEvents:"none"},top:"20px",left:"20px",right:"20px",display:"flex",justifyContent:"space-between",alignItems:"flex-start",children:[(0,d.jsx)(y.Z,{display:"flex",flexDirection:"row",children:s&&(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(N,{sx:{pointerEvents:"none"},startIcon:(0,d.jsx)(Z,{}),children:"拖拽定位"})})}),(0,d.jsxs)(y.Z,{display:"flex",flexDirection:"row",gap:"10px",children:[e.showTool&&!s&&(0,d.jsx)(N,{className:R().coverEditButton,onClick:G,startIcon:(0,d.jsx)(X,{}),children:"编辑"}),s&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(N,{startIcon:(0,d.jsx)(F,{}),onClick:en,children:"更换"}),(0,d.jsx)(N,{ref:Q,onClick:ev,children:(0,d.jsx)(P,{})})]})]}),(0,d.jsx)(W.ZP,{anchor:J,open:ee,isAutoUpdate:!0,placement:"bottom-end",offsetOptions:{mainAxis:5},children:(0,d.jsxs)(y.Z,{direction:"column",sx:{width:"min(400px, 90vw)",bgcolor:"var(--white)"},children:[(0,d.jsxs)(y.Z,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"10px 12.5px 0 18.5px"},children:[(0,d.jsx)(y.Z,{sx:{fontWeight:800,fontSize:"14px",lineHeight:"22px",color:"var(--black)"},children:"列表"}),(0,d.jsxs)(y.Z,{sx:{display:"flex",flexDirection:"row",fontWeight:400,fontSize:"14px",lineHeight:"22px",gap:"12px"},children:[(0,d.jsx)(y.Z,{sx:{color:"#1570EF",cursor:"pointer"},onClick:ed,children:"上传"}),(0,d.jsx)(y.Z,{sx:{color:"#F04438",cursor:"pointer"},onClick:ef,children:"删除"})]})]}),(0,d.jsx)(S.Z,{sx:{marginTop:"5px"}}),(0,d.jsx)(I.Z,{sx:{padding:"0px 12.5px 0px 18.5px",overflowY:"auto",height:"250px"},children:O.map(function(e,t){return(0,d.jsxs)(y.Z,{children:[e.title&&e.title.length>0&&(0,d.jsx)(y.Z,{sx:{fontWeight:700,fontSize:"12px",lineHeight:"18px",color:"#475467",mt:"10px",mb:"10px"},children:e.title}),(0,d.jsx)(y.Z,{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(80px, 90px))",sx:{justifyContent:"space-between"},marginTop:e.title&&e.title.length>0?"0":"15px",marginBottom:e.title&&e.title.length>0?"0":"15px",children:e.images.map(function(e,t){return(0,d.jsx)(y.Z,{sx:{cursor:"pointer"},onClick:function(){return B(e)},children:(0,d.jsx)("img",{src:"".concat(e.thumbnailUrl||"https://metaso.cn/api/image/"+e.id+"/thumbnail"),style:{objectPosition:"center 50%",width:"87px",height:"43px",objectFit:"cover"}})},e.id)})})]},e.groupId)})})]})})]})]})});H.displayName="MetaCover";var N=f.forwardRef(function(e,t){e.children;var n=(0,s._)(e,["children"]);return(0,d.jsx)(B.Z,(0,l._)((0,c._)({ref:t},n),{sx:(0,c._)({pointerEvents:"all",padding:"5px 10px",bgcolor:"white",minWidth:0,"&:hover":{bgcolor:"#f2f4f7"},cursor:"pointer",alignItems:"center",color:"black",borderRadius:"2px"},n.sx),children:e.children}))});N.displayName="CoverToolButton"},19547:function(e){e.exports={"tags-container":"subject_tags-container__Co7X6","subject-panel":"subject_subject-panel__MtFds",tag:"subject_tag__Y3JPF",selectedName:"subject_selectedName__qU6Kn",close:"subject_close__HswJ4","drag-btn":"subject_drag-btn__Z_uq_","list-title":"subject_list-title__vDPdZ","subject-card":"subject_subject-card__p5hwj",expired:"subject_expired__NAOY3","new-subject":"subject_new-subject__r2Wfp","card-footer":"subject_card-footer__Yp72s","subject-grid-panel":"subject_subject-grid-panel__L4R3Y","card-header":"subject_card-header__P_JWL","card-name":"subject_card-name__AbGa0","card-meta-info":"subject_card-meta-info__IUKEN","card-description":"subject_card-description__liGAT","update-time":"subject_update-time__K_I__",coverContainer:"subject_coverContainer__Y3qnB",coverEditButton:"subject_coverEditButton__d0IGd","subject-suggestion-query":"subject_subject-suggestion-query__hCwFM","subject-dialog-content":"subject_subject-dialog-content___X1xm"}},77335:function(e){e.exports={coverContainer:"meta-cover_coverContainer__x_chq",coverEditButton:"meta-cover_coverEditButton__Hzhzj"}}}]);