"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[96839],{49356:function(e,t,r){var n,o=r(94746);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}t.Z=function(e){return o.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:21,height:20,fill:"none",viewBox:"0 0 21 20"},e),n||(n=o.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.791 10.607c.244-.209.366-.314.411-.438a.5.5 0 0 0 0-.338c-.045-.125-.167-.23-.41-.439l-8.471-7.26c-.42-.36-.63-.54-.809-.545a.5.5 0 0 0-.4.184C9 1.909 9 2.186 9 2.739v4.295a9.666 9.666 0 0 0-8 9.517v.612a11.4 11.4 0 0 1 8-4.093v4.19c0 .554 0 .83.112.969a.5.5 0 0 0 .4.184c.178-.005.388-.185.809-.545z"})))}},86656:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(2265),o=r(7870),i=r(75825),s=r(96339),c=r(23760),l=r(79943);function a(){var e=(0,c.LM)(function(e){return e.login}),t=(0,l.WS)();return(0,n.useCallback)(function(r,n){if(e){var c=(0,o.gY)(i.l.SubjectDetail,{id:r.id});n&&n.ctrlKey?window.open(c):t.push(c)}else(0,s.x3)({tipsHtml:"登录后，可<b>免费</b>使用知识库功能",showTips:!0,redirectUrl:location.href,logDesc:"subject-login"})},[e,t])}},96839:function(e,t,r){r.d(t,{Ak:function(){return ex},s9:function(){return eg},jI:function(){return ew},iI:function(){return ev},PQ:function(){return ef},ET:function(){return eh},zt:function(){return eZ},Yr:function(){return eL},iw:function(){return ej}});var n,o,i,s=r(2403),c=r(12249),l=r(5194),a=r(1780),u=r(46796),d=r(50059),C=r(45008),f=r(85735),h=r(5853),p=r(57437),x=r(19547),m=r.n(x),g=r(19643),v=r(78693),w=r(59832),j=r(93383),k=r(35108),Z=r(42187),L=r(16210),b=r(2265),M=r(47812),H=r(39207),I=r(23760),V=r(36760),y=r.n(V),_=r(74634);function S(e){return"function"==typeof e?e():e}var E=function(e){var t=e||{},r=t.threshold,n=void 0===r?.5:r,o=t.onEnd,i=t.scroller,c=t.sort,u=void 0===c?"asc":c,C=t.disableChangeState,p=void 0!==C&&C,x=t.onEntryChange,m=(0,b.useRef)({refEntry:null,sourceEntries:[],orderMap:{},direction:"down",originRefPos:0,lastRefPos:0,cursorOffset:0,startPos:0,startScrollTop:0,currentScrollTop:0}),g=(0,b.useCallback)(function(){return m.current.currentScrollTop-m.current.startScrollTop},[]),v=(0,d._)((0,b.useState)(!1),2),w=v[0],j=v[1],k=(0,d._)((0,b.useState)(null),2),Z=k[0],L=k[1],M=(0,b.useRef)(Z),H=(0,b.useMemo)(function(){return i?"current"in i?i.current:S(i):null},[i]);(0,b.useEffect)(function(){if(i){var e=function(e){e.currentTarget instanceof HTMLElement&&(m.current.currentScrollTop=e.currentTarget.scrollTop)};return null==H||H.addEventListener("scroll",e),function(){null==H||H.removeEventListener("scroll",e)}}},[H,i]);var I=(0,b.useCallback)(function(e,t,r){j(!0),m.current.startScrollTop=(null==H?void 0:H.scrollTop)||0,m.current.startPos=e;var n=S(t).rect.top;m.current.cursorOffset=n-e,m.current.originRefPos=m.current.lastRefPos=n,m.current.refEntry=t,m.current.sourceEntries=r},[H]),V=(0,b.useCallback)(function(){return[m.current.refEntry].concat((0,f._)(m.current.sourceEntries)).map(S)},[]),y=(0,b.useCallback)(function(e){return V().find(function(t){return t.order===e})},[V]),E=(0,b.useCallback)(function(e,t){var r=y(t);if(!r)throw"target 为空";return S(r).rect.top-e.rect.top},[y]),P=(0,b.useCallback)(function(e){var t=m.current.originRefPos>e.rect.top?"up":"down";m.current.direction=t,m.current.lastRefPos=e.rect.top;var r=e.order,o={},i="up"===t?{compare:"asc"==u?"min":"max"}:{compare:"asc"==u?"max":"min"},s=!0,c=!1,l=void 0;try{for(var a,C=m.current.sourceEntries[Symbol.iterator]();!(s=(a=C.next()).done);s=!0){var f=a.value,h=S(f),g=0,v=e.rect.top>=h.rect.bottom?"asc"===u?"if-higher-reduce":"if-lower-increase":e.rect.bottom<=h.rect.top?"asc"===u?"if-lower-increase":"if-higher-reduce":("up"===t?h.rect.bottom-e.rect.top:e.rect.bottom-h.rect.top)/(h.rect.bottom-h.rect.top)>=n?"auto":"as-is";if("if-higher-reduce"===v&&h.order>e.order)g=-1;else if("if-lower-increase"===v&&h.order<e.order)g=1;else if("auto"===v)g=h.order>e.order?-1:1;else{o[h.id]={order:h.order,translateY:0};continue}var w=T(h.order,g);if("number"!=typeof w)throw"无法获取order";o[h.id]={order:w,translateY:E(h,w)},r=Math[i.compare](h.order,r)}}catch(e){c=!0,l=e}finally{try{s||null==C.return||C.return()}finally{if(c)throw l}}o[e.id]={order:r,translateY:e.rect.top-m.current.originRefPos},x&&Object.entries(o).forEach(function(e){var t=(0,d._)(e,2);x(t[0],t[1])}),p?M.current=o:L(o)},[E,p,u,n]),T=(0,b.useCallback)(function(e,t){var r=e+t;if(!y(r))for(var n=V().map(function(e){return e.order}).sort(function(e,t){return e-t}),o=0;o<n.length;o++)if(r>e){var i=n[o];if(i>r)return i}else{var s=n[n.length-o];if(s<r)return s}return r},[]),N=(0,b.useCallback)((0,s._)(function(){return(0,h.Jh)(this,function(e){switch(e.label){case 0:return[4,null==o?void 0:o(p?M.current:Z)];case 1:return e.sent(),j(!1),M.current=null,L(null),[2]}})}),[Z,p,o]),B=(0,b.useCallback)(function(e){if(w){var t=S(m.current.refEntry);if(t){var r=e.clientY+m.current.cursorOffset+g();P((0,a._)((0,l._)({},t),{rect:{top:r,bottom:r+t.rect.bottom-t.rect.top}}))}}},[g,w,P]),R=(0,b.useCallback)(function(e){w&&N()},[N,w]);return(0,_.Vo)("mousemove",B),(0,_.Vo)("mouseup",R),(0,b.useMemo)(function(){return{endSort:N,isSorting:w,updateOrder:P,startSort:I,changeMap:Z}},[N,w,I,P,Z])},P=r(7870),T=r(25922),N=r(49356),B=r(94746);function R(){return(R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}var O=function(e){return B.createElement("svg",R({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),n||(n=B.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19h9M1 19h1.675c.489 0 .733 0 .964-.055a2 2 0 0 0 .578-.24c.201-.123.374-.296.72-.642L17.5 5.5a2.121 2.121 0 0 0-3-3L1.937 15.063c-.346.346-.519.519-.642.72q-.165.271-.24.579c-.055.23-.055.475-.055.964z"})))};function D(){return(D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}var F=function(e){return B.createElement("svg",D({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),o||(o=B.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 1h6M1 4h18m-2 0-.701 10.52c-.105 1.578-.158 2.367-.499 2.965a3 3 0 0 1-1.298 1.215c-.62.3-1.41.3-2.993.3H8.491c-1.582 0-2.373 0-2.993-.3A3 3 0 0 1 4.2 17.485c-.34-.598-.393-1.387-.499-2.966L3 4m5 4.5v5m4-5v5"})))};function W(){return(W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}var A=function(e){return B.createElement("svg",W({xmlns:"http://www.w3.org/2000/svg",width:22,height:20,fill:"none",viewBox:"0 0 22 20"},e),i||(i=B.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.743 3.092Q10.353 3.001 11 3c5.105 0 8.455 4.505 9.58 6.287.137.215.205.323.243.49.029.125.029.322 0 .447-.038.166-.107.274-.244.492-.3.474-.757 1.141-1.363 1.865M5.724 4.715c-2.162 1.467-3.63 3.504-4.303 4.57-.137.217-.205.325-.243.491a1.2 1.2 0 0 0 0 .447c.038.167.106.274.242.49C2.546 12.495 5.895 17 11 17c2.059 0 3.832-.732 5.289-1.723M2 1l18 18M8.88 7.879a3 3 0 1 0 4.243 4.243"})))},G=r(296),Y=r(22322),q=r(79943),U=r(14382),Q=r.n(U),z=r(89051),K=r(11741),J=r(86656),$=r(54632),X=r(91898),ee=r(76744),et=r(5942),er=r(40100),en=r(53820),eo=r(53998),ei=r(80928),es=r.n(ei),ec=r(30166),el=r(15560);function ea(){var e=(0,C._)(["\n    border-radius: 8px;\n    padding: 5px 10px 5px 14px;\n    flex-shrink: 0;\n    border-color: var(--card-border-color);\n    color: var(--meta-text-gray);\n    white-space: nowrap;\n"]);return ea=function(){return e},e}var eu=(0,ec.default)(function(){return Promise.all([r.e(47999),r.e(4637),r.e(21100),r.e(77962),r.e(37160),r.e(30470),r.e(21634),r.e(42845),r.e(58509),r.e(57930),r.e(13521),r.e(89576),r.e(93316),r.e(56873),r.e(41004),r.e(14449),r.e(75181),r.e(35322),r.e(63796),r.e(98323),r.e(21602),r.e(85180),r.e(3615),r.e(97120),r.e(15598),r.e(5854)]).then(r.bind(r,10301)).then(function(e){return{default:e.Content}})},{loadableGenerated:{webpack:function(){return[10301]}},ssr:!1}),ed=function(){return(0,p.jsx)("svg",{width:"10",height:"16",viewBox:"0 0 10 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)("path",{d:"M1.66667 0.777344C1.22464 0.777344 0.800716 0.952939 0.488155 1.2655C0.175595 1.57806 0 2.00198 0 2.44401C0 2.88604 0.175595 3.30996 0.488155 3.62252C0.800716 3.93508 1.22464 4.11068 1.66667 4.11068C2.10869 4.11068 2.53262 3.93508 2.84518 3.62252C3.15774 3.30996 3.33333 2.88604 3.33333 2.44401C3.33333 2.00198 3.15774 1.57806 2.84518 1.2655C2.53262 0.952939 2.10869 0.777344 1.66667 0.777344ZM8.33333 0.777344C7.89131 0.777344 7.46738 0.952939 7.15482 1.2655C6.84226 1.57806 6.66667 2.00198 6.66667 2.44401C6.66667 2.88604 6.84226 3.30996 7.15482 3.62252C7.46738 3.93508 7.89131 4.11068 8.33333 4.11068C8.77536 4.11068 9.19928 3.93508 9.51185 3.62252C9.82441 3.30996 10 2.88604 10 2.44401C10 2.00198 9.82441 1.57806 9.51185 1.2655C9.19928 0.952939 8.77536 0.777344 8.33333 0.777344ZM1.66667 6.3329C1.22464 6.3329 0.800716 6.50849 0.488155 6.82105C0.175595 7.13362 0 7.55754 0 7.99957C0 8.44159 0.175595 8.86552 0.488155 9.17808C0.800716 9.49064 1.22464 9.66623 1.66667 9.66623C2.10869 9.66623 2.53262 9.49064 2.84518 9.17808C3.15774 8.86552 3.33333 8.44159 3.33333 7.99957C3.33333 7.55754 3.15774 7.13362 2.84518 6.82105C2.53262 6.50849 2.10869 6.3329 1.66667 6.3329ZM8.33333 6.3329C7.89131 6.3329 7.46738 6.50849 7.15482 6.82105C6.84226 7.13362 6.66667 7.55754 6.66667 7.99957C6.66667 8.44159 6.84226 8.86552 7.15482 9.17808C7.46738 9.49064 7.89131 9.66623 8.33333 9.66623C8.77536 9.66623 9.19928 9.49064 9.51185 9.17808C9.82441 8.86552 10 8.44159 10 7.99957C10 7.55754 9.82441 7.13362 9.51185 6.82105C9.19928 6.50849 8.77536 6.3329 8.33333 6.3329ZM1.66667 11.8885C1.22464 11.8885 0.800716 12.064 0.488155 12.3766C0.175595 12.6892 0 13.1131 0 13.5551C0 13.9971 0.175595 14.4211 0.488155 14.7336C0.800716 15.0462 1.22464 15.2218 1.66667 15.2218C2.10869 15.2218 2.53262 15.0462 2.84518 14.7336C3.15774 14.4211 3.33333 13.9971 3.33333 13.5551C3.33333 13.1131 3.15774 12.6892 2.84518 12.3766C2.53262 12.064 2.10869 11.8885 1.66667 11.8885ZM8.33333 11.8885C7.89131 11.8885 7.46738 12.064 7.15482 12.3766C6.84226 12.6892 6.66667 13.1131 6.66667 13.5551C6.66667 13.9971 6.84226 14.4211 7.15482 14.7336C7.46738 15.0462 7.89131 15.2218 8.33333 15.2218C8.77536 15.2218 9.19928 15.0462 9.51185 14.7336C9.82441 14.4211 10 13.9971 10 13.5551C10 13.1131 9.82441 12.6892 9.51185 12.3766C9.19928 12.064 8.77536 11.8885 8.33333 11.8885Z",fill:"#667085"})})},eC=function(){return(0,p.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)("path",{d:"M1 11L11 1M11 1H1M11 1V11",stroke:"#667085",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})},ef=b.memo(function(e){return(0,p.jsxs)(g.Z,{direction:"row",alignItems:"center",sx:{backgroundColor:"var(--bg-white)",padding:"5px"},children:[(0,p.jsx)(g.Z,{direction:"row",className:m()["tags-container"],spacing:1,children:e.selectList.map(function(t,r){return(0,p.jsxs)(v.Z,{className:y()(m().tag,m().close),children:[(0,p.jsx)(v.Z,{className:m().selectedName,children:t.name}),(0,p.jsx)(w.Z,{onClick:function(){e.onItemDelete(r)},children:(0,p.jsx)("svg",{width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)("path",{d:"M7 1L1 7M1 1L7 7",stroke:"#98A2B3",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]},r)})}),(0,p.jsx)(j.ZP,{value:e.text,sx:{flex:1},inputProps:{sx:{ml:1,color:"var(--black) !important"}},onChange:function(t){e.onChange(t.currentTarget.value)},placeholder:e.selectList&&e.selectList.length>0?"":"选择或创建一个专题",autoFocus:!0})]})}),eh=b.memo(function(e){var t=e.list,r=(0,d._)((0,b.useState)(t),2),n=r[0],o=r[1];(0,_.gU)(function(){o(t)},[t]);var i=(0,b.useMemo)(function(){return n.sort(function(e,t){return t.sortIndex-e.sortIndex})},[n]),s=(0,b.useRef)(new Map),c=(0,b.useCallback)(function(e){var t=(0,f._)(n);e&&Object.entries(e).forEach(function(e){var r,n=(0,d._)(e,2),o=n[0],i=n[1],s=t.find(function(e){return e.id===o});s&&s.sortIndex!=i.order&&(s.sortIndex=i.order,o===(null===(r=a.current)||void 0===r?void 0:r.id)&&(0,H.qnN)(a.current.id,i.order))}),a.current=null,o(t),s.current.forEach(function(e){e.node.style.removeProperty("transform")})},[n]),l=(0,b.useRef)(null),a=(0,b.useRef)(null),u=E({onEnd:c,sort:"desc",scroller:function(){return l.current},disableChangeState:!0,onEntryChange:function(e,t){if("string"==typeof e){var r=s.current.get(e);null==r||r.node.style.setProperty("transform","translateY(".concat(t.translateY,"px)"))}}}),C=u.startSort,h=u.isSorting,x=(0,b.useRef)(!1);return(0,b.useEffect)(function(){setTimeout(function(){x.current=!h},0)},[h]),(0,p.jsx)(k.Z,{ref:l,sx:e.sx||{maxHeight:"400px",overflowY:"auto"},children:i.map(function(t,r){var n=t.id;return(0,p.jsxs)(Z.Z,{ref:function(e){if(!e){s.current.delete(n);return}s.current.set(n,{node:e,sortIndex:t.sortIndex})},onClick:function(){x.current&&e.onItemClick(t)},children:[(0,p.jsx)(w.Z,{className:m()["drag-btn"],onClick:function(e){e.stopPropagation()},onMouseDown:function(e){e.stopPropagation(),a.current={id:n,sortIndex:t.sortIndex},C(e.clientY,{rect:s.current.get(n).node.getBoundingClientRect(),order:t.sortIndex,id:n},Array.from(s.current.entries()).filter(function(e){return(0,d._)(e,1)[0]!==n}).map(function(e){var t=(0,d._)(e,2),r=t[0],n=t[1];return{rect:n.node.getBoundingClientRect(),order:n.sortIndex,id:r}}))},children:(0,p.jsx)(ed,{})}),(0,p.jsx)(v.Z,{sx:{flex:1,margin:"0 10px",overflow:"hidden"},children:(0,p.jsx)(v.Z,{className:m().tag,children:(0,p.jsx)(v.Z,{children:t.name})})}),(0,p.jsx)(eC,{})]},n)})})});function ep(e){var t=e.item;return(0,p.jsx)(v.Z,{className:y()(m()["card-icon"]),children:t?t.share?(0,p.jsxs)("svg",{width:"51",height:"50",viewBox:"0 0 51 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsx)("rect",{x:"1",y:"0.5",width:"49",height:"49",rx:"8",fill:e.fill}),(0,p.jsx)("rect",{x:"1",y:"0.5",width:"49",height:"49",rx:"8",stroke:e.stroke1}),(0,p.jsx)("path",{d:"M22.09 26.51L28.92 30.49M28.91 19.51L22.09 23.49M34.5 18C34.5 19.6569 33.1569 21 31.5 21C29.8431 21 28.5 19.6569 28.5 18C28.5 16.3431 29.8431 15 31.5 15C33.1569 15 34.5 16.3431 34.5 18ZM22.5 25C22.5 26.6569 21.1569 28 19.5 28C17.8431 28 16.5 26.6569 16.5 25C16.5 23.3431 17.8431 22 19.5 22C21.1569 22 22.5 23.3431 22.5 25ZM34.5 32C34.5 33.6569 33.1569 35 31.5 35C29.8431 35 28.5 33.6569 28.5 32C28.5 30.3431 29.8431 29 31.5 29C33.1569 29 34.5 30.3431 34.5 32Z",stroke:e.stroke2,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}):(0,p.jsxs)("svg",{width:"51",height:"50",viewBox:"0 0 51 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsx)("rect",{x:"1",y:"0.5",width:"49",height:"49",rx:"8",fill:e.fill}),(0,p.jsx)("rect",{x:"1",y:"0.5",width:"49",height:"49",rx:"8",stroke:e.stroke1}),(0,p.jsx)("path",{d:"M26.5 20L25.3845 17.7689C25.0634 17.1268 24.9029 16.8057 24.6634 16.5712C24.4516 16.3637 24.1963 16.206 23.9161 16.1093C23.5992 16 23.2402 16 22.5223 16H18.7C17.5799 16 17.0198 16 16.592 16.218C16.2157 16.4097 15.9097 16.7157 15.718 17.092C15.5 17.5198 15.5 18.0799 15.5 19.2V20M15.5 20H30.7C32.3802 20 33.2202 20 33.862 20.327C34.4265 20.6146 34.8854 21.0735 35.173 21.638C35.5 22.2798 35.5 23.1198 35.5 24.8V29.2C35.5 30.8802 35.5 31.7202 35.173 32.362C34.8854 32.9265 34.4265 33.3854 33.862 33.673C33.2202 34 32.3802 34 30.7 34H20.3C18.6198 34 17.7798 34 17.138 33.673C16.5735 33.3854 16.1146 32.9265 15.827 32.362C15.5 31.7202 15.5 30.8802 15.5 29.2V20Z",stroke:e.stroke2,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}):(0,p.jsxs)("svg",{width:"51",height:"50",viewBox:"0 0 51 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsx)("rect",{x:"1",y:"0.5",width:"49",height:"49",rx:"8",fill:e.fill}),(0,p.jsx)("rect",{x:"1",y:"0.5",width:"49",height:"49",rx:"8",stroke:e.stroke1}),(0,p.jsx)("path",{d:"M25.5 18V32M18.5 25H32.5",stroke:e.stroke2,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})}function ex(e){e.theme;var t,r=e.sx,n=(0,d._)((0,b.useState)(e.item),2),o=n[0],i=n[1];return(0,p.jsxs)(K.Z,{sx:r,className:y()(m()["subject-card"],(0,c._)({},m()["new-subject"],!e.item),(0,c._)({},m().expired,(null===(t=e.item)||void 0===t?void 0:t.share)&&!e.item.shareActive)),onClick:function(t){var r;if((null===(r=e.item)||void 0===r?void 0:r.share)&&!e.item.shareActive){(0,Y.y)("该专题链接已失效",{variant:"warning",autoHideDuration:1500});return}e.onClick(e.item,t)},children:[(0,p.jsxs)(g.Z,{className:m()["card-header"],direction:"row",spacing:2,children:[(0,p.jsx)(v.Z,{className:m()["card-icon"],children:e.item?(0,p.jsx)(ep,{item:e.item,fill:"var(--white)",stroke1:"#eee",stroke2:"var(--black2)"}):(0,p.jsx)(ep,{item:void 0,fill:"var(--white)",stroke1:"var(--blue-1)",stroke2:"var(--blue-1)"})}),o?(0,p.jsxs)(g.Z,{flex:1,overflow:"hidden",children:[(0,p.jsx)(v.Z,{className:m()["card-name"],children:o.name}),(0,p.jsxs)(g.Z,{className:m()["card-meta-info"],direction:"row",children:["文章 ",o.questionNum," • 知识 ",o.knowledgeNum]})]}):(0,p.jsx)(v.Z,{className:m()["card-name"],children:"创建专题"})]}),(0,p.jsx)(v.Z,{flex:1,children:(0,p.jsx)(v.Z,{className:m()["card-description"],children:o?o.description:"上传文件，收藏问答"})}),!e.noFooter&&e.item&&(0,p.jsxs)(g.Z,{direction:"row",className:m()["card-footer"],alignItems:"center",children:[(0,p.jsx)(v.Z,{className:m()["update-time"],children:(0,P.En)(new Date(e.item.updateTime))}),(0,p.jsxs)(g.Z,{direction:"row",sx:{ml:"auto"},spacing:1,onClick:function(e){e.stopPropagation()},children:[(!e.item.share||e.item.shareActive)&&(0,p.jsx)(em,{isH5:e.isH5,classes:{tooltip:"custom-tooltip-popper",arrow:"custom-tooltip-arrow"},placement:"top",title:"分享专题",children:(0,p.jsx)(w.Z,{onClick:function(){e.onShareClick(e.item)},sx:{color:"var(--Gary-Group1-500)"},children:e.isH5?(0,p.jsx)(et.Z,{}):(0,p.jsx)(N.Z,{})})}),!e.item.share&&(0,p.jsx)(em,{isH5:e.isH5,classes:{tooltip:"custom-tooltip-popper",arrow:"custom-tooltip-arrow"},placement:"top",title:"编辑",children:(0,p.jsx)(w.Z,{sx:{color:"var(--Gary-Group1-500)"},onClick:(0,s._)(function(){var t,r,n;return(0,h.Jh)(this,function(s){switch(s.label){case 0:return[4,e.editSubject(o)];case 1:return r=(t=s.sent()).fileName,n=t.description,i((0,a._)((0,l._)({},o),{name:r,description:n})),[2]}})}),children:(0,p.jsx)(O,{})})}),!e.item.share&&(0,p.jsx)(em,{isH5:e.isH5,classes:{tooltip:"custom-tooltip-popper",arrow:"custom-tooltip-arrow"},placement:"top",title:" 删除",children:(0,p.jsx)(w.Z,{sx:{color:"var(--content-op-color)"},onClick:function(){return e.onDeleteItem([e.item.id])},children:(0,p.jsx)(F,{})})}),e.item.share&&(0,p.jsx)(em,{isH5:e.isH5,classes:{tooltip:"custom-tooltip-popper",arrow:"custom-tooltip-arrow"},placement:"top",title:"隐藏",children:(0,p.jsx)(w.Z,{sx:{color:"var(--Gary-Group1-500)"},onClick:function(){return e.onHideItem(e.item.id)},children:(0,p.jsx)(A,{})})})]})]})]})}function em(e){e.isH5;var t=(0,u._)(e,["isH5"]);return e.isH5?e.children:(0,p.jsx)(z.Z,(0,l._)({},t))}var eg=b.memo(function(e){(0,q.WS)();var t=(0,T.F)().theme,r=(0,b.useRef)(null),n=(0,I.LM)(function(e){return e.login}),o=(0,d._)((0,b.useState)(null),2),i=o[0],s=o[1],c=(0,b.useCallback)(function(e){e.share?(0,ee.Z)(e.id):s(e)},[]);(0,b.useEffect)(function(){if(i){var e;null===(e=r.current)||void 0===e||e.setVisible(!0)}},[i]);var l=(0,J.Z)();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(g.Z,{className:m()["subject-grid-panel"],display:"grid",gridTemplateColumns:"repeat(auto-fill, 33%)",children:[(0,p.jsx)(ex,{sx:(0,P.KI)({borderColor:"var(--blue-1)"},2),isH5:!1,onShareClick:c,editSubject:function(){},onClick:function(){return e.createSubject()},theme:t}),e.data.map(function(r,o){return(0,p.jsx)(ex,{onShareClick:c,noFooter:!n,isH5:!1,editSubject:e.createSubject,onClick:function(e,t){return l(r,t)},item:r,theme:t,onDeleteItem:e.onDeleteItem,onHideItem:e.onHideItem},r.id+es().MD5(r.name).toString())})]}),i&&!i.share&&(0,p.jsx)(G.Z,{onClose:function(){s(null)},isH5:!1,ref:r,name:i.name,desc:i.description||"",id:i.id})]})}),ev=Q()(!1),ew=(0,b.memo)((0,b.forwardRef)(function(e,t){var r=(0,b.useRef)(null);return ev.useRegister("randomChooseCover",function(){return function(){var e;return null===(e=r.current)||void 0===e?void 0:e.randomChooseCover()}},[]),(0,p.jsx)(X.U,{ref:r,id:e.topicId,coverPosition:e.coverPosition,notifyPositionChanged:e.notifyPositionChanged,imageId:e.imageId,setImageId:e.setImageId,imageUrl:e.imageUrl,setImageUrl:e.setImageUrl,show:e.show,showTool:e.showTool,deleteSucceed:e.deleteSucceed,isPending:e.isPending,onCoverInfoChanged:e.onCoverInfoChanged,getUrlFromImageIdFunc:function(t){return(0,H.SkV)("".concat("https://metaso.cn","/api/topic/").concat(e.topicId,"/cover-image?imgId=").concat(t))},uploadCoverImageFunc:H.Q_A,clearCoverImageFunc:H.HlZ,updateCoverInfoFunc:H.LBm,getExampleImagesFunc:H.miJ})}));function ej(e){var t=(0,el.Q)(e.isH5),r=t.list,n=t.createNewTopic,o=(0,d._)((0,b.useState)(e.topicId),2),i=o[0],s=o[1];return(0,b.useEffect)(function(){s(e.topicId)},[e.topicId]),{subjectList:(0,b.useMemo)(function(){return r.filter(function(t){return t.topicId!==e.topicId})},[r,i]),setCurrentTopicId:s,createNewTopic:n}}function ek(e){return(0,p.jsxs)(g.Z,{onClick:function(){e.onClick(e.query)},className:m()["subject-suggestion-query"],direction:"row",alignItems:"center",spacing:1,children:[(0,p.jsx)("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)("path",{d:"M1.66699 8.33366L8.33366 1.66699M8.33366 1.66699H1.66699M8.33366 1.66699V8.33366",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,p.jsx)(v.Z,{sx:{width:"400px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},children:e.query})]})}ew.displayName="SubjectCover";var eZ=b.memo(function(e){var t=(0,b.useRef)(null);return(0,p.jsxs)(g.Z,{spacing:2,sx:{color:"#D0D5DD",backgroundColor:"var(--white-1)",marginBottom:"40px",padding:"12px",borderRadius:"12px",border:"solid 1px var(--border-color2)"},children:[(0,p.jsxs)(g.Z,{direction:"row",alignItems:"center",spacing:2,justifyContent:"space-between",children:[(0,p.jsx)(eL,{onClick:function(){var r;null===(r=t.current)||void 0===r||r.show("术语表",(0,p.jsx)("svg",{width:"18",height:"16",viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)("path",{d:"M6.2419 14.5539C6.2699 14.9419 6.6059 15.2359 6.9959 15.2139H9.5079C9.8979 15.2379 10.2339 14.9439 10.2619 14.5539V5.87192H6.2419V14.5539ZM9.5099 3.78192H6.9939C6.6039 3.75792 6.2679 4.05192 6.2399 4.44192V5.21192H10.2619V4.44192C10.2339 4.05192 9.8979 3.75792 9.5099 3.78192ZM4.0619 0.893923H1.5499C1.1599 0.869923 0.823898 1.16992 0.795898 1.56592V2.79792H4.8139V1.56592C4.7879 1.16992 4.4519 0.869923 4.0619 0.893923ZM13.2539 14.6619C13.3419 15.0419 13.7179 15.2819 14.0999 15.1979L16.5819 14.8119C16.9699 14.7759 17.2559 14.4339 17.2259 14.0439L15.5579 3.29192L11.5879 3.90792L13.2539 14.6619ZM14.4239 0.909923L11.9419 1.29592C11.5539 1.33192 11.2659 1.67392 11.2979 2.06392L11.4839 3.25992L15.4539 2.64392L15.2679 1.44792C15.1819 1.06592 14.8059 0.827923 14.4239 0.909923ZM0.797898 3.46792V14.5419C0.825898 14.9379 1.1619 15.2379 1.5519 15.2139H4.0639C4.4539 15.2379 4.7899 14.9379 4.8179 14.5419V3.46792H0.797898ZM3.2199 13.4219H1.7799C1.5799 13.4219 1.4179 13.2559 1.4179 13.0539C1.4179 12.8519 1.5819 12.6859 1.7799 12.6859H3.2199C3.4199 12.6859 3.5819 12.8519 3.5819 13.0539C3.5819 13.2559 3.4199 13.4219 3.2199 13.4219ZM1.4179 11.7599C1.4179 11.5579 1.5819 11.3919 1.7799 11.3919H2.7659C2.9659 11.3919 3.1279 11.5579 3.1279 11.7599C3.1279 11.9619 2.9639 12.1279 2.7659 12.1279H1.7799C1.5819 12.1279 1.4179 11.9619 1.4179 11.7599ZM4.0279 10.4659C4.0279 10.6679 3.8639 10.8339 3.6659 10.8339H1.7799C1.5799 10.8339 1.4179 10.6679 1.4179 10.4659C1.4179 10.2639 1.5819 10.0979 1.7799 10.0979H3.6659C3.8659 10.0959 4.0279 10.2619 4.0279 10.4659Z",fill:"black"})}),e.data.KeyTerm,e.data.references)},variant:"outlined",startIcon:(0,p.jsx)("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)("path",{d:"M5.57491 14.5539C5.60291 14.9419 5.93891 15.2359 6.32891 15.2139H8.84091C9.23091 15.2379 9.56691 14.9439 9.59491 14.5539V5.87192H5.57491V14.5539ZM8.84291 3.78192H6.32691C5.93691 3.75792 5.60091 4.05192 5.57291 4.44192V5.21192H9.59491V4.44192C9.56691 4.05192 9.23091 3.75792 8.84291 3.78192ZM3.39491 0.893923H0.882906C0.492906 0.869923 0.156906 1.16992 0.128906 1.56592V2.79792H4.14691V1.56592C4.12091 1.16992 3.78491 0.869923 3.39491 0.893923ZM12.5869 14.6619C12.6749 15.0419 13.0509 15.2819 13.4329 15.1979L15.9149 14.8119C16.3029 14.7759 16.5889 14.4339 16.5589 14.0439L14.8909 3.29192L10.9209 3.90792L12.5869 14.6619ZM13.7569 0.909923L11.2749 1.29592C10.8869 1.33192 10.5989 1.67392 10.6309 2.06392L10.8169 3.25992L14.7869 2.64392L14.6009 1.44792C14.5149 1.06592 14.1389 0.827923 13.7569 0.909923ZM0.130906 3.46792V14.5419C0.158906 14.9379 0.494906 15.2379 0.884906 15.2139H3.39691C3.78691 15.2379 4.12291 14.9379 4.15091 14.5419V3.46792H0.130906ZM2.55291 13.4219H1.11291C0.912906 13.4219 0.750906 13.2559 0.750906 13.0539C0.750906 12.8519 0.914906 12.6859 1.11291 12.6859H2.55291C2.75291 12.6859 2.91491 12.8519 2.91491 13.0539C2.91491 13.2559 2.75291 13.4219 2.55291 13.4219ZM0.750906 11.7599C0.750906 11.5579 0.914906 11.3919 1.11291 11.3919H2.09891C2.29891 11.3919 2.46091 11.5579 2.46091 11.7599C2.46091 11.9619 2.29691 12.1279 2.09891 12.1279H1.11291C0.914906 12.1279 0.750906 11.9619 0.750906 11.7599ZM3.36091 10.4659C3.36091 10.6679 3.19691 10.8339 2.99891 10.8339H1.11291C0.912906 10.8339 0.750906 10.6679 0.750906 10.4659C0.750906 10.2639 0.914906 10.0979 1.11291 10.0979H2.99891C3.19891 10.0959 3.36091 10.2619 3.36091 10.4659Z",fill:"#98A2B3"})}),children:"术语表"}),(0,p.jsx)(eL,{onClick:function(){var r;null===(r=t.current)||void 0===r||r.show("学习建议",(0,p.jsx)("svg",{width:"16",height:"18",viewBox:"0 0 16 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)("path",{d:"M15.6275 6.40098C15.6275 5.9709 15.4271 5.67793 15.0264 5.52187L1.66914 0.327344L1.47441 0.27207L1.46836 0.271094C1.41806 0.262885 1.36718 0.25877 1.31621 0.258789C1.1584 0.258789 1.01016 0.295898 0.871875 0.369922C0.751503 0.433983 0.646582 0.523572 0.564453 0.632422L0.553711 0.646484L0.373047 1.18438V16.798C0.373047 17.0586 0.465234 17.2809 0.649414 17.465C0.833594 17.6492 1.05605 17.7412 1.31641 17.7414C1.57695 17.7414 1.79922 17.6492 1.98359 17.465C2.16777 17.2809 2.25996 17.0584 2.25977 16.7979V12.2451L15.0264 7.28008C15.427 7.12441 15.6275 6.83125 15.6275 6.40098ZM12.0814 6.40078L2.25977 10.2203V2.58125L12.0814 6.40078Z",fill:"black"})}),e.data.StudyGuide,e.data.references)},variant:"outlined",startIcon:(0,p.jsx)("svg",{width:"16",height:"18",viewBox:"0 0 16 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)("path",{d:"M15.6275 6.40098C15.6275 5.9709 15.4271 5.67793 15.0264 5.52187L1.66914 0.327344L1.47441 0.27207L1.46836 0.271094C1.41806 0.262885 1.36718 0.25877 1.31621 0.258789C1.1584 0.258789 1.01016 0.295898 0.871875 0.369922C0.751503 0.433983 0.646582 0.523572 0.564453 0.632422L0.553711 0.646484L0.373047 1.18438V16.798C0.373047 17.0586 0.465234 17.2809 0.649414 17.465C0.833594 17.6492 1.05605 17.7412 1.31641 17.7414C1.57695 17.7414 1.79922 17.6492 1.98359 17.465C2.16777 17.2809 2.25996 17.0584 2.25977 16.7979V12.2451L15.0264 7.28008C15.427 7.12441 15.6275 6.83125 15.6275 6.40098ZM12.0814 6.40078L2.25977 10.2203V2.58125L12.0814 6.40078Z",fill:"#98A2B3"})}),children:"学习建议"}),(0,p.jsx)(eL,{onClick:function(){var r;null===(r=t.current)||void 0===r||r.show("内容概要",(0,p.jsxs)("svg",{width:"18",height:"16",viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsxs)("g",{"clip-path":"url(#clip0_1394_7234)",children:[(0,p.jsx)("path",{d:"M17.5865 8.29718C17.3117 7.78098 16.9347 7.32807 16.4793 6.96689C15.5318 6.20118 14.2771 5.77832 12.9493 5.77832C11.6214 5.77832 10.3668 6.20118 9.41928 6.96689C8.94666 7.34861 8.5742 7.79661 8.31201 8.29832C8.03826 8.81467 7.89482 9.39188 7.89453 9.97832C7.89453 10.5772 8.04194 11.1555 8.33339 11.6972C8.55057 12.1006 8.83976 12.4686 9.19535 12.7943L8.38965 14.4286C8.34619 14.5164 8.33032 14.6157 8.34421 14.713C8.3581 14.8103 8.40106 14.9009 8.4673 14.9726C8.55169 15.064 8.66422 15.1109 8.78012 15.1109C8.84764 15.1109 8.91516 15.0949 8.9793 15.0606L11.1319 13.8995C11.7201 14.0862 12.333 14.1803 12.9493 14.1783C14.2771 14.1783 15.5318 13.7555 16.4793 12.9897C16.9519 12.6069 17.3232 12.16 17.5865 11.6583C17.8599 11.1419 18.003 10.5647 18.003 9.97832C18.003 9.39197 17.8599 8.81475 17.5865 8.29832V8.29718ZM15.9459 12.2469C15.1514 12.8903 14.0869 13.2446 12.9493 13.2446C12.3649 13.2469 11.7843 13.1487 11.2321 12.9543C11.1767 12.9346 11.118 12.9268 11.0595 12.9313C11.001 12.9358 10.944 12.9526 10.8923 12.9806L9.80637 13.5669L10.1417 12.8869C10.2419 12.6835 10.1867 12.4297 10.0112 12.2926C9.21223 11.6743 8.77337 10.8515 8.77337 9.97832C8.77337 9.12918 9.19197 8.32461 9.95153 7.70861C10.7471 7.06518 11.8116 6.71089 12.9493 6.71089C14.0858 6.71089 15.1514 7.06518 15.9459 7.70861C16.7054 8.32461 17.1252 9.12918 17.1252 9.97832C17.1252 10.8263 16.7054 11.632 15.9459 12.2469Z",fill:"black"}),(0,p.jsx)("path",{d:"M14.9691 8.57812H10.5737C10.4548 8.58112 10.3418 8.63186 10.2595 8.71925C10.1773 8.80664 10.1325 8.92355 10.1349 9.04441C10.1325 9.16527 10.1773 9.28219 10.2595 9.36957C10.3418 9.45696 10.4548 9.5077 10.5737 9.5107H14.9691C15.0881 9.5077 15.201 9.45696 15.2833 9.36957C15.3655 9.28219 15.4103 9.16527 15.4079 9.04441C15.4103 8.92355 15.3655 8.80664 15.2833 8.71925C15.201 8.63186 15.0881 8.58112 14.9691 8.57812ZM14.9691 10.4444H10.5737C10.4548 10.4474 10.3418 10.4981 10.2595 10.5855C10.1773 10.6729 10.1325 10.7898 10.1349 10.9107C10.1322 11.0318 10.1768 11.149 10.2591 11.2366C10.3414 11.3242 10.4546 11.3751 10.5737 11.3781H14.9691C15.0883 11.3751 15.2014 11.3242 15.2837 11.2366C15.366 11.149 15.4106 11.0318 15.4079 10.9107C15.4103 10.7898 15.3655 10.6729 15.2833 10.5855C15.201 10.4981 15.0881 10.4474 14.9691 10.4444Z",fill:"black"}),(0,p.jsx)("path",{d:"M9.96656 13.3895C8.43618 13.3895 7.03522 13.7701 7.03522 13.7701C6.98538 13.7693 6.93599 13.7604 6.88893 13.7438C6.84187 13.7604 6.79248 13.7693 6.74265 13.7701C6.74265 13.7701 5.06486 13.3895 3.51761 13.3895C1.98724 13.3895 0.586268 13.7701 0.586268 13.7701C0.262189 13.7701 0 13.4295 0 13.0089V1.96776C0 2.47519 0.348835 0.444336 3.64589 0.444336C5.50034 0.444336 6.42869 1.06719 6.88893 1.53691C7.34804 1.06834 8.26739 0.445479 10.096 0.445479M6.44895 2.73119C6.44895 2.73119 5.86268 1.58834 3.51761 1.58834C1.56301 1.58834 0.87884 2.73119 0.87884 2.73119V12.2489C0.87884 12.6695 1.14215 12.6295 1.46511 12.6295C1.46511 12.6295 2.4711 12.2489 3.51761 12.2489C4.66539 12.2489 5.86268 12.6295 5.86268 12.6295C6.18676 12.6295 6.44895 12.6695 6.44895 12.2489V2.72891V2.73119ZM10.0318 6.79976L9.08659 7.67976V1.67519C7.80378 1.94148 7.32779 2.72891 7.32779 2.72891V12.2478C7.32779 12.6683 7.5911 12.6283 7.91406 12.6283C7.91406 12.6283 8.93131 12.2478 9.97781 12.2478L10.0318 6.79862V6.79976ZM4.98272 9.58262H2.34507C2.18303 9.58262 2.0525 9.41119 2.0525 9.20205V8.82148C2.0525 8.61119 2.18303 8.43976 2.34507 8.43976H4.98272C5.14476 8.43976 5.27641 8.61119 5.27641 8.82148V9.20205C5.27641 9.41234 5.14476 9.58262 4.98384 9.58262H4.98272ZM4.98272 6.15634H2.34507C2.18303 6.15634 2.0525 5.98491 2.0525 5.77462V5.39405C2.0525 5.18376 2.18303 5.01348 2.34507 5.01348H4.98272C5.14476 5.01348 5.27641 5.18491 5.27641 5.39405V5.77462C5.27641 5.98491 5.14476 6.15634 4.98384 6.15634H4.98272Z",fill:"black"})]}),(0,p.jsx)("defs",{children:(0,p.jsx)("clipPath",{id:"clip0_1394_7234",children:(0,p.jsx)("rect",{width:"18",height:"16",fill:"white"})})})]}),e.data.Summary,e.data.references)},variant:"outlined",startIcon:(0,p.jsxs)("svg",{width:"24",height:"20",viewBox:"0 0 24 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsxs)("g",{"clip-path":"url(#clip0_1228_22591)",children:[(0,p.jsx)("path",{d:"M22.567 10.3712C22.218 9.72598 21.7394 9.15984 21.1613 8.70837C19.9584 7.75123 18.3656 7.22266 16.6798 7.22266C14.9941 7.22266 13.4013 7.75123 12.1984 8.70837C11.5984 9.18551 11.1256 9.74551 10.7927 10.3727C10.4452 11.0181 10.2631 11.7396 10.2627 12.4727C10.2627 13.2212 10.4498 13.9441 10.8198 14.6212C11.0956 15.1255 11.4627 15.5855 11.9141 15.9927L10.8913 18.0355C10.8361 18.1453 10.8159 18.2694 10.8336 18.391C10.8512 18.5126 10.9058 18.6259 10.9898 18.7155C11.097 18.8298 11.2398 18.8884 11.387 18.8884C11.4727 18.8884 11.5584 18.8684 11.6398 18.8255L14.3727 17.3741C15.1194 17.6075 15.8975 17.7251 16.6798 17.7227C18.3656 17.7227 19.9584 17.1941 21.1613 16.2369C21.7613 15.7584 22.2327 15.1998 22.567 14.5727C22.9141 13.9271 23.0958 13.2056 23.0958 12.4727C23.0958 11.7397 22.9141 11.0182 22.567 10.3727V10.3712ZM20.4841 15.3084C19.4756 16.1127 18.1241 16.5555 16.6798 16.5555C15.9379 16.5583 15.2009 16.4356 14.4998 16.1927C14.4296 16.168 14.3549 16.1582 14.2807 16.1639C14.2064 16.1695 14.1341 16.1905 14.0684 16.2255L12.6898 16.9584L13.1156 16.1084C13.2427 15.8541 13.1727 15.5369 12.9498 15.3655C11.9356 14.5927 11.3784 13.5641 11.3784 12.4727C11.3784 11.4112 11.9098 10.4055 12.8741 9.63551C13.8841 8.83123 15.2356 8.38837 16.6798 8.38837C18.1227 8.38837 19.4756 8.83123 20.4841 9.63551C21.4484 10.4055 21.9813 11.4112 21.9813 12.4727C21.9813 13.5327 21.4484 14.5398 20.4841 15.3084Z",fill:"#98A2B3"}),(0,p.jsx)("path",{d:"M19.2428 10.7227H13.6628C13.5117 10.7264 13.3683 10.7898 13.2639 10.8991C13.1594 11.0083 13.1025 11.1544 13.1056 11.3055C13.1025 11.4566 13.1594 11.6027 13.2639 11.712C13.3683 11.8212 13.5117 11.8846 13.6628 11.8884H19.2428C19.3938 11.8846 19.5372 11.8212 19.6417 11.712C19.7461 11.6027 19.803 11.4566 19.7999 11.3055C19.803 11.1544 19.7461 11.0083 19.6417 10.8991C19.5372 10.7898 19.3938 10.7264 19.2428 10.7227ZM19.2428 13.0555H13.6628C13.5117 13.0593 13.3683 13.1227 13.2639 13.2319C13.1594 13.3412 13.1025 13.4873 13.1056 13.6384C13.1022 13.7897 13.1589 13.9362 13.2633 14.0457C13.3678 14.1553 13.5114 14.2189 13.6628 14.2227H19.2428C19.3941 14.2189 19.5377 14.1553 19.6422 14.0457C19.7466 13.9362 19.8034 13.7897 19.7999 13.6384C19.803 13.4873 19.7461 13.3412 19.6417 13.2319C19.5372 13.1227 19.3938 13.0593 19.2428 13.0555Z",fill:"#98A2B3"}),(0,p.jsx)("path",{d:"M12.8931 16.7371C10.9502 16.7371 9.17166 17.2128 9.17166 17.2128C9.1084 17.2119 9.04569 17.2008 8.98595 17.18C8.92621 17.2008 8.8635 17.2119 8.80023 17.2128C8.80023 17.2128 6.67023 16.7371 4.70595 16.7371C2.76309 16.7371 0.98452 17.2128 0.98452 17.2128C0.573092 17.2128 0.240234 16.7871 0.240234 16.2614V2.45995C0.240234 3.09424 0.683092 0.555664 4.86881 0.555664C7.22309 0.555664 8.40166 1.33424 8.98595 1.92138C9.56881 1.33566 10.7359 0.557093 13.0574 0.557093M8.42738 3.41424C8.42738 3.41424 7.68309 1.98566 4.70595 1.98566C2.22452 1.98566 1.35595 3.41424 1.35595 3.41424V15.3114C1.35595 15.8371 1.69023 15.7871 2.10023 15.7871C2.10023 15.7871 3.37738 15.3114 4.70595 15.3114C6.16309 15.3114 7.68309 15.7871 7.68309 15.7871C8.09452 15.7871 8.42738 15.8371 8.42738 15.3114V3.41138V3.41424ZM12.9759 8.49995L11.7759 9.59995V2.09424C10.1474 2.42709 9.54309 3.41138 9.54309 3.41138V15.3099C9.54309 15.8357 9.87738 15.7857 10.2874 15.7857C10.2874 15.7857 11.5788 15.3099 12.9074 15.3099L12.9759 8.49852V8.49995ZM6.56595 11.9785H3.21738C3.01166 11.9785 2.84595 11.7642 2.84595 11.5028V11.0271C2.84595 10.7642 3.01166 10.5499 3.21738 10.5499H6.56595C6.77166 10.5499 6.93881 10.7642 6.93881 11.0271V11.5028C6.93881 11.7657 6.77166 11.9785 6.56738 11.9785H6.56595ZM6.56595 7.69566H3.21738C3.01166 7.69566 2.84595 7.48138 2.84595 7.21852V6.74281C2.84595 6.47995 3.01166 6.26709 3.21738 6.26709H6.56595C6.77166 6.26709 6.93881 6.48138 6.93881 6.74281V7.21852C6.93881 7.48138 6.77166 7.69566 6.56738 7.69566H6.56595Z",fill:"#98A2B3"})]}),(0,p.jsx)("defs",{children:(0,p.jsx)("clipPath",{id:"clip0_1228_22591",children:(0,p.jsx)("rect",{width:"22.8516",height:"20",fill:"white",transform:"translate(0.240234)"})})})]}),children:"内容概要"})]}),e.suggestTopic&&(0,p.jsx)(ek,{query:"帮我写一篇关于".concat(e.suggestTopic,"的文献综述, 2000字左右"),onClick:e.onItemClick}),e.data.SampleQuestion&&e.data.SampleQuestion.map(function(t,r){return(0,p.jsx)(ek,{query:t,onClick:e.onItemClick},r)}),(0,p.jsx)(eb,{ref:t})]})}),eL=(0,L.ZP)($.Z)(ea()),eb=(0,b.forwardRef)(function(e,t){var r=(0,d._)((0,b.useState)(!1),2),n=r[0],o=r[1],i=(0,d._)((0,b.useState)(null),2),s=i[0],c=i[1],l=(0,d._)((0,b.useState)(""),2),a=l[0],u=l[1],C=(0,d._)((0,b.useState)(""),2),h=C[0],x=C[1],w=(0,d._)((0,b.useState)([]),2),j=w[0],k=w[1];(0,b.useImperativeHandle)(t,function(){return{show:function(e,t,r,n){u(e),c(t),x(r);var i=n?(0,f._)(n):[];n&&i.forEach(function(e){e.file_meta&&(e.file_meta.internalFile=!0,e.url=(0,H.FGH)("/api/file/".concat(e.file_meta._id,"/preview")),e.file_meta.url=(0,H.FGH)("/api/file/".concat(e.file_meta._id,"/preview")),e.file_meta.downloadUrl=(0,H.FGH)("/api/file/".concat(e.file_meta._id,"/stream-download")))}),k(i),o(!0)}}},[]);var Z=(0,b.useRef)(null),L=(0,b.useCallback)(function(e){var t=e.currentTarget;t.classList.contains("scrolling")||t.classList.add("scrolling"),clearTimeout(Z.current),Z.current=setTimeout(function(){t.classList.remove("scrolling")},300)},[]);return(0,p.jsxs)(er.k,{width:600,open:n,onClose:function(){return o(!1)},children:[(0,p.jsx)(en._$,{title:(0,p.jsxs)(g.Z,{direction:"row",alignItems:"center",spacing:1,children:[s,(0,p.jsx)(v.Z,{fontSize:"14px",fontWeight:"bold",children:a})]}),onClose:function(){return o(!1)}}),(0,p.jsx)(g.Z,{height:480,spacing:2,children:(0,p.jsx)(v.Z,{onScroll:L,sx:{flex:1,overflowY:"auto"},className:y()(m()["subject-dialog-content"]),children:(0,p.jsx)(eu,{engineType:M.rG.KNOWLEDGE,text:h,lastText:h,finished:!0,links:j||[]})})}),(0,p.jsx)(eo.kq,{})]},a)})}}]);