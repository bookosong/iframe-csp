(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[94136,21494],{26018:function(e,t,n){"use strict";var r,o=n(94746);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return o.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:7,height:12,fill:"none",viewBox:"0 0 7 12"},e),r||(r=o.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.667,d:"m1 11 5-5-5-5"})))}},41628:function(e,t,n){"use strict";var r,o=n(94746);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return o.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:21,height:20,fill:"none",viewBox:"0 0 21 20"},e),r||(r=o.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.599 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666M10.599 5a.833.833 0 1 0 0-1.667.833.833 0 0 0 0 1.667M10.599 16.667a.833.833 0 1 0 0-1.667.833.833 0 0 0 0 1.667"})))}},47079:function(e,t,n){Promise.resolve().then(n.bind(n,54590))},54590:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return D}});var r=n(2403),o=n(50059),i=n(5853),a=n(57437),s=n(78693),l=n(19643),u=n(47080),d=n(75624),c=n(46387),f=n(35108),p=n(2265),h=n(88872),v=n(80774),m=n(81366),b=n(48047),g=n(39207),x=n(22322),_=n(5194),j=n(47812),C=n(69479),y=n(54887),w=n(54632),Z=n(87381),k=n(74634),R=n(61853),E=n(25590),P=n(26018),F=n(11741),I=n(53231),M=n(7870);function D(e){var t,n,D,S,B,L=e.params.id,N=(n=(t=(0,p.useContext)(h.mp))&&t.data&&t.data.permissionType==j.nc.Edit,D=(0,p.useContext)(h.M7),S=(0,C.Z)({detailRemote:t,recordRemote:D,subjectId:L}),B=(0,p.useMemo)(function(){return t.data.permissionType===j.nc.Read},[t.data]),(0,_._)({recordRemote:D,haveEditPermission:n,isReadonly:B},S)),q=N.haveEditPermission,A=N.onDeleteQuestion,K=N.movementPopoverOpen,O=N.setMovementPopoverOpen,H=N.movingRecord,T=N.onMoveQuestion,W=(N.editNameHandlers,N.cardCheckId),U=N.handleCardMenuChecked,V=N.showContent,$=N.onEditQuestion,G=N.onAddArticleClick,J=N.recordRemote,Q=N.updateKnowledgeNum,Y=N.isReadonly,z=(0,o._)((0,p.useState)(!1),2),X=z[0],ee=z[1],et=(0,k.a8)(),en=(0,p.useContext)(h.mp);return(0,a.jsxs)(a.Fragment,{children:[et&&!Y&&(0,y.createPortal)((0,a.jsxs)(s.Z,{sx:{display:"flex",alignItems:"center",mr:2},children:[(0,a.jsx)(w.Z,{variant:"outlined",onClick:function(){G()},sx:{width:50,height:22,minWidth:0,fontWeight:"normal",borderRadius:"5px 0 0 5px"},children:"新建"}),(0,a.jsx)(w.Z,{variant:"outlined",sx:{width:20,minWidth:0,padding:0,height:22,borderRadius:"0px 5px 5px 0px",borderLeft:"0 !important"},onClick:function(){ee(!0)},children:(0,a.jsx)("svg",{width:"11",height:"6",viewBox:"0 0 11 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M1.5 1L5.5 5L9.5 1",stroke:"currentColor",strokeLinecap:"square",strokeLinejoin:"round"})})})]}),document.getElementById(Z.I)),(0,a.jsxs)(s.Z,{sx:{mt:1},children:[J.isPending?(0,a.jsxs)(l.Z,{sx:{py:2.5,mx:2,borderBottom:"1.5px solid var(--border-color2)"},spacing:1,children:[(0,a.jsx)(u.Z,{height:24,width:200}),(0,a.jsx)(u.Z,{height:21}),(0,a.jsx)(s.Z,{className:"fr-ac",sx:{height:40},children:(0,a.jsx)(u.Z,{height:21,width:160})})]}):J.data&&0===J.data.length?(0,a.jsx)(a.Fragment,{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v._,{sx:{px:2,pb:2},subjectId:L,data:J.data,onCardMenuChecked:U,checkedId:W}),(0,a.jsx)(m.h,{readonly:!q,onEdit:$,onDelete:A,onMove:T}),(0,a.jsx)(b.Z,{moveRecordId:null==H?void 0:H.id,ownSubjectId:L,onCancel:function(){O(!1)},onClose:function(){O(!1)},onConform:function(e){O(!1),H&&((0,M.v_)("subject-record",L),(0,M.v_)("subject-detail",L),(0,g.jy7)(H.id,e).then(function(e){0===e.data.errCode?(J.setData(J.data.filter(function(e){return e.id!==H.id})),H.sessionId&&J.setData(J.data.filter(function(e){return e.sessionId!==H.sessionId})),Q(),(0,x.y)("移动成功",{variant:"success",autoHideDuration:1500})):(0,x.y)(e.data.errMsg,{variant:"error",autoHideDuration:3e3})}))},open:K})]}),(0,a.jsxs)(d.ZP,{PaperProps:{sx:{borderRadius:"10px 10px 0 0"}},open:X,anchor:"bottom",onClose:function(){return ee(!1)},children:[(0,a.jsxs)(l.Z,{direction:"row",alignItems:"center",justifyContent:"center",position:"relative",height:"50px",borderBottom:"solid 1px var(--border-color2)",children:[(0,a.jsx)(c.Z,{sx:{fontSize:16,fontWeight:700,color:"var(--black)"},children:"更多"}),(0,a.jsx)(E.P,{sx:{top:"unset"},onClick:function(){return ee(!1)}})]}),(0,a.jsxs)(f.Z,{sx:{pb:4},children:[(0,a.jsxs)(F.Z,{onClick:(0,r._)(function(){return(0,i.Jh)(this,function(e){return G(),[2]})}),children:[(0,a.jsx)(s.Z,{sx:{flex:1},children:"新建文章"}),(0,a.jsx)(P.Z,{})]}),(0,a.jsxs)(F.Z,{onClick:(0,r._)(function(){var e;return(0,i.Jh)(this,function(t){switch(t.label){case 0:return ee(!1),[4,(0,I.Z)()];case 1:return e=t.sent(),(0,g.BZM)(L,e).then(function(e){0===e.data.errCode?((0,x.y)("上传成功",{variant:"success",autoHideDuration:3e3}),en.doRequest(),J.doRequest()):(0,x.y)(e.data.errMsg,{variant:"error",autoHideDuration:3e3})}),[2]}})}),children:[(0,a.jsx)(s.Z,{sx:{flex:1},children:"上传网址"}),(0,a.jsx)(P.Z,{})]})]})]})]}),(0,a.jsx)(s.Z,{sx:{my:2},children:J.populated?(0,a.jsx)(R.Q,{placeholder:J.data.length?"":"可以新建文章或将问答收藏在文章栏"}):(0,a.jsx)(a.Fragment,{})}),!V&&(0,a.jsx)(s.Z,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"var(--gray)"}})]})}},61853:function(e,t,n){"use strict";n.d(t,{Q:function(){return s}});var r=n(57437),o=n(2265),i=n(78693),a=n(46387),s=(0,o.memo)((0,o.forwardRef)(function(e,t){return(0,r.jsxs)(i.Z,{children:[e.placeholder&&(0,r.jsx)(i.Z,{className:"fr-ac fr-jc",sx:{fontSize:14,bgcolor:"var(--white-gray-3)",color:"var(--Gary-Group1-500)",height:125},children:e.placeholder}),(0,r.jsx)(a.Z,{mt:5,sx:{fontSize:10,textAlign:"center",color:"var(--meta-text-gray)",lineHeight:2.4},children:"-------------已经到底啦-------------"})]})}))},21494:function(e,t,n){"use strict";n.d(t,{I:function(){return _}});var r=n(5194),o=n(1780),i=n(46796),a=n(2265);let s={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"},l="base";function u(e,t){let n=s[t];return n?`${l}--${n}`:`${l}-${e}-${t}`}let d="Input";!function(e,t){let n={};t.forEach(t=>{n[t]=u(e,t)})}(d,["root","formControl","focused","disabled","error","multiline","input","inputMultiline","inputTypeSearch","adornedStart","adornedEnd"]);var c=n(50059),f=n(85735),p=n(35920);let h=a.createContext(void 0);var v=n(34928),m=n(71773),b=n(57437),g=a.createContext({disableDefaultClasses:!1}),x=function(e){var t,n=e.disabled,r=e.error,o=e.focused,i=e.formControlContext,s=e.multiline;return function(e,t,n){let r={};for(let n in e){let o=e[n],i="",a=!0;for(let e=0;e<o.length;e+=1){let n=o[e];n&&(i+=(!0===a?"":" ")+t(n),a=!1)}r[n]=i}return r}({root:["root",n&&"disabled",r&&"error",o&&"focused",!!i&&"formControl",s&&"multiline",!!e.startAdornment&&"adornedStart",!!e.endAdornment&&"adornedEnd"],input:["input",n&&"disabled",s&&"multiline"]},(t=a.useContext(g).disableDefaultClasses,function(e){return t?"":u(d,e)}))},_=a.forwardRef(function(e,t){var n,s,l,u=e["aria-describedby"],d=e["aria-label"],g=e["aria-labelledby"],_=e.autoComplete,j=e.autoFocus,C=e.className,y=e.defaultValue,w=e.disabled,Z=e.endAdornment,k=e.error,R=e.id,E=e.multiline,P=void 0!==E&&E,F=e.name,I=e.onClick,M=e.onChange,D=e.onKeyDown,S=e.onKeyUp,B=e.onFocus,L=e.onBlur,N=e.placeholder,q=e.readOnly,A=e.required,K=e.startAdornment,O=e.value,H=e.type,T=e.rows,W=e.slotProps,U=void 0===W?{}:W,V=e.slots,$=void 0===V?{}:V,G=e.minRows,J=e.maxRows,Q=(0,i._)(e,["aria-describedby","aria-label","aria-labelledby","autoComplete","autoFocus","className","defaultValue","disabled","endAdornment","error","id","multiline","name","onClick","onChange","onKeyDown","onKeyUp","onFocus","onBlur","placeholder","readOnly","required","startAdornment","value","type","rows","slotProps","slots","minRows","maxRows"]),Y=function(){var e,t,n,i,s,l,u,d,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=m.defaultValue,g=m.disabled,x=m.error,_=m.onBlur,j=m.onChange,C=m.onFocus,y=m.required,w=m.value,Z=m.inputRef,k=a.useContext(h);k?(e=void 0,t=null!==(l=k.disabled)&&void 0!==l&&l,n=null!==(u=k.error)&&void 0!==u&&u,i=null!==(d=k.required)&&void 0!==d&&d,s=k.value):(e=b,t=void 0!==g&&g,n=void 0!==x&&x,i=void 0!==y&&y,s=w);var R=a.useRef(null!=s).current,E=a.useCallback(function(e){},[]),P=a.useRef(null),F=(0,p.Z)(P,Z,E),I=(0,c._)(a.useState(!1),2),M=I[0],D=I[1];return a.useEffect(function(){!k&&t&&M&&(D(!1),null==_||_())},[k,t,M,_]),{disabled:t,error:n,focused:M,formControlContext:k,getInputProps:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=(0,r._)({},{onBlur:_,onChange:j,onFocus:C},(0,v.Z)(a)),u=(0,o._)((0,r._)({},l),{onBlur:function(e){var t;null===(t=l.onBlur)||void 0===t||t.call(l,e),k&&k.onBlur?k.onBlur():D(!1)},onChange:function(e){for(var t,n,r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];if(!R&&null==(e.target||P.current))throw Error(function(e){let t=new URL("https://mui.com/production-error/?code=17");return[].forEach(e=>t.searchParams.append("args[]",e)),`Minified MUI error #17; visit ${t} for the full message.`}(0));null==k||null===(t=k.onChange)||void 0===t||t.call(k,e),null===(n=l.onChange)||void 0===n||n.call.apply(n,[l,e].concat((0,f._)(o)))},onFocus:function(e){var t,n;if(null==k?void 0:k.disabled){e.stopPropagation();return}null===(t=l.onFocus)||void 0===t||t.call(l,e),k&&k.onFocus?null==k||null===(n=k.onFocus)||void 0===n||n.call(k):D(!0)}});return(0,r._)((0,o._)((0,r._)((0,o._)((0,r._)({},u),{"aria-invalid":n||void 0,defaultValue:e,value:s,required:i,disabled:t}),a),{ref:F}),u)},getRootProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,v.Z)(m,["onBlur","onChange","onFocus"]),n=(0,r._)({},t,(0,v.Z)(e));return(0,o._)((0,r._)({},e,n),{onClick:function(e){var t;P.current&&e.currentTarget===e.target&&P.current.focus(),null===(t=n.onClick)||void 0===t||t.call(n,e)}})},inputRef:F,required:i,value:s}}({disabled:w,defaultValue:y,error:k,onBlur:L,onClick:I,onChange:M,onFocus:B,required:A,value:O}),z=Y.getRootProps,X=Y.getInputProps,ee=Y.focused,et=Y.formControlContext,en=Y.error,er=Y.disabled,eo=P?void 0:null!=H?H:"text",ei=(0,o._)((0,r._)({},e),{disabled:er,error:en,focused:ee,formControlContext:et,multiline:P,type:eo}),ea=x(ei),es={"aria-describedby":u,"aria-label":d,"aria-labelledby":g,autoComplete:_,autoFocus:j,id:R,onKeyDown:D,onKeyUp:S,name:F,placeholder:N,readOnly:q,type:eo},el=null!==(n=$.root)&&void 0!==n?n:"div",eu=(0,m.Z)({elementType:el,getSlotProps:z,externalSlotProps:U.root,externalForwardedProps:Q,additionalProps:{ref:t},ownerState:ei,className:[ea.root,C]}),ed=P?null!==(s=$.textarea)&&void 0!==s?s:"textarea":null!==(l=$.input)&&void 0!==l?l:"input",ec=(0,m.Z)({elementType:ed,getSlotProps:function(e){return X((0,r._)({},es,e))},externalSlotProps:U.input,additionalProps:(0,r._)({rows:P?T:void 0},P&&"string"!=typeof ed&&{minRows:T||G,maxRows:T||J}),ownerState:ei,className:ea.input});return(0,b.jsxs)(el,(0,o._)((0,r._)({},eu),{children:[K,(0,b.jsx)(ed,(0,r._)({},ec)),Z]}))})},48904:function(e,t,n){"use strict";function r(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce(function(e,n){return e[n]=t[n],r&&void 0===t[n]&&(e[n]=r[n]),e},{})}n.d(t,{Z:function(){return r}})},35108:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(1119),o=n(74610),i=n(2265),a=n(2262),s=n(15273),l=n(3974).Z,u=n(60118),d=n(84217),c=n(57437),f=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function p(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function h(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function v(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function m(e,t,n,r,o,i){for(var a=!1,s=o(e,t,!!t&&n);s;){if(s===e.firstChild){if(a)return!1;a=!0}var l=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&v(s,i)&&!l)return s.focus(),!0;s=o(e,s,n)}return!1}var b=i.forwardRef(function(e,t){var n=e.actions,b=e.autoFocus,g=void 0!==b&&b,x=e.autoFocusItem,_=void 0!==x&&x,j=e.children,C=e.className,y=e.disabledItemsFocusable,w=void 0!==y&&y,Z=e.disableListWrap,k=void 0!==Z&&Z,R=e.onKeyDown,E=e.variant,P=void 0===E?"selectedMenu":E,F=(0,o.Z)(e,f),I=i.useRef(null),M=i.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,d.Z)(function(){g&&I.current.focus()},[g]),i.useImperativeHandle(n,function(){return{adjustStyleForScrollbar:function(e,t){var n=t.direction,r=!I.current.style.width;if(e.clientHeight<I.current.clientHeight&&r){var o="".concat(l((0,a.Z)(e)),"px");I.current.style["rtl"===n?"paddingLeft":"paddingRight"]=o,I.current.style.width="calc(100% + ".concat(o,")")}return I.current}}},[]);var D=(0,u.Z)(I,t),S=-1;i.Children.forEach(j,function(e,t){if(!i.isValidElement(e)){S===t&&(S+=1)>=j.length&&(S=-1);return}e.props.disabled||("selectedMenu"===P&&e.props.selected?S=t:-1!==S||(S=t)),S===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(S+=1)>=j.length&&(S=-1)});var B=i.Children.map(j,function(e,t){if(t===S){var n={};return _&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===P&&(n.tabIndex=0),i.cloneElement(e,n)}return e});return(0,c.jsx)(s.Z,(0,r.Z)({role:"menu",ref:D,className:C,onKeyDown:function(e){var t=I.current,n=e.key,r=(0,a.Z)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),m(t,r,k,w,p);else if("ArrowUp"===n)e.preventDefault(),m(t,r,k,w,h);else if("Home"===n)e.preventDefault(),m(t,null,k,w,p);else if("End"===n)e.preventDefault(),m(t,null,k,w,h);else if(1===n.length){var o=M.current,i=n.toLowerCase(),s=performance.now();o.keys.length>0&&(s-o.lastTime>500?(o.keys=[],o.repeating=!0,o.previousKeyMatched=!0):o.repeating&&i!==o.keys[0]&&(o.repeating=!1)),o.lastTime=s,o.keys.push(i);var l=r&&!o.repeating&&v(r,o);o.previousKeyMatched&&(l||m(t,r,!1,w,p,o))?e.preventDefault():o.previousKeyMatched=!1}R&&R(e)},tabIndex:g?0:-1},F,{children:B}))})},84217:function(e,t,n){"use strict";var r=n(3450);t.Z=r.Z},19547:function(e){e.exports={"tags-container":"subject_tags-container__Co7X6","subject-panel":"subject_subject-panel__MtFds",tag:"subject_tag__Y3JPF",selectedName:"subject_selectedName__qU6Kn",close:"subject_close__HswJ4","drag-btn":"subject_drag-btn__Z_uq_","list-title":"subject_list-title__vDPdZ","subject-card":"subject_subject-card__p5hwj",expired:"subject_expired__NAOY3","new-subject":"subject_new-subject__r2Wfp","card-footer":"subject_card-footer__Yp72s","subject-grid-panel":"subject_subject-grid-panel__L4R3Y","card-header":"subject_card-header__P_JWL","card-name":"subject_card-name__AbGa0","card-meta-info":"subject_card-meta-info__IUKEN","card-description":"subject_card-description__liGAT","update-time":"subject_update-time__K_I__",coverContainer:"subject_coverContainer__Y3qnB",coverEditButton:"subject_coverEditButton__d0IGd","subject-suggestion-query":"subject_subject-suggestion-query__hCwFM","subject-dialog-content":"subject_subject-dialog-content___X1xm"}}},function(e){e.O(0,[97703,78187,21100,67254,78693,78130,46387,53410,57587,80871,34138,94746,77919,64293,94786,32525,90077,39155,59832,72972,15438,52657,43646,32464,8350,11741,66183,15273,71773,77467,4274,53820,83724,26948,96339,88872,84277,58179,43757,23362,1744],function(){return e(e.s=47079)}),_N_E=e.O()}]);