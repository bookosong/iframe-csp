(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[95585,76492],{46670:function(e,t,n){"use strict";var r,i=n(94746);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:24,height:25,fill:"none",viewBox:"0 0 24 25"},e),r||(r=i.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m17 17.5 5-5-5-5m-10 0-5 5 5 5m7-14-4 18"})))}},29823:function(e,t,n){"use strict";var r,i=n(94746);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),r||(r=i.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7.5 3h7.1c2.24 0 3.36 0 4.216.436a4 4 0 0 1 1.748 1.748C21 6.04 21 7.16 21 9.4v7.1M6.2 21h8.1c1.12 0 1.68 0 2.108-.218a2 2 0 0 0 .874-.874c.218-.428.218-.988.218-2.108V9.7c0-1.12 0-1.68-.218-2.108a2 2 0 0 0-.874-.874C15.98 6.5 15.42 6.5 14.3 6.5H6.2c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C3 8.02 3 8.58 3 9.7v8.1c0 1.12 0 1.68.218 2.108a2 2 0 0 0 .874.874C4.52 21 5.08 21 6.2 21"})))}},64400:function(e,t,n){"use strict";var r,i,o=n(94746);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return o.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",viewBox:"0 0 24 24"},e),r||(r=o.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),i||(i=o.createElement("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"})))}},28072:function(e,t,n){"use strict";var r,i,o=n(94746);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return o.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:21,height:20,fill:"none",viewBox:"0 0 21 20"},e),r||(r=o.createElement("path",{stroke:"url(#paint0_linear_1762_8859)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.667,d:"m10.5 17.5-.083-.125c-.58-.868-.869-1.302-1.251-1.617a3.3 3.3 0 0 0-1.148-.614C7.544 15 7.023 15 5.979 15H4.833c-.933 0-1.4 0-1.756-.182a1.67 1.67 0 0 1-.729-.728c-.181-.357-.181-.823-.181-1.757V5.167c0-.934 0-1.4.181-1.757.16-.314.415-.569.729-.728C3.433 2.5 3.9 2.5 4.833 2.5h.334c1.867 0 2.8 0 3.513.363.627.32 1.137.83 1.457 1.457.363.713.363 1.646.363 3.513m0 9.667V7.833m0 9.667.083-.125c.58-.868.869-1.302 1.251-1.617a3.3 3.3 0 0 1 1.148-.614c.474-.144.995-.144 2.039-.144h1.146c.933 0 1.4 0 1.756-.182.314-.16.569-.414.729-.728.181-.357.181-.823.181-1.757V5.167c0-.934 0-1.4-.181-1.757a1.67 1.67 0 0 0-.729-.728C17.567 2.5 17.1 2.5 16.167 2.5h-.334c-1.867 0-2.8 0-3.513.363-.627.32-1.137.83-1.457 1.457-.363.713-.363 1.646-.363 3.513"})),i||(i=o.createElement("defs",null,o.createElement("linearGradient",{id:"paint0_linear_1762_8859",x1:2.166,x2:17.084,y1:17.5,y2:.925,gradientUnits:"userSpaceOnUse"},o.createElement("stop",{stopColor:"#0017E4"}),o.createElement("stop",{offset:1,stopColor:"#3793FF"})))))}},91169:function(e,t,n){Promise.resolve().then(n.bind(n,19291))},19291:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return eL}});var r,i,o,a=n(2403),s=n(5194),c=n(1780),l=n(50059),u=n(5853),d=n(57437),h=n(78693),f=n(47080),p=n(19643),m=n(46387),g=n(54632),v=n(47812),x=n(2265),_=n(7870),b=n(39207),w=n(54493),y=n(22322),S=n(80774),j=n(27648),C=n(81366),I=n(48047),k=n(23760),N=n(96339),P=n(75825),E=n(88872),T=n(99376),Z=n(19208),R=n(81546),H=n(28072),M=n(9969),L=n(79943),O=n(32165),A=n(59832),D=n(17162),F=n(65612),B=n(44903),W=n(6049),z=(0,x.memo)((0,x.forwardRef)(function(e,t){var n=(0,l._)((0,x.useState)(e.title),2),r=n[0],i=n[1],o=(0,l._)((0,x.useState)(!1),2),a=o[0],s=o[1],c=(0,l._)((0,x.useState)(e.author),2),u=c[0],f=c[1],p=(0,l._)((0,x.useState)(!1),2),m=p[0],g=p[1],v=(0,l._)((0,x.useState)(e.description),2),_=v[0],b=v[1],w=(0,l._)((0,x.useState)(!1),2),y=w[0],S=w[1],j=(0,x.useRef)(null),C=(0,l._)((0,W.Z)(e.subjectId),2),I=C[0],k=C[1],N=(0,x.useCallback)(function(){document.activeElement instanceof HTMLElement&&j.current.contains(document.activeElement)&&document.activeElement.blur()},[]),P=(0,x.useRef)(!1);return(0,d.jsxs)(h.Z,{ref:j,children:[(0,d.jsxs)(h.Z,{sx:{display:"flex",width:1,minWidth:0},children:[(0,d.jsx)(h.Z,{sx:{minWidth:0,lineHeight:0},component:"form",onSubmit:function(t){t.preventDefault(),e.onTitleChange(r),P.current=!0,N()},children:(0,d.jsx)(O.o,{value:a?r:e.title,onFocus:function(t){i(e.title),s(!0)},readOnly:e.readOnly,sx:{fontSize:30,minWidth:"2em",height:40,lineHeight:"40px",fontWeight:"bold"},onBlur:function(t){if(P.current){P.current=!1;return}r!==e.title&&e.onTitleChange(r),s(!1)},rootProps:{sx:{maxWidth:"100%",minWidth:0}},onChange:function(e){a&&i(e.target.value)},ref:t})}),(0,d.jsx)(h.Z,{component:"form",sx:{alignSelf:"self-end",ml:1,maxWidth:"40%"},onSubmit:function(t){t.preventDefault(),e.onAuthorChange(u),P.current=!0,N()},children:(0,d.jsxs)(h.Z,{component:"label",sx:{display:"flex",whiteSpace:"nowrap",width:1,color:"#667085",lineHeight:"28px",fontWeight:"bold"},children:["by",(0,d.jsx)(O.o,{value:m?u:e.author,onFocus:function(t){f(e.author),g(!0)},readOnly:e.readOnly,placeholder:"未知用户",rootProps:{sx:{minWidth:0,ml:.5,alignSelf:"self-end"}},sx:{fontSize:16,color:"#667085",minWidth:"2em",lineHeight:"28px",fontWeight:"bold"},onBlur:function(t){if(P.current){P.current=!1;return}g(!1),u!==e.author&&e.onAuthorChange(u)},onChange:function(e){m&&f(e.target.value)}})]})}),(0,d.jsx)(A.Z,{sx:{ml:"auto",height:40,width:40},type:"button",onClick:function(){k(function(e){return!e})},children:(0,d.jsx)(B.Z,{style:{color:"#667085",transition:".2s",transform:"rotate(".concat(I?"90deg":"-90deg",")")}})})]}),(0,d.jsx)(D.Z,{in:I,children:(0,d.jsx)(h.Z,{sx:{mt:1},children:(0,d.jsx)(F.F,{value:y?_:e.description,onChange:function(e){y&&b(e.currentTarget.value)},placeholder:"请输入描述",readOnly:e.readOnly,maxLength:200,onFocus:function(){b(e.description),S(!0)},onBlur:function(){if(S(!1),P.current){P.current=!1;return}r!==e.description&&e.onDescriptionChange(_)},onCompositionStart:function(e){e.currentTarget.dataset.composing="1"},onCompositionEnd:function(e){e.currentTarget.dataset.composing="0"},sx:{color:"#667085",fontSize:14,lineHeight:"22px",maxHeight:66,bgcolor:"transparent"},onKeyDown:function(t){"Enter"!==t.key||t.shiftKey||"1"===t.currentTarget.dataset.composing||(t.preventDefault(),S(!1),e.onDescriptionChange(_),P.current=!0,N())}})})}),(0,d.jsx)("button",{hidden:!0,type:"submit"})]})})),U=n(80840),q=n(8305),V=n(84303),K=n(13477),G=n(45008),J=n(36331),Y=n(43180),Q=n(16210),X=n(36956),$=n(94746);function ee(){return(ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var et=function(e){return $.createElement("svg",ee({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),r||(r=$.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M18 10.5a.5.5 0 0 0 0-1H7.333a.5.5 0 0 0 0 1zm0-5.571a.5.5 0 0 0 0-1H7.333a.5.5 0 0 0 0 1zm0 11.142a.5.5 0 1 0 0-1H7.333a.5.5 0 0 0 0 1zM2.889 11.43c.787 0 1.389-.66 1.389-1.429 0-.768-.602-1.429-1.39-1.429S1.5 9.231 1.5 10c0 .768.601 1.429 1.389 1.429m0-5.572c.787 0 1.389-.66 1.389-1.428C4.278 3.66 3.676 3 2.888 3S1.5 3.66 1.5 4.429c0 .768.601 1.428 1.389 1.428m0 11.143c.787 0 1.389-.66 1.389-1.429 0-.768-.602-1.428-1.39-1.428S1.5 14.803 1.5 15.57C1.5 16.34 2.101 17 2.889 17"})))};function en(){return(en=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var er=function(e){return $.createElement("svg",en({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),i||(i=$.createElement("path",{fill:"currentColor",d:"M7 1H3.4A2.4 2.4 0 0 0 1 3.4V7a2.4 2.4 0 0 0 2.4 2.4H7A2.4 2.4 0 0 0 9.4 7V3.4A2.4 2.4 0 0 0 7 1m1.2 6A1.2 1.2 0 0 1 7 8.2H3.4A1.2 1.2 0 0 1 2.2 7V3.4a1.2 1.2 0 0 1 1.2-1.2H7a1.2 1.2 0 0 1 1.2 1.2zm8.4-6H13a2.4 2.4 0 0 0-2.4 2.4V7A2.4 2.4 0 0 0 13 9.4h3.6A2.4 2.4 0 0 0 19 7V3.4A2.4 2.4 0 0 0 16.6 1m1.2 6a1.2 1.2 0 0 1-1.2 1.2H13A1.2 1.2 0 0 1 11.8 7V3.4A1.2 1.2 0 0 1 13 2.2h3.6a1.2 1.2 0 0 1 1.2 1.2zM7 10.6H3.4A2.4 2.4 0 0 0 1 13v3.6A2.4 2.4 0 0 0 3.4 19H7a2.4 2.4 0 0 0 2.4-2.4V13A2.4 2.4 0 0 0 7 10.6m1.2 6A1.2 1.2 0 0 1 7 17.8H3.4a1.2 1.2 0 0 1-1.2-1.2V13a1.2 1.2 0 0 1 1.2-1.2H7A1.2 1.2 0 0 1 8.2 13zm8.4-6H13a2.4 2.4 0 0 0-2.4 2.4v3.6A2.4 2.4 0 0 0 13 19h3.6a2.4 2.4 0 0 0 2.4-2.4V13a2.4 2.4 0 0 0-2.4-2.4m1.2 6a1.2 1.2 0 0 1-1.2 1.2H13a1.2 1.2 0 0 1-1.2-1.2V13a1.2 1.2 0 0 1 1.2-1.2h3.6a1.2 1.2 0 0 1 1.2 1.2z"})))};function ei(){var e=(0,G._)(["\n    min-width: 0;\n    width: 28px;\n    height: 28px;\n    color: #DBDCDF;\n    border: none;\n    \n    &.checkbutton--checked{\n        color: var(--black4);\n        background-color: var(--border-color);\n        border: none;\n    }\n    padding: 0;\n"]);return ei=function(){return e},e}var eo=(0,x.memo)((0,x.forwardRef)(function(e,t){(0,V._)({},(0,K._)(e));var n=(0,l._)((0,x.useState)(!1),2),r=n[0],i=n[1],o=(0,l._)((0,X.L)("subjectQALayout"),2),a=o[0],s=o[1];v.Z8.Grid;var c=(0,x.useRef)(null);return(0,l._)((0,Y.bQ)({anchor:function(){return c.current}},r,function(){return i(!1)}),1)[0],(0,d.jsxs)(h.Z,{className:"fr-ac",children:[(0,d.jsx)(ea,{checked:a===v.Z8.List,onClick:function(){s(v.Z8.List)},children:(0,d.jsx)(et,{style:{width:20}})}),(0,d.jsx)(ea,{checked:a===v.Z8.Grid,onClick:function(){s(v.Z8.Grid)},sx:{ml:1},children:(0,d.jsx)(er,{})})]})})),ea=(0,Q.ZP)(J.Z)(ei()),es=n(74634),ec=n(46796),el=n(32333),eu=n(85735),ed=n(12249),eh=n(31557),ef=n.n(eh),ep=n(36760),em=n.n(ep);function eg(e,t){var n=.55*t;if(!e)return 0;var r=0;return e.split("").forEach(function(e){var i=e.charCodeAt(0);i>64&&i<123?r+=n:r+=t}),r}function ev(e,t,n){if("number"==typeof e)return e;var r,i,o=0;switch("string"==typeof e?i=e:(i=e.keyword,o=e.offset),i){case"top":r=n/2;break;case"bottom":r=t-n/2;break;case"center":r=t/2}return r+o}var ex=(0,x.memo)((0,x.forwardRef)(function(e,t){var n=e.width,r=e.height,i=e.text,o=e.fontSize,a=void 0===o?13:o,l=e.paddingX,u=void 0===l?10:l,h=e.x,f=void 0===h?0:h,p=e.y,m=void 0===p?0:p,g=e.highlight,v=(e.startBadgeContent,e.className),_=(0,ec._)(e,["width","height","text","fontSize","paddingX","x","y","highlight","startBadgeContent","className"]);f=Number(f),m=Number(m),n=Number(n),r=Number(r);var b=(0,x.useRef)(null),w=(0,x.useMemo)(function(){return eg(i,a)},[a,i]),y=f+u,S=m+2,j=r-4,C=e.startBadgeContent?66:0,I=(0,x.useMemo)(function(){var e=n-2*u-C;return e<w?i.slice(0,i.length-Math.ceil((w-e)/a))+"...":i},[w,i,C]);(0,x.useImperativeHandle)(t,function(){return{getRoot:function(){return b.current}}},[]);var k=y+C,N=m+2*r/3;return(0,d.jsx)("g",{ref:b,className:ef()["animation-wrap"],children:(0,d.jsxs)("g",(0,c._)((0,s._)({},_),{className:em()(ef()["text-box"],v,(0,ed._)({},ef().highlight,g)),children:[(0,d.jsx)("rect",{x:f,y:m,width:n,height:r,className:ef()["text-box--rect"]}),e.startBadgeContent&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("rect",{className:ef()["text-box-badge--rect"],rx:j/2,ry:j/2,width:56,height:j,x:y,y:S}),(0,d.jsx)("text",{className:ef()["text-box-badge--text"],textAnchor:"middle",x:y+28,y:S+j/2+4,fontSize:12,children:e.startBadgeContent.toUpperCase()})]}),(0,d.jsx)("text",{style:{fontSize:a,pointerEvents:"none"},x:k,y:N,className:ef()["text-box--text"],children:I})]}))})})),e_=(0,x.memo)((0,x.forwardRef)(function(e,t){var n=e.domainBoundTop,r=e.domainBoundBottom,i=e.radius,o=e.source,a=e.target;e.side;var s=o[0]-a[0];o[1],a[1];var c=(0,x.useRef)(null);(0,x.useImperativeHandle)(t,function(){return{getRoot:function(){return c.current}}});var l=(r-n)/2,u=l>=a[1],h=r-n,f=u?o[1]-n:r-o[1],p=.6*s+a[0]+.2*s*(f/h),m=(0,x.useMemo)(function(){return n+l-i+.7*i+(o[1]-n)/h*.6*i},[u,a,i,f,h]);return(0,d.jsx)("g",{ref:c,className:ef()["animation-wrap"],children:(0,d.jsx)("g",{className:em()(ef()["relative-line"],(0,ed._)({},ef().highlight,e.highlight)),children:(0,d.jsx)("path",{d:["M",o[0],",",o[1],"S",p,",",m,a[0],",",a[1]].join(" ")})})})})),eb=(0,x.memo)((0,x.forwardRef)(function(e,t){var n=e.className,r=e.r,i=e.cx,o=e.cy,a=e.text,l=e.highlight,u=e.textSide,h=void 0===u?"right":u,f=e.circleClassName,p=(0,ec._)(e,["className","r","cx","cy","text","highlight","textSide","circleClassName"]);i=Number(i),o=Number(o),r=Number(r);var m=(0,x.useMemo)(function(){return a?eg(a,13):0},[a]),g="right"===h?r+i+5:i-r-5,v=(0,x.useRef)(null);(0,x.useImperativeHandle)(t,function(){return{getRoot:function(){return v.current}}});var _=o+r;return(0,d.jsx)("g",{ref:v,className:ef()["animation-wrap"],children:(0,d.jsxs)("g",(0,c._)((0,s._)({className:em()(ef()["dot-entry"],(0,ed._)({},ef().highlight,l),n)},p),{children:[(0,d.jsx)("circle",{cx:i,cy:o,r:r,className:em()(ef()["dot-circle"],f)}),(0,d.jsx)("rect",{fill:"transparent",stroke:"none",x:g+("left"===h?-5-m:-5),y:_-10-r,height:20,width:m+10}),a&&(0,d.jsx)("text",{className:em()(ef()["dot-text"]),x:g,y:_,textAnchor:"left"===h?"end":"start",children:a})]}))})})),ew=n(56873);function ey(e){var t,n,r,i,o,a,s,c,u,h,f,p,m=e.domainRectHeight,g=e.gap,v=e.minAngleSpan,_=e.radius,b=e.maxAngleSpan,w=e.padding,y=e.data,S=e.domainFontSize,j=e.domainRectWidth,C=e.viewBoxWidth,I=e.onShowField,k=e.verticalPosition,N=void 0===k?"center":k,P=e.viewBoxHeight;(0,ec._)(e,["domainRectHeight","gap","minAngleSpan","radius","maxAngleSpan","padding","data","domainFontSize","domainRectWidth","viewBoxWidth","onShowField","verticalPosition","viewBoxHeight"]);var E=(0,x.useCallback)(function(e){return Math.min(b,Math.max(e,v))},[b,v]),T=(0,x.useMemo)(function(){var e=new Set([]),t=!0,n=!1,r=void 0;try{for(var i,o=y[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value,s=!0,c=!1,l=void 0;try{for(var u,d=a[1][Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var h=u.value;e.add(h)}}catch(e){c=!0,l=e}finally{try{s||null==d.return||d.return()}finally{if(c)throw l}}}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return{data:y,allChildren:Array.from(e.values())}},[y]),Z=(C-j)/2,R=m*T.data.length,H=(0,x.useMemo)(function(){return ev(N,P,R)},[R,N,P]),M=H-R/2,L=P/2-w,O=null!=_?_:Math.min(C/2-w,L),A=(0,x.useMemo)(function(){return 90-Math.acos((j/2+g)/O)/Math.PI*180},[j,g,O]),D=(0,x.useMemo)(function(){var e=T.allChildren.length,t=(0,eu._)(T.allChildren).sort(function(e,t){return e.charCodeAt(0)-t.charCodeAt(0)}),n=Math.floor(e/2),r=180-A,i=E(r/(n+1)),o=i*(n+1),a=E(r/(e-n+1)),s=a*(n+1);return t.map(function(e,t){var c=t<n,l=t+1,u=c?270-A/2-(r-o)/2-i*l:90-A/2-(r-s)/2-a*(l-n),d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],r=Math.PI/180*t;return[Math.cos(r)*e+n[0],Math.sin(r)*e+n[1]]}(O,u);if(d[0]+=C/2,d[1]+=H,!d)throw"无交点";return{angle:u,side:c?"left":"right",value:e,position:d}})},[m,j,T.allChildren,e.viewBoxWidth]),F=(0,x.useMemo)(function(){return T.data.map(function(e,t){var n=(0,l._)(e,2),r=n[0],i=n[1],o=M+m*t;return[{domain:r,position:[Z,o]},i.map(function(e){var t=D.find(function(t){return t.value===e});return{detail:t,linePos:[[Z+("left"===t.side?0:j),o+m/2],t.position]}})]})},[D,T.data]),B=(0,l._)((0,x.useState)(null),2),W=B[0],z=B[1],U=(0,l._)((0,x.useState)(null),2),q=U[0],V=U[1],K=(0,x.useRef)(new Map),G=(0,x.useRef)(new Map),J=(0,x.useRef)(new Map);return n=(t={stackCenterY:H,childDetailList:D,domainRectHeight:m,domainRectWidth:j,couples:F,viewBoxHeight:P,viewBoxWidth:C,getRect:function(e){return K.current.get(e).getRoot()},getDot:function(e){return G.current.get(e).getRoot()},getLine:function(e,t){return J.current.get(e).get(t).getRoot()}}).couples,r=t.domainRectHeight,t.domainRectWidth,i=t.viewBoxHeight,o=t.viewBoxWidth,a=t.getRect,s=t.getLine,c=t.getDot,u=t.childDetailList,h=i/2,f=o/2,p=(i-r*n.length)/2,(0,x.useLayoutEffect)(function(){var e=[],t=[],i=[];u.forEach(function(e){var t=c(e.value),n="left"===e.side?"right":"left";e.angle>180&&e.angle<270||e.angle<0&&e.angle,i.push([t,"".concat(n," center"),f-e.position[0],h-e.position[1]])}),n.forEach(function(n,i){var o=(0,l._)(n,2),c=o[0],u=o[1],d=a(c.domain),f=h-(p+i*r);e.push([d,f]),u.forEach(function(e){var n=s(c.domain,e.detail.value),r=e.linePos[0][1]>e.linePos[1][1]?"bottom":"top",i="left"===e.detail.side?"right":"left";t.push([n,"".concat(r," ").concat(i),f])})});var o="spring(.5, 100, 12, 35)";(0,ew.default)({targets:e.map(function(e){return e[0]}),translateY:function(t,n){return[e[n][1],0]},delay:0,duration:1500,easing:o}),(0,ew.default)({targets:t.map(function(e){return e[0]}),scale:[0,1],delay:10,duration:500,translateY:function(e,n){return[t[n][2],0]},begin:function(){t.forEach(function(e){e[0].style.setProperty("transform-origin",e[1])})},easing:o}),(0,ew.default)({delay:10,duration:500,begin:function(){i.forEach(function(e){e[0].setAttribute("transform-origin",e[1])})},targets:i.map(function(e){return e[0]}),translateX:function(e,t){return[i[t][2],0]},translateY:function(e,t){return[i[t][3],0]},easing:o,rotate:[90,0]})},[]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("g",{onMouseOut:function(){(0,x.startTransition)(function(){z(null),V(null)})},children:F.map(function(e,t){var n=e[0],r=n.domain,i=e[1],o=!!i.find(function(e){return e.detail.value===q})||(null==W?void 0:W[0].domain)===r;return(0,d.jsxs)("g",{children:[(0,d.jsx)(ex,{onClick:function(){I(n.domain,!0)},fontSize:S,highlight:o,ref:function(e){e?K.current.set(r,e):K.current.delete(r)},x:n.position[0],y:n.position[1],width:j,height:m,text:r,onMouseOver:function(){(0,x.startTransition)(function(){z(e)})}}),i.map(function(e){var t=r===(null==W?void 0:W[0].domain),n=q===e.detail.value,i=e.detail.side;return(0,d.jsx)(e_,{domainBoundBottom:H+R/2,domainBoundTop:H-R/2,radius:O,ref:function(t){var n=J.current.get(r);n||(n=new Map);var i=e.detail.value;t?(J.current.set(r,n),n.set(i,t)):n.delete(i)},side:i,highlight:t||n,source:e.linePos[0],target:e.linePos[1]},e.detail.value)})]},r)})}),D.map(function(e){var t=e.angle,n=e.side,r=e.value,i=e.position,o=!!(null==W?void 0:W[1].find(function(e){return e.detail.value===r})),a=r===q;return(0,d.jsx)(eb,{onClick:function(){I(r,!1)},style:{transformOrigin:"".concat("left"===n?"calc(100% - 5px)":"5px"),transform:"rotate(".concat("left"===n?t-180:t,"deg)")},text:r,cx:i[0],cy:i[1],r:5,ref:function(e){e?G.current.set(r,e):G.current.delete(r)},textSide:n,onMouseOver:function(){(0,x.startTransition)(function(){V(r)})},onMouseOut:function(){(0,x.startTransition)(function(){V(null)})},highlight:o||a},r)})]})}var eS=(0,x.memo)((0,x.forwardRef)(function(e,t){var n,r,i,o,a=e.rectHeight,s=e.rectWidth,c=e.domain,u=e.viewBoxHeight,h=e.viewBoxWidth,f=e.list,p=e.onItemClick,m=e.verticalPosition,g=void 0===m?"center":m,v=e.fontSize,_=void 0===v?13:v,b=a*f.length,w=h-s,y=1*w/6+2*w/6,S=c?y+1*w/6:w/2,j=(0,x.useMemo)(function(){return ev(g,u,b)},[g,u]),C=j-b/2,I=(0,x.useMemo)(function(){return f.map(function(e,t){return{field:e,position:[S,C+t*a]}})},[h/2,j,f]),k=(0,l._)((0,x.useState)(null),2),N=k[0],P=k[1],E=(0,x.useRef)(new Map);return r=(n={stackCenterY:j,viewBoxHeight:u,viewBoxWidth:h,detail:I,getFieldNode:function(e){return E.current.get(e).getRoot()}}).getFieldNode,i=n.detail,n.viewBoxHeight,n.viewBoxWidth,o=n.stackCenterY,(0,x.useLayoutEffect)(function(){var e=i.map(function(e){return{node:r(e.field.id),translateY:o-e.position[1]}});(0,ew.default)({targets:e.map(function(e){return e.node}),easing:"spring(.5, 100, 12, 35)",translateY:function(t,n){return[e[n].translateY,0]}})},[]),(0,d.jsxs)("g",{onMouseLeave:function(){P(null)},children:[!!c&&(0,d.jsx)("text",{x:y,y:u/2+16,textAnchor:"end",style:{fontSize:32,fill:"var(--black)"},children:c}),I.map(function(e){return(0,d.jsx)(ex,{text:e.field.value,startBadgeContent:c?e.field.fileType:"",onMouseOver:function(){(0,x.startTransition)(function(){P(e)})},ref:function(t){t?E.current.set(e.field.id,t):E.current.delete(e.field.id)},onClick:function(){p(e.field)},highlight:(null==N?void 0:N.field)===e.field,fontSize:_,width:s,height:a,x:e.position[0],y:e.position[1]},e.field.id)})]})}));function ej(){return(ej=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var eC=function(e){return $.createElement("svg",ej({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),o||(o=$.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 3h-.2c-1.68 0-2.52 0-3.162.327a3 3 0 0 0-1.311 1.311C3 5.28 3 6.12 3 7.8V8m5 13h-.2c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311C3 18.72 3 17.88 3 16.2V16m18-8v-.2c0-1.68 0-2.52-.327-3.162a3 3 0 0 0-1.311-1.311C18.72 3 17.88 3 16.2 3H16m5 13v.2c0 1.68 0 2.52-.327 3.162a3 3 0 0 1-1.311 1.311C18.72 21 17.88 21 16.2 21H16"})))},eI=n(31876),ek=n(29707),eN=(0,x.memo)((0,x.forwardRef)(function(e,t){var n=e.domainHeight,r=e.gap,i=e.minAngleSpan,o=e.maxAngleSpan,a=e.padding,u=e.domainFontSize,f=e.domainWidth,p=e.viewBoxWidth,m=e.viewBoxHeight,g=e.fieldHeight,v=void 0===g?n:g,b=e.fieldWidth,w=void 0===b?f:b,y=e.data,S=e.listData,j=e.svgStyle,C=e.svgClassName,I=e.surfaceVerticalPosition,k=e.listVerticalPosition,N=(e.onListItemClick,e.radius),P=(0,ec._)(e,["domainHeight","gap","minAngleSpan","maxAngleSpan","padding","domainFontSize","domainWidth","viewBoxWidth","viewBoxHeight","fieldHeight","fieldWidth","data","listData","svgStyle","svgClassName","surfaceVerticalPosition","listVerticalPosition","onListItemClick","radius"]),E=(0,es.a8)(),T=(0,l._)((0,x.useState)(!1),2),Z=T[0],R=T[1],H=(0,x.useCallback)(function(e,t){O({value:e,isDomain:t}),z(!0)},[]),M=(0,l._)((0,x.useState)(null),2),L=M[0],O=M[1],D=(0,x.useMemo)(function(){var e;return(null===(e=S.find(function(e){return e[0]===(null==L?void 0:L.value)}))||void 0===e?void 0:e[1])||[]},[L,S]),F=(0,l._)((0,x.useState)(!1),2),W=F[0],z=F[1],U=(0,x.useRef)(null),q=(0,l._)((0,x.useState)(!1),2),V=q[0],K=q[1];(0,x.useEffect)(function(){(0,x.startTransition)(function(){return K(!0)})},[]);var G=(0,x.useCallback)(function(t){var n;null===(n=e.onListItemClick)||void 0===n||n.call(e,t,L.isDomain)},[e.onListItemClick,L]),J=(0,l._)((0,x.useState)({width:0,height:0}),2),Y=J[0],Q=J[1],X=y.length*n,$=Z?Y.width:p,ee=Z?Math.max(X+200,Y.height):m,et=(0,d.jsxs)("svg",{className:C,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat($," ").concat(ee),ref:U,fill:"none",onClick:function(e){e.target===e.currentTarget&&W&&z(!1)},style:(0,s._)({backgroundColor:"var(--white-1)",opacity:E?1:0,width:Z?$:"auto",overflow:Z?"visible":"hidden",border:Z?"none !important":"1px solid var(--border-color)",borderRadius:8},j),children:[!W&&(0,d.jsx)(ey,{domainRectWidth:f,domainRectHeight:n,viewBoxWidth:$,viewBoxHeight:ee,domainFontSize:u,maxAngleSpan:void 0===o?30:o,minAngleSpan:void 0===i?6:i,padding:void 0===a?80:a,data:y,radius:N,onShowField:H,verticalPosition:I,gap:void 0===r?30:r}),W&&L&&V&&(0,d.jsx)(eS,{rectHeight:Z?1.3*v:v,rectWidth:Z?1.2*w:w,onItemClick:G,data:S,domain:Z?L.value:void 0,fontSize:u,viewBoxWidth:$,viewBoxHeight:ee,verticalPosition:k,list:D}),(0,d.jsx)("defs",{children:(0,d.jsxs)("filter",{id:"cm-text-background-filter-id",width:"100%",height:"80%",x:"0%",y:"16%",children:[(0,d.jsx)("feFlood",{x:"0%",y:"0%",width:"100%",height:"100%","flood-color":"var(--meta-primary-blue)",result:"bg"}),(0,d.jsxs)("feMerge",{children:[(0,d.jsx)("feMergeNode",{in:"bg"}),(0,d.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})})]});return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(h.Z,(0,c._)((0,s._)({},P),{sx:(0,_.Vc)({position:"relative"},P.sx),children:[et,(0,d.jsx)(A.Z,{sx:{position:"absolute",right:8,bottom:8},onClick:function(){R(!0),Q({width:window.innerWidth,height:window.innerHeight})},children:(0,d.jsx)(eC,{style:{color:"#98A2B3"}})})]})),V&&(0,d.jsx)(el.Z,{open:Z,onClose:function(){return R(!1)},children:(0,d.jsxs)(h.Z,{className:"fr-ac fc-jc",sx:{width:"100%",backgroundColor:"var(--white-1)",height:"100%"},children:[W&&(0,d.jsx)(A.Z,{sx:{width:50,height:50,position:"absolute",zIndex:1,left:20,top:20},onClick:function(){z(!1)},children:(0,d.jsx)(B.Z,{style:{width:34,height:34,color:"var(--black)"}})}),(0,d.jsx)(A.Z,{sx:{width:50,height:50,position:"absolute",zIndex:1,right:20,top:20},onClick:function(){R(!1)},children:(0,d.jsx)(eI.Z,{style:{width:24,height:24}})}),(0,d.jsx)(ek.E,{sx:{width:1,height:1},children:et})]})})]})})),eP=n(25001),eE=n(15598),eT=n(36706),eZ=n(96839),eR=(0,x.memo)((0,x.forwardRef)(function(e,t){var n,r,i,o,s=(0,eP.W)({request:(0,a._)(function(){return(0,u.Jh)(this,function(t){switch(t.label){case 0:return[4,(0,b.MbX)(e.dirRootId)];case 1:return[2,t.sent().data.data]}})}),defaultData:null}),c=(0,L.WS)();(0,x.useEffect)(function(){if(s.data&&s.data.progress>=100);else{var e,t=setTimeout(function(){e=s.doRequest()},3e3);return function(){clearTimeout(t),null==e||e.abort()}}},[s.data]);var f=(0,x.useMemo)(function(){var e;return(null===(e=s.data)||void 0===e?void 0:e.data)?function(e,t){var n=[],r=new Map,i=new Set,o=!0,a=!1,s=void 0;try{for(var c,u=e[Symbol.iterator]();!(o=(c=u.next()).done);o=!0)!function(){var e=(0,l._)(c.value,2),t=e[0],i=e[1],o=r.get(t)||new Set,a=(null===(h=n.find(function(e){return e.name===t}))||void 0===h?void 0:h.authors)||[],s=!0,u=!1,d=void 0;try{for(var h,f,p=i[Symbol.iterator]();!(s=(f=p.next()).done);s=!0){var m=f.value;o.add({value:m.title,id:m.file_uuid,fileType:m.file_type,authors:m.authors})}}catch(e){u=!0,d=e}finally{try{s||null==p.return||p.return()}finally{if(u)throw d}}r.set(t,o),n.push({name:t,authors:a})}()}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}var d=!0,h=!1,f=void 0;try{for(var p,m=t[Symbol.iterator]();!(d=(p=m.next()).done);d=!0)!function(){var e=(0,l._)(p.value,2),t=e[0],i=e[1],o=r.get(t)||new Set,a=!0,s=!1,c=void 0;try{for(var u,d=i[Symbol.iterator]();!(a=(u=d.next()).done);a=!0)!function(){var e,r=u.value;o.add({value:r.title,id:r.file_uuid,authors:[t],fileType:r.file_type});var i=null===(e=n.find(function(e){return e.name===r.topic_name}))||void 0===e?void 0:e.authors;i&&!i.includes(t)&&i.push(t)}()}catch(e){s=!0,c=e}finally{try{a||null==d.return||d.return()}finally{if(s)throw c}}r.set(t,o)}()}catch(e){h=!0,f=e}finally{try{d||null==m.return||m.return()}finally{if(h)throw f}}return{data:n.map(function(e){return[e.name,e.authors]}),listData:Array.from(r.entries()).map(function(e){var t=(0,l._)(e,2);return[t[0],Array.from(t[1].values())]}),files:Array.from(i.values())}}(s.data.data.topic,s.data.data.author):null},[null===(n=s.data)||void 0===n?void 0:n.data]);if(!f)return(0,d.jsx)(d.Fragment,{});var p=null==f?void 0:f.data,m=null==f?void 0:f.listData,g=Math.max(Math.min(1200,20*(null==p?void 0:p.length)||0),600),v=null===(r=s.data)||void 0===r?void 0:r.suggestTopic;return(0,d.jsxs)(d.Fragment,{children:[e.showConceptMap&&(0,d.jsx)(eN,{domainWidth:150,domainHeight:20,fieldWidth:360,viewBoxWidth:600,viewBoxHeight:g,domainFontSize:12,svgStyle:{},data:p,listData:m,surfaceVerticalPosition:eH,listVerticalPosition:eH,onListItemClick:function(t,n){(0,b.oFt)(t.id).then(function(n){if("pro"===n.data.data.contentType)(0,eT.vC)(c,n.data.data.id,!1,!1,!0);else{var r={file_meta:{url:"/api/file/".concat(n.data.data.id,"/preview"),type:"pdf",file_path:"",_id:n.data.data.id,source:"",author:t.authors.join("、"),internalFile:!0,downloadUrl:"/api/file/".concat(n.data.data.id,"/stream-download"),size:String(n.data.data.size)},url:(0,b.SkV)("/api/file/".concat(n.data.data.id,"/preview")),title:t.value,page:1,tag:e.tagName,publishDate:n.data.data.createTime,author:t.authors.join("、"),onlyPreview:!0,noComplain:!0};(0,eE.YQ)({pdfParams:r,router:c,isH5:!0,pdfContainerAPI:null,openInNewTab:!0})}})},maxAngleSpan:180,gap:50}),(null===(o=s.data)||void 0===o?void 0:null===(i=o.data)||void 0===i?void 0:i.KeyTerm)&&(0,d.jsx)(h.Z,{sx:{mt:4},children:(0,d.jsx)(eZ.zt,{suggestTopic:v,data:s.data.data,onItemClick:function(t){var n;null===(n=e.onSuggestClick)||void 0===n||n.call(e,t)}})})]})})),eH={keyword:"center",offset:0},eM=n(67200);function eL(e){var t,n=e.params.id,r=(0,q.X)({subjectId:n}),i=r.detailRemote,o=(r.filesRemote,r.haveEditPermission),l=r.login,j=r.userInfo,k=(r.hideLogo,r.recordRemote),N=r.onDeleteQuestion,P=r.movementPopoverOpen,E=r.setMovementPopoverOpen,T=r.movingRecord,R=r.onMoveQuestion,H=r.titleInputRef,M=r.editNameHandlers,L=r.cardCheckId,O=r.handleCardMenuChecked,A=r.showContent,D=r.setShowContent,F=r.coverShow,B=r.coverButtonClicked,W=r.onAddArticleClick,V=r.knowledgeNum,K=r.updateKnowledgeNum,G=r.onEditQuestion;(0,x.useEffect)(function(){k.isPending||k.doRequest()},[]);var J=(0,x.useRef)(null),Y=(0,x.useCallback)(function(e){J.current.setText(e),J.current.focus(),J.current.scrollIntoView()},[i.data.name]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(h.Z,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",px:2,"@media screen and (max-width: 922px)":{justifyContent:"flex-start"}},children:[(0,d.jsxs)(h.Z,{sx:{flex:"0 1 47.7%",minWidth:300},children:[(0,d.jsxs)(h.Z,{className:"detail-page-header-group",style:{marginTop:F?"0":"-5px"},children:[(0,d.jsx)(h.Z,{sx:{opacity:0,transition:".3s opacity",".detail-page-header-group:hover &":{opacity:1},height:"30px",marginTop:"5px"},children:!F&&o?(0,d.jsx)(g.Z,{sx:{height:1,p:0,marginLeft:"4px",fontSize:"14px",fontWeight:"normal",color:"var(--black)",display:"flex"},startIcon:(0,d.jsx)(Z.Z,{}),onClick:B,children:"添加封面"}):(0,d.jsx)(d.Fragment,{})}),i.isPending?(0,d.jsx)(h.Z,{className:"fr-ac",sx:{height:40},children:(0,d.jsx)(f.Z,{sx:{height:1},width:120})}):(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(h.Z,{children:(0,d.jsx)(z,{title:i.data.name,ref:H,readOnly:i.data.permissionType===v.nc.Read,subjectId:e.params.id,onTitleChange:M.handleNameChange,author:i.data.byUser||"",onAuthorChange:(t=(0,a._)(function(t){var n,r;return(0,u.Jh)(this,function(o){switch(o.label){case 0:n=i.data.byUser||"",o.label=1;case 1:return o.trys.push([1,3,,4]),t.length>50&&(t=t.substring(0,50)),i.setData((0,c._)((0,s._)({},i.data),{byUser:t})),[4,(0,b.jjL)(e.params.id,t).then(w.Jj)];case 2:return o.sent(),(0,y.y)("修改成功",{variant:"success"}),[3,4];case 3:return r=o.sent(),(0,y.y)("修改失败：".concat((0,w.d3)(r)),{variant:"error"}),i.setData((0,c._)((0,s._)({},i.data),{byUser:n})),[3,4];case 4:return[2]}})}),function(e){return t.apply(this,arguments)}),description:i.data.description,onDescriptionChange:function(t){var n=i.data;t.length>200&&(t=t.substring(0,200));var r=n.description;r!==t&&(i.setData(function(e){return(0,c._)((0,s._)({},e),{description:t})}),(0,b.qCN)(e.params.id,n.name,t).then(function(e){0===e.data.errCode?(0,y.y)("修改描述成功",{variant:"success",autoHideDuration:3e3}):(i.setData(function(e){return(0,c._)((0,s._)({},e),{description:r})}),(0,y.y)(e.data.errMsg,{variant:"error",autoHideDuration:2e3}))}))}})})})]}),(0,d.jsx)(h.Z,{sx:{mt:4},children:(0,d.jsx)(U.P,{ref:J,subjectId:e.params.id,subjectName:i.data.name,subjectList:[],isPending:!1,isOwner:l&&i.data.ownerId==j.uid,onSubmit:function(){D(!1)}})}),(0,d.jsxs)(p.Z,{direction:"row",alignContent:"center",justifyContent:"space-between",marginTop:4,marginBottom:4,children:[(0,d.jsxs)(h.Z,{style:{display:"flex",height:40,alignItems:"center"},children:[(0,d.jsx)(m.Z,{sx:{fontSize:"24px",fontWeight:700},className:"fr-ac",children:(0,d.jsx)("span",{children:"文章"})}),l&&i.data.permissionType==v.nc.Edit&&(0,d.jsx)("div",{onClick:W,className:"pure-button",style:{color:"var(--meta-primary-blue)",left:10,fontSize:14,padding:"0 10px",cursor:"pointer",fontWeight:"normal",position:"relative",top:3},children:"新建"})]}),(0,d.jsx)(eo,{})]}),(0,d.jsx)(h.Z,{sx:{mt:1.5},children:k.isPending&&!k.populated?(0,d.jsxs)(p.Z,{sx:{py:2.5,borderBottom:"1.5px solid var(--border-color2)"},spacing:1,children:[(0,d.jsx)(f.Z,{height:24,width:200}),(0,d.jsx)(f.Z,{height:21}),(0,d.jsx)(h.Z,{className:"fr-ac",sx:{height:40},children:(0,d.jsx)(f.Z,{height:21,width:160})})]}):k.data&&0===k.data.length?(0,d.jsx)(m.Z,{sx:{width:1,p:2.5,pl:0,fontSize:"16px",fontWeight:400,color:"#667085",paddingTop:0},children:"您可以将问答或文章收录于该专题下"}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(h.Z,{sx:{pb:2},className:"subject-articles-wrapper",children:(0,d.jsx)(S._,{subjectId:n,data:k.data,onCardMenuChecked:O,checkedId:L})}),(0,d.jsx)(C.h,{readonly:!o,onEdit:G,onDelete:N,onMove:R}),(0,d.jsx)(I.Z,{moveRecordId:null==T?void 0:T.id,ownSubjectId:n,onCancel:function(){E(!1)},onClose:function(){E(!1)},onConform:function(e){E(!1),T&&((0,_.v_)("subject-record",n),(0,_.v_)("subject-detail",n),(0,b.jy7)(T.id,e).then(function(e){0===e.data.errCode?(k.setData(k.data.filter(function(e){return e.id!==T.id})),T.sessionId&&k.setData(k.data.filter(function(e){return e.sessionId!==T.sessionId})),K(),(0,y.y)("移动成功",{variant:"success",autoHideDuration:1500})):(0,y.y)(e.data.errMsg,{variant:"error",autoHideDuration:3e3})}))},open:P})]})})]}),(0,d.jsx)(eO,{id:n,knowledgeNum:V,updateKnowledgeNum:K,onPromptClick:Y})]}),!A&&(0,d.jsx)(h.Z,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"var(--gray)",height:"100%"}})]})}function eO(e){var t=e.id,n=e.knowledgeNum,r=e.updateKnowledgeNum,i=(0,T.useSearchParams)(),o=(0,L.WS)(),a=(0,x.useContext)(E.mp),s=(0,x.useContext)(E.YZ),c=(0,k.LM)(function(e){return e.login}),u=(0,x.useRef)(null),p=(0,x.useContext)(E.DI),m=a.data.permissionType===v.nc.Read,g=(0,E.Fl)({detailRemote:a,filesRemote:s,uploadQueueContext:p}),b=(g.refreshComp,g.currentFolderFiber),w=(g.setCurrentFolderFiber,g.dirRoutes,g.handleUploadFiles),S=g.removeTempUploadFile,C=(g.uploadData,g.uploadPanelFiles);(0,x.useEffect)(function(){a.data&&a.data.hideLogo?document.title="".concat(a.data.name,"——秘塔AI搜索"):document.title="秘塔AI搜索"},[a.data]);var I=(0,x.useCallback)(function(e,n){if(!c){(0,_.v_)("subject-record",t),(0,_.v_)("subject-detail",t),(0,N.x3)({showTips:!0,tipsHtml:"请登录后再上传文件",logDesc:"upload-at-subject-not-login",redirectUrl:location.href}),u.current.uploadFail("未登录");return}if(m){var r;(0,y.y)("您暂无权限上传，如需上传，请联系分享人赋予专题编辑权限",{variant:"error"}),null===(r=u.current)||void 0===r||r.uploadFail("您暂无权限上传，如需上传，请联系分享人赋予专题编辑权限");return}n&&(0,y.y)("请进入知识库，查看上传进度",{variant:"success"}),w(e,!0).catch(function(e){var t;null===(t=u.current)||void 0===t||t.uploadFail(e)})},[b,c,t]),Z=(0,x.useCallback)(function(e){S(e),r()},[]),O=(0,x.useMemo)(function(){var e=(0,_.gY)(P.l.SubjectKnowledgeManage,{id:t}),n=i.get(v.Vp.COMMON);return null!=n&&(e+="?".concat(v.Vp.COMMON,"=")+n),e},[t,i]),A=(0,es.a8)(),D=(0,l._)((0,x.useState)(!1),2),F=D[0],B=D[1];return(0,x.useEffect)(function(){A&&setTimeout(function(){(0,x.startTransition)(function(){B(!0)})},1e3)},[A]),(0,d.jsxs)(h.Z,{sx:{mt:"30px",ml:"5vw",width:"472px"},children:[(0,d.jsxs)(h.Z,{sx:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",height:"40px"},children:[(0,d.jsxs)(h.Z,{onClick:function(){(a.data.owner||!a.data.closeFilePermission)&&o.push(O)},sx:{display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",userSelect:"none"},children:[(0,d.jsx)(H.Z,{}),a.isPending?(0,d.jsx)(f.Z,{sx:{ml:1},height:40,width:"5em"}):(0,d.jsx)(h.Z,{sx:{ml:1,lineHeight:1,fontSize:"14px",fontWeight:"bold"},children:n>0?"知识库":"上传知识库"}),(n>0||a.isPending)&&(0,d.jsx)(R.A,{pending:a.isPending,count:n})]}),!a.isPending&&(a.data.owner||!a.data.closeFilePermission)&&(0,d.jsx)(j.default,{href:O,style:{fontSize:"12px",userSelect:"none",color:"#1570EF"},children:"查看"})]}),!a.isPending&&(a.data.owner||!a.data.closeFilePermission)&&(0,d.jsx)(h.Z,{sx:{mt:4},children:(0,d.jsx)(M.U,{id:t,ref:u,onUpload:I,currentFolderFiber:b,uploadFiles:C,uploadFinish:Z})}),(0,d.jsx)(h.Z,{sx:{mt:4},children:F&&a.populated&&(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(eM.ErrorBoundary,{children:n>=5&&(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(eR,{dirRootId:a.data.dirRootId,onSuggestClick:e.onPromptClick,tagName:a.data.name,showConceptMap:a.data.owner||!a.data.closeFilePermission})})})})})]})}},8305:function(e,t,n){"use strict";n.d(t,{X:function(){return g}});var r=n(5194),i=n(50059),o=n(2265),a=n(88872),s=n(47812),c=n(23760),l=n(99376),u=n(41963),d=n(31219),h=n(79943),f=n(96839),p=n(83083),m=n(69479);function g(e){var t=e.subjectId,n=(0,o.useContext)(a.mp),g=(0,o.useContext)(a.YZ),v=n&&n.data&&n.data.permissionType==s.nc.Edit,x=(0,c.LM)(function(e){return e.login});(0,l.useSearchParams)();var _=(0,c.LM)(function(e){return e.userInfo}),b=(0,i._)((0,o.useState)(!0),2),w=b[0],y=b[1],S=(0,u.A8)().removeUrlCmd,j=(0,u.Qv)(function(e,t){e.find(function(e){return e.type===d.a.EnableCollect})&&S(d.a.EnableCollect)},{deps:[S]});(0,o.useEffect)(function(){j()},[]),(0,o.useEffect)(function(){void 0!==n.data.hideLogo&&y(n.data.hideLogo)},[n.data]);var C=(0,o.useContext)(a.M7),I=(0,o.useRef)(null);(0,o.useEffect)(function(){n.data.dirRootId&&g.doRequest()},[]),(0,h.WS)();var k=f.iI.useBoundaryPayload(),N=f.iI.useAPI("randomChooseCover"),P=(0,p.Z)(k,n,function(){var e;return null===(e=N.current)||void 0===e?void 0:e.call(N)}).coverButtonClicked,E=(0,m.Z)({detailRemote:n,recordRemote:C,subjectId:t});return(0,r._)({detailRemote:n,filesRemote:g,haveEditPermission:v,login:x,userInfo:_,hideLogo:w,recordRemote:C,titleInputRef:I,coverShow:k,coverButtonClicked:P},E)}},80840:function(e,t,n){"use strict";n.d(t,{P:function(){return er}});var r,i,o,a=n(50059),s=n(57437),c=n(2265),l=n(47812),u=n(23760),d=n(99376),h=n(77630),f=n(54632),p=n(46670),m=n(48359),g=n.n(m),v=n(78693),x=n(2403),_=n(5194),b=n(1780),w=n(46796),y=n(5853),S=n(59832),j=n(46387),C=n(73904),I=n(28450),k=n(19643),N=n(32333),P=n(4416);(r=i||(i={})).cURL="dsconfig",r.Python="python",r.Java="java";var E=n(12249),T=(o={},(0,E._)(o,i.cURL,function(e,t){var n=JSON.stringify(t).replace(/",/g,'",\n').replace(/,"/g,',\n"').replace(/^\{/,"{\n").replace(/}$/,"\n}");return"curl --location --request POST '".concat("https://metaso.cn","/api/open/search/v2' \\\n--header 'Content-Type: application/json' \\\n--header 'Connection: keep-alive' \\\n--header 'Authorization: Bearer ").concat(e,"' \\\n--data-raw '").concat(n,"'\n")}),(0,E._)(o,i.Python,function(e,t){var n=JSON.stringify(t).replace(/"/g,"'").replace(/',/g,"',\n").replace(/,'/g,",\n'").replace(/^\{/,"{\n").replace(/}$/,"\n}");return"import requests\nimport json\n\nurl = '".concat("https://metaso.cn","/api/open/search/v2'\nparams = ").concat(n,"\n\nheaders = {\n    'Authorization': 'Bearer ").concat(e,"',\n    'Content-Type': 'application/json',\n    'Connection': 'keep-alive'\n}\n\nresponse = requests.post(url, data=json.dumps(params), headers=headers)\nprint(response.text)\n")}),(0,E._)(o,i.Java,function(e,t){return'import com.alibaba.fastjson.JSON;\nimport com.alibaba.fastjson.JSONObject;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.StatusLine;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.entity.ContentType;\nimport org.apache.http.entity.StringEntity;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.apache.http.util.EntityUtils;\n\npublic class HttpPostExample {\n\n    public static void main(String[] args) throws Exception {\n        String url = "'.concat("https://metaso.cn",'/api/open/search/v2";\n        String apiKey = "api-key"; // Replace with your actual API key\n\n        // Create JSON body\n        JSONObject json = new JSONObject();\n        json.put("question", "').concat(t.question,'");\n        json.put("searchTopicId", "').concat(t.searchTopicId,'");\n\n        // Create request\n        HttpClientBuilder builder = HttpClientBuilder.create();\n        HttpClient httpClient = builder.build();\n        HttpPost hp = new HttpPost(url);\n        hp.setEntity(new StringEntity(JSON.toJSONString(json), ContentType.APPLICATION_JSON));\n        hp.setHeader("Content-Type", "application/json");\n        hp.setHeader("Authorization", "Bearer " + apiKey);\n        HttpResponse res = httpClient.execute(hp);\n        StatusLine status = res.getStatusLine();\n        if(status.getStatusCode()!=200){\n            throw new RuntimeException("网络请求出错:"+status.getStatusCode());\n        }\n        String result = EntityUtils.toString(res.getEntity());\n        System.out.println(result);\n    }\n}')}),o),Z=n(7870),R=n(25590),H=n(25001),M=n(39207),L=n(71096),O=n.n(L),A=n(64798),D=n.n(A),F=n(7633),B=n.n(F),W=n(29823),z=n(22322),U=n(64400),q=n(96339),V=n(33986);n(83644);var K=n(81740),G=n(59991),J=n(40734),Y=n(72851),Q=n(67702),X=n(79943);K.Z.registerLanguage("(auto)",G.Z),K.Z.registerLanguage("python",J.Z),K.Z.registerLanguage("java",Y.Z),K.Z.registerLanguage("dsconfig",Q.Z);var $=(0,c.memo)((0,c.forwardRef)(function(e,t){var n,r,o=e.subjectId,l=e.subjectName,d=e.question,h=e.isH5,m=(0,w._)(e,["subjectId","subjectName","question","isH5"]),g=(0,X.WS)(),E=(0,a._)((0,c.useState)(!1),2),L=E[0],A=E[1],F=(0,a._)((0,c.useState)(i.cURL),2),G=F[0],J=F[1];(0,c.useEffect)(function(){var e=function(e){var t;e.target.closest("#create-api-modal")||e.target.closest("#create-api-button")||null==m||null===(t=m.onClose)||void 0===t||t.call(m,{},"escapeKeyDown")};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}},[]);var Y=(0,c.useRef)(null),Q=(0,H.W)({request:(n=(0,x._)(function(e,t){var n;return(0,y.Jh)(this,function(e){switch(e.label){case 0:return null==t||t.abort("取消"),[4,(0,M.inu)("临时api-key-".concat(O()().format("YYMMDDHHmmss"),"-").concat(B()())).finally(function(){})];case 1:return n=e.sent(),Y.current=n.data.data,[2,n.data.data]}})}),function(e,t){return n.apply(this,arguments)}),defaultData:null,autoRequest:!1}),$=(0,c.useCallback)(function(e){e?Q.doRequest():Q.abort()},[Q.doRequest]),ee=(0,c.useMemo)(function(){return D()($,300)},[$]);(0,c.useEffect)(function(){ee(L)},[L]);var et=(0,c.useRef)(""),en=(0,c.useMemo)(function(){var e,t,n,r,i,a=null===(i=Q.data)||void 0===i?void 0:i.sensitiveId,s={apiKey:"api-key",programLang:G,subjectId:o,subjectName:l,question:d||"please summarize"};return a&&L&&et.current!==a&&(s.apiKey=a,et.current=a),e=s.apiKey,t=s.programLang,n=s.question,r=s.subjectId,s.subjectName,T[t](e,{question:n,searchTopicId:r})},[L,null===(r=Q.data)||void 0===r?void 0:r.sensitiveId,G,d,o,l]),er=(0,c.useMemo)(function(){return K.Z.highlight(en,{language:G||"(auto)"})},[en]),ei=(0,c.useRef)(null),eo=(0,a._)((0,c.useState)(!1),2),ea=eo[0],es=eo[1],ec=(0,u.LM)(function(e){return e.login}),el=(0,s.jsx)(S.Z,{onClick:(0,x._)(function(){return(0,y.Jh)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),clearTimeout(ei.current),[4,(0,Z.vQ)(en)];case 1:return e.sent(),es(!0),ei.current=setTimeout(function(){return es(!1)},5e3),[3,3];case 2:return e.sent(),(0,z.y)("复制失败",{variant:"error"}),[3,3];case 3:return[2]}})}),sx:e.isH5?{ml:"auto",width:36,height:36}:{position:"absolute",top:0,width:36,height:36,zIndex:1,right:0,color:"var(--meta-text-gray)"},children:ea?(0,s.jsx)(U.Z,{}):(0,s.jsx)(W.Z,{})}),eu=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v.Z,{children:(0,s.jsxs)(v.Z,{component:"label",className:"fr-ac",children:[(0,s.jsx)(P.Z,{checked:L,onChange:function(e,t){t?ec?A(t):(0,q.x3)({showTips:!0,tipsHtml:"登录后可生成API KEY",logDesc:"get-api-key-not-login"}):(A(t),clearTimeout(ei.current),es(!1))}}),(0,s.jsxs)(j.Z,{sx:{ml:1,fontSize:16,color:"var(--black3)"},children:["API Key（",L?"开启":"关闭","）"]})]})}),(0,s.jsx)(C.Z,{value:G,onChange:function(e,t){J(t),clearTimeout(ei.current),es(!1)},sx:{"& .MuiTab-root[class]":{textTransform:"none",minWidth:0,height:40,"&:hover":{bgcolor:"transparent !important"},"&:first-child":{}}},children:Object.entries(i).map(function(e){var t=(0,a._)(e,2),n=t[0],r=t[1];return(0,s.jsx)(I.Z,{value:r,label:n},n)})}),(0,s.jsxs)(v.Z,{sx:{position:"relative"},className:"api-modal-hl",children:[(0,s.jsxs)(v.Z,{sx:{maxHeight:121,overflowY:"auto",border:"1px solid var(--border-color2)",p:e.isH5?1:3},className:"hljs ",children:[!e.isH5&&el,(0,s.jsx)(v.Z,{component:"pre",sx:{mt:0,fontFamily:"inherit",whiteSpace:"pre-wrap"},children:(0,s.jsx)(v.Z,{component:"code",sx:{fontSize:e.isH5?13:16,fontFamily:"inherit",color:"var(--black4)"},dangerouslySetInnerHTML:{__html:er.value}})})]}),e.isH5&&(0,s.jsxs)(v.Z,{className:"fr-ac",sx:{border:"1px solid var(--border-color2)",borderTop:"none",pt:1},children:[(0,s.jsx)(f.Z,{style:{fontWeight:400},onClick:function(){g.push("/s/hXHmJkx")},children:"帮助文档"}),el]})]})]});return h?(0,s.jsx)(V.$,(0,b._)((0,_._)({noBackButton:!0,headerTitle:(0,s.jsxs)(j.Z,{className:"fr-ac",sx:{color:"var(--black1)",fontSize:16},children:[(0,s.jsx)(p.Z,{}),"\xa0 创建API"]}),anchor:"bottom"},m),{children:(0,s.jsx)(k.Z,{spacing:1,sx:{p:2},children:eu})})):(0,s.jsx)(N.Z,(0,b._)((0,_._)({hideBackdrop:!0},m),{children:(0,s.jsxs)(k.Z,{id:"create-api-modal",spacing:2,sx:{boxShadow:"0px 24px 60px 0px #0000001F",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"min(90vw, 600px)",bgcolor:"var(--white)",pt:2,px:4,pb:3},children:[(0,s.jsxs)(v.Z,{children:[(0,s.jsxs)(j.Z,{className:"fr-ac",sx:{fontWeight:"bold",color:"var(--black1)",fontSize:18},children:[(0,s.jsx)(p.Z,{}),"\xa0创建API",(0,s.jsx)(f.Z,{style:{fontWeight:400,marginLeft:"20px"},onClick:function(){window.open("/s/hXHmJkx")},children:"帮助文档"})]}),(0,s.jsx)(R.P,{sx:{mt:-.8,color:"var(--meta-text-gray)",width:40,height:40,p:1.5},onClick:function(){var e;return null==m?void 0:null===(e=m.onClose)||void 0===e?void 0:e.call(m,{},"escapeKeyDown")}})]}),eu]})}))})),ee=n(36570),et=n(8620),en=n(5806),er=(0,c.memo)((0,c.forwardRef)(function(e,t){var n=(0,c.useRef)(null),r=(0,d.useSearchParams)(),i=(0,en.a)().onSearchSubmit,o=(0,a._)((0,c.useState)(!1),2),m=o[0],x=o[1],_=(0,a._)((0,c.useState)(""),2),b=_[0],w=_[1],y=(0,a._)((0,c.useState)(""),2),S=y[0],j=y[1],C=(0,c.useRef)(!1),I=(0,c.useCallback)(function(t){var n=(0,a._)(t,1)[0],o=r.get(l.Vp.COMMON)||e.saveShareKey;!u.LM.getState().login&&o&&(o=r.get(l.Vp.COMMON)||void 0),i({question:n,engineType:l.rG.KNOWLEDGE,_mode:"detail",autoChange:!0,searchTopicId:e.subjectId,topicId:null,topicName:null,saveShareKey:o,model:b}),e.onSubmit()},[i,e.subjectId,e.onSubmit,e.saveShareKey,r,b]);(0,c.useImperativeHandle)(t,function(){return{setTextNSearch:function(e){n.current.setArgumentText(e),setTimeout(function(){n.current.submit()},500)},setText:function(e){n.current.setArgumentText(e)},focus:function(){var e,t;null===(t=n.current.argumentRef.current)||void 0===t||null===(e=t.textareaRef.current)||void 0===e||e.focus()},scrollIntoView:function(){var e,t;null===(t=n.current.argumentRef.current)||void 0===t||null===(e=t.textareaRef.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"})}}}),(0,c.useEffect)(function(){var e,t,r;(null===(r=n.current)||void 0===r?void 0:null===(t=r.argumentRef.current)||void 0===t?void 0:null===(e=t.textareaRef.current)||void 0===e?void 0:e.value)&&(C.current=!0)},[]);var k=(0,c.useCallback)(function(){return x(!1)},[]);return(0,c.useEffect)(function(){w(ee.ZP.defaultModel.get())},[]),(0,s.jsxs)(v.Z,{className:g()["home-search-box"],sx:{"&[class][class]":{boxShadow:"none",maxWidth:"unset",border:"2px solid #1570EF"},'& [class*="send-arrow-button"]:not([disabled])':{color:"#1570EF"}},children:[(0,s.jsx)(h.Z,{sx:{textarea:{minHeight:79}},isH5:e.isH5,ref:n,onSubmit:I,model:b,onModelChange:w,activeEngine:l.rG.KNOWLEDGE,searchTopicId:e.subjectId,autoFocus:e.autoFocus,placeholder:e.isH5?"点击输入想了解的问题":"请输入，Enter键发送，Shift+Enter键换行",onArgumentChange:function(t){if(j(t),!C.current&&!t){C.current=!0;return}var r,i,o=null===(i=n.current)||void 0===i?void 0:null===(r=i.argumentRef.current)||void 0===r?void 0:r.textareaRef.current;o&&(o.style.setProperty("max-height","30vh"),o.style.setProperty("min-height",e.isH5?"54px":"79px"),o.style.setProperty("height","0px"),o.style.setProperty("height","".concat(o.scrollHeight,"px")))},bottomLeftSlot:(0,s.jsxs)(s.Fragment,{children:[e.isOwner&&(0,s.jsx)(f.Z,{id:"create-api-button",sx:{color:e.isH5?"var(--meta-text-gray)":"var(--black3)",ml:e.isH5?-1:0},startIcon:(0,s.jsx)(p.Z,{}),onClick:function(e){e.stopPropagation(),x(!m)},children:"API"}),(0,s.jsx)(et.qv,{model:b,onModelChange:w})]}),allowH5ShowBottomLeftSlot:!1}),(0,s.jsx)($,{open:m,subjectId:e.subjectId||"",subjectName:e.subjectName,isH5:e.isH5,question:S,onClose:k})]})}))},83083:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(2265),i=n(96339),o=n(61839),a=n(23760);function s(e,t,n){var s=(0,o.Z)(t);return{coverButtonClicked:(0,r.useCallback)(function(){s("添加封面")&&(a.LM.getState().login?e||n():(0,i.x3)({logDesc:"topic-add-cover-need-login"}))},[e,s,n]),checkEditViewPermission:s}}},6049:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(50059),i=n(85735),o=n(36570),a=n(2265);function s(e){var t=(0,r._)((0,o.Rr)("subjectOpenState"),3),n=t[0],s=t[1],c=t[2],l=(0,r._)((0,a.useState)(!1),2),u=l[0],d=l[1];return(0,a.useEffect)(function(){c&&(0,a.startTransition)(function(){d(n.includes(e))})},[c]),(0,a.useEffect)(function(){c&&(u?n.includes(e)||s(function(t){return(0,i._)(t).concat([e])}):s(function(t){return t.filter(function(t){return t!==e})}))},[u,c]),[u,d,c]}},94841:function(e,t,n){"use strict";n.d(t,{K:function(){return u}});var r=n(5194),i=n(1780),o=n(46796),a=n(57437),s=n(78693),c=n(36760),l=n.n(c),u=function(e){e.show;var t=(0,o._)(e,["show"]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(s.Z,(0,i._)((0,r._)({},t),{className:l()(e.className,e.show?"":"display-none"),children:e.children}))})}},32165:function(e,t,n){"use strict";n.d(t,{o:function(){return x}});var r=n(5194),i=n(1780),o=n(46796),a=n(50059),s=n(45008),c=n(57437),l=n(2265),u=n(16210),d=n(78693),h=n(36760),f=n.n(h),p=n(7870);function m(){var e=(0,s._)(["\n  position: relative;\n  display: inline-flex;\n"]);return m=function(){return e},e}function g(){var e=(0,s._)(["\n    outline: none;\n    border: none;\n    padding: 0;\n    margin: 0;\n\n    position: absolute;\n    top:0;\n    left: 0;\n    :not(:placeholder-shown) {\n        opacity: 0;\n    }\n    \n    font-family: inherit;\n    &.input-open {\n        opacity: 1;\n    }\n    &:read-only {\n        cursor: default;\n    }\n"]);return g=function(){return e},e}function v(){var e=(0,s._)(["\n\n    font-family: inherit;\n    pointer-events: none;\n    &.baseline-hidden{\n        visibility: hidden;\n    }\n    &.baseline-truncate{\n        max-width: 100%;\n    }\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n"]);return v=function(){return e},e}var x=(0,l.memo)((0,l.forwardRef)(function(e,t){var n=e.sx,s=(e.className,e.rootProps),u=e.baselineProps,d=void 0===u?{}:u,h=(0,o._)(e,["sx","className","rootProps","baselineProps"]),m=(0,l.useRef)(null),g=(0,l.useRef)(null),v=(0,a._)((0,l.useState)(!1),2),x=v[0],y=v[1],S=(0,a._)((0,l.useState)(!1),2),j=S[0],C=S[1],I=(0,a._)((0,l.useState)(!1),2),k=I[0],N=I[1],P=(0,a._)((0,l.useState)(0),2),E=P[0],T=P[1],Z=(0,l.useCallback)(function(){g.current&&(T(g.current.clientWidth),C(!0))},[]);return(0,l.useLayoutEffect)(function(){Z()},[h.value]),(0,l.useImperativeHandle)(t,function(){return{getInput:function(){return m.current}}},[]),(0,c.jsxs)(_,(0,i._)((0,r._)({},void 0===s?{}:s),{children:[(0,c.jsx)(b,(0,i._)((0,r._)({ref:m},h),{sx:n,style:(0,r._)({width:E},h.style),onFocus:function(e){var t;null===(t=h.onFocus)||void 0===t||t.call(h,e),y(!0),Z()},onBlur:function(e){var t;null===(t=h.onBlur)||void 0===t||t.call(h,e),y(!1),N(!0)},onChange:function(e){var t;null===(t=h.onChange)||void 0===t||t.call(h,e),void 0===h.value&&(g.current.innerText=e.target.value,Z())},className:f()("flexible-input-present",{"input-open":x},h.inputClassName)})),(0,c.jsx)(w,(0,i._)((0,r._)({ref:g},d),{sx:(0,p.Vc)(n,d.sx),className:f()("flexible-input-baseline",{"baseline-hidden":x,"baseline-truncate":(j||k)&&!x},d.className),children:h.value||h.placeholder}))]}))})),_=(0,u.ZP)(d.Z)(m()),b=(0,u.ZP)("input")(g()),w=(0,u.ZP)(d.Z)(v())},65612:function(e,t,n){"use strict";n.d(t,{F:function(){return _}});var r=n(5194),i=n(1780),o=n(46796),a=n(50059),s=n(45008),c=n(57437),l=n(2265),u=n(16210),d=n(78693),h=n(7870),f=n(36760),p=n.n(f),m=n(74634);function g(){var e=(0,s._)(["\n    position: relative;\n"]);return g=function(){return e},e}function v(){var e=(0,s._)(["\n    position: absolute;\n    left: 0;\n    top: 0;\n    \n    outline: none;\n    padding: 0;\n    border: none;\n    margin: 0;\n    :not(:placeholder-shown) {\n        opacity: 0;\n    }\n    font-family: inherit;\n    resize: none;\n    &:read-only {\n        cursor: default;\n    }\n    &.textarea-open {\n        opacity: 1;\n    }\n"]);return v=function(){return e},e}function x(){var e=(0,s._)(["\n    width: 100%;\n    white-space: pre-wrap;\n    font-family: inherit;\n    pointer-events: none;\n    word-break: break-word;\n    &.baseline-hidden{\n        visibility: hidden;\n    }\n    overflow-y: auto;\n"]);return x=function(){return e},e}var _=(0,l.memo)((0,l.forwardRef)(function(e,t){e.textareaClassName;var n=e.sx,s=e.className,u=e.rootProps,d=e.baselineProps,f=void 0===d?{}:d,g=(0,o._)(e,["textareaClassName","sx","className","rootProps","baselineProps"]),v=(0,l.useRef)(null),x=(0,l.useRef)(null),_=(0,a._)((0,l.useState)(0),2),S=_[0],j=_[1],C=(0,m.a8)(),I=function(){C?j(x.current.scrollHeight):j(v.current.clientHeight)};(0,l.useLayoutEffect)(function(){I()},[e.value]);var k=(0,l.useMemo)(function(){return e.value?/\n{1}$/.test(e.value+"")?e.value+"\n":e.value:e.placeholder},[e.value,e.placeholder]);return(0,c.jsxs)(b,(0,i._)((0,r._)({},void 0===u?{}:u),{children:[(0,c.jsx)(w,(0,i._)((0,r._)({},g),{ref:x,sx:(0,h.Vc)({width:1,height:S},n),onFocus:function(e){var t;null===(t=g.onFocus)||void 0===t||t.call(g,e)},onBlur:function(e){var t;null===(t=g.onBlur)||void 0===t||t.call(g,e)},className:p()({"textarea-open":C},s),onChange:function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t),void 0===e.value&&(v.current.innerText=t.currentTarget.value,I())}})),(0,c.jsx)(y,(0,i._)((0,r._)({},f),{ref:v,sx:(0,h.Vc)(n,f.sx),className:p()({"baseline-hidden":C},s,f.className),children:k}))]}))})),b=(0,u.ZP)(d.Z)(g()),w=(0,u.ZP)("textarea")(v()),y=(0,u.ZP)(d.Z)(x())},44917:function(e,t,n){"use strict";var r=n(5194),i=n(1780),o=n(46796),a=n(57437),s=n(78693),c=n(47080),l=n(2265),u=(0,l.memo)((0,l.forwardRef)(function(e,t){var n=e.className,l=e.variant,u=e.pending,d=e.children,h=(0,o._)(e,["className","variant","pending","children"]);return(0,a.jsx)(s.Z,(0,i._)((0,r._)({className:"".concat(n||""," fr-ac fr-jc")},h),{ref:t,children:u?!e.noIndicator&&(0,a.jsx)(c.Z,{width:"100%",height:"100%",variant:l||"rounded"}):d}))}));t.Z=u},81546:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});var r=n(57437),i=n(44917),o=n(78693);function a(e){return(0,r.jsx)(i.Z,{pending:e.pending,variant:"circular",sx:{ml:1,minWidth:26,height:26},children:(0,r.jsx)(o.Z,{component:"span",className:"fr-ac fr-jc",sx:{minWidth:26,boxSizing:"border-box",p:1,fontSize:"14px",fontWeight:700,lineHeight:"100%",height:"100%",border:"1px solid #EAECF0",borderRadius:"14px",backgroundColor:"var(--white-gray-2)"},children:e.count})})}},5806:function(e,t,n){"use strict";n.d(t,{a:function(){return w}});var r=n(2403),i=n(50059),o=n(5853),a=n(99376),s=n(55833),c=n(2265),l=n(36570),u=n(22629),d=n(47812),h=n(74634),f=n(39207),p=n(22322),m=n(75825),g=n(89480),v=n(26058),x=n(23760),_=n(96339),b=n(53998),w=function(e){var t,n=function(){"research"===l.ZP.defaultMode.get()&&l.ZP.defaultMode.set("detail")},w=(e||{}).onProcess,y=(0,a.useSearchParams)(),S=y.get("q"),j=y.get("m")||"detail",C=(0,c.useRef)(j),I=y.get("st"),k=y.get("et"),N=y.get("sti"),P=y.getAll("pt"),E=y.get("fi"),T=JSON.parse(y.get("var")||"null"),Z=JSON.parse(y.get("imi")||"null"),R=JSON.parse(y.get("advm")||"null"),H=y.get("mdl"),M=y.get("iid"),L=y.get("imc"),O=(0,b.qd)().onSubmit;(0,c.useLayoutEffect)(function(){n();var e=l.ZP.defaultMode.get(),t=l.ZP.defaultModeWithTimePriority.get();null===y.get("m")&&t?Date.now()-t.time>216e5?(C.current=e,D.current.mode=e,l.ZP.defaultModeWithTimePriority.remove()):(C.current=t.mode,D.current.mode=t.mode):null===y.get("m")&&e&&(C.current=e,D.current.mode=e);var r=l.ZP.defaultEngine.get();null===y.get("et")&&!k&&r&&(k=r,D.current.engineType=k);var i=u.a2.getState();k!==d.rG.WEBPAGE||i.isTraditionalSearchEngineModeActive||i.setTraditionalSearchEngineModeActive(!0)},[]);var A=(0,a.usePathname)(),D=(0,c.useRef)(S?{question:S,mode:j,searchType:I||void 0,engineType:k,searchTopicId:N,scholarSearchDomain:d.wb.ALL,flowId:E||void 0,variable:T||void 0,imgInfo:Z||void 0,imgId:M||void 0,imgCategory:L||void 0,advanceMath:R||void 0,model:H||void 0}:{question:"",mode:"detail",engineType:d.rG.DEFAULT,scholarSearchDomain:d.wb.ALL}),F=(0,i._)((0,h.W6)(function(){D.current.scholarSearchDomain=l.ZP.scholarLang.get(),S&&P.length>0?(0,f.a5N)(S,P).then(function(e){0===e.data.errCode?(D.current.question=e.data.data,O(D.current,function(){return null==w?void 0:w("cancel-submitting")})):(0,p.y)("获取问题失败",{variant:"error",autoHideDuration:3e3})}).catch(function(e){(0,p.y)("获取问题失败",{variant:"error",autoHideDuration:3e3})}):S&&A===m.l.Home&&O(D.current,function(){return null==w?void 0:w("cancel-submitting")})},[S,P,O,w]),2),B=F[0];F[1],(0,c.useLayoutEffect)(function(){g.wS.done.then(function(){B.current()})},[]);var W=(0,c.useCallback)(function(e,t){var n,i,a=e.question,s=e.searchType,c=e.engineType,u=e.variable,h=e.flowId,f=e.cost,p=e.openInNewTab,g=e.searchTopicId,x=e.topicId,_=e.topicName,b=e.searchTopicName,w=e.imgInfo,y=e.saveShareKey,S=e.imgId,j=e.imgCategory,I=e.advanceMath,k=e.enableImageGroup,N=e.model,P=e.deepResearchModel;if(!p||(null===(n=(0,v.ZD)())||void 0===n?void 0:n.isMiniWebView)||(null===(i=(0,v.ZD)())||void 0===i?void 0:i.isAliApp)){var E=c===d.rG.SCHOLAR?l.ZP.scholarLang.get():c===d.rG.KNOWLEDGE&&g||d.wb.ALL;O({question:a,mode:C.current,model:N,deepResearchModel:P,searchType:s,engineType:c,scholarSearchDomain:E,variable:u,flowId:h,cost:f,searchTopicId:g,topicId:x,topicName:_,searchTopicName:b,imgInfo:w,imgId:S,imgCategory:j,advanceMath:I,enableImageGroup:k},t,y)}else{var T=m.l.Home+"?q=".concat(encodeURIComponent(a),"&m=").concat(C.current).concat(s?"&st=".concat(s):"","&et=").concat(c||"","&sti=").concat(g||"");y&&(T+="&ssi=".concat(y||"","&tsk=").concat(y||"")),(0,r._)(function(){var e;return(0,o.Jh)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),e=window.open(),[4,new Promise(function(e){return setTimeout(e)})];case 1:return t.sent(),e.location=T,[3,3];case 2:return t.sent(),location.href=T,[3,3];case 3:return[2]}})})()}},[O]),z=(0,c.useCallback)((t=(0,r._)(function(e){var t,n,r,i,a,c,l,u,h,f,m,v,b,S,j,I,k,N,P,E,T,Z,R,H;return(0,o.Jh)(this,function(o){switch(o.label){case 0:if(t=e.question,n=e.engineType,r=e.openInNewTab,i=e.autoChange,a=e.searchType,c=e.path,l=e._mode,u=e.variable,h=e.flowId,f=e.cost,m=e.searchTopicId,v=e.topicId,b=e.topicName,S=e.searchTopicName,j=e.imgInfo,I=e.saveShareKey,k=e.imgId,N=e.imgCategory,P=e.advanceMath,E=e.enableImageGroup,T=e.model,Z=e.deepResearchModel,l&&(C.current=l),n!==d.rG.KNOWLEDGE&&(m=void 0,S=void 0),R=(0,s.G2)({question:t,mode:C.current,engineType:n,searchType:a,path:c,variable:u,flowId:h,searchTopicId:m,topicId:v,topicName:b,searchTopicName:S,imageInfo:j,imgId:k,imgCategory:N,advanceMath:P}),!I&&y.get("tsk")&&(I=y.get("tsk")),!I&&y.get("ssi")&&(I=y.get("ssi")),H=g.LM.getState().login,!("research"===C.current&&!H))return[3,2];return[4,(0,s.Im)()];case 1:if(!o.sent()){if(!H)return x.aK.setState({backPath:location.href}),(0,_.x3)({showTips:!0,tipsHtml:"登录后，可<b>免费</b>使用<u>研究模式</u>",redirectUrl:R,logDesc:"use-research-mode"}),[2];if(!i)return(0,p.y)("研究模式超过当日上限，请明天再来～",{variant:"info",autoHideDuration:3e3,className:"info-blue"}),[2];C.current="detail",(0,p.y)("【研究模式】超过当日上限，已为您切换到【深入模式】继续搜索",{variant:"info",autoHideDuration:3e3,className:"info-blue"})}o.label=2;case 2:return null==w||w("submitting"),W({question:t,searchType:a,engineType:n,variable:u,flowId:h,cost:f,openInNewTab:r,searchTopicId:m,topicId:v,topicName:b,searchTopicName:S,imgInfo:j,saveShareKey:I,imgId:k,imgCategory:N,advanceMath:P,enableImageGroup:E,model:T,deepResearchModel:Z},function(){null==w||w("cancel-submitting")}),[2]}})}),function(e){return t.apply(this,arguments)}),[W,j,w,y]);return{modelRef:C,onSearchSubmit:z,question:S}}},9969:function(e,t,n){"use strict";n.d(t,{U:function(){return Z}});var r=n(2403),i=n(12249),o=n(50059),a=n(45008),s=n(85735),c=n(5853),l=n(57437),u=n(16210),d=n(78693),h=n(75219),f=n.n(h),p=n(36760),m=n.n(p),g=n(2265),v=n(7633),x=n.n(v),_=n(19713),b=n.n(_),w=n(47812),y=n(22252),S=n(53231),j=n(79259),C=n(96339),I=n(23760),k=n(88872),N=n(7870);function P(){var e=(0,a._)(["\n  clip: rect(0 0 0 0);\n  clip-path: inset(50%);\n  height: 1px;\n  overflow: hidden;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  white-space: nowrap;\n  width: 1px;\n"]);return P=function(){return e},e}var E=(0,u.ZP)("input")(P()),T=b()(w.Tv).filter(function(e){return e!==w.Tv.FOLDER&&e!==w.Tv.PRO&&e!==w.Tv.PAN}).map(function(e){return"."+e}).join(","),Z=(0,g.forwardRef)(function(e,t){var n,a,u=(0,g.useRef)(null),h=(0,o._)((0,g.useState)(!1),2),p=h[0],v=h[1],_=(0,o._)((0,g.useState)([]),2),b=_[0],P=_[1],Z=(0,I.LM)(function(e){return e.login}),R=(0,g.useContext)(k.DI).uploadStatus;(0,g.useEffect)(function(){R.total===R.finish&&v(!1)},[R.total,R.finish]);var H=(0,o._)((0,g.useState)([]),2),M=H[0],L=H[1],O=(0,o._)((0,g.useState)(null),2),A=O[0],D=O[1],F=(0,o._)((0,g.useState)(0),2),B=F[0],W=F[1],z=(0,g.useRef)([]);(0,g.useImperativeHandle)(t,function(){return{uploadFail:function(e){v(!1)}}},[]);var U=function(){var t;L((null===(t=e.uploadFiles)||void 0===t?void 0:t.filter(function(e){return!e.fileDTO}).filter(function(e){return!(e.uploadPromiseTool&&"rejected"===e.uploadPromiseTool.status)}))||[])};(0,g.useEffect)(function(){U()},[e.uploadFiles]),(0,g.useEffect)(function(){if(!M||0===M.length){v(!1);return}D(M[M.length-1]),M.forEach(function(t){t.uploadPromiseTool&&t.uploadPromiseTool.done.catch(function(e){z.current=(0,s._)(z.current.filter(function(e){return e!==t.id}))}),t.on("progress",function(e){var n=e.progress;A&&A.id===t.id&&W(n)}),t.on("uploadFinished",function(){z.current=(0,s._)(z.current.filter(function(e){return e!==t.id})),e.uploadFinish(t)}),z.current.push(t.id)})},[M,z,A]);var q=(0,g.useCallback)(function(){return Z?!p:((0,N.v_)("subject-record",e.id),(0,N.v_)("subject-detail",e.id),(0,C.x3)({showTips:!0,tipsHtml:"请登录后再上传文件",logDesc:"upload-at-subject-not-login",redirectUrl:location.href}),v(!1),!1)},[Z,p,e.id]);(0,g.useEffect)(function(){if(b.length&&q()){var t=(0,y.I1)(b,!0);if(t&&t.length>0){var n=t.length>1||t[0].type===w.Tv.FOLDER;v(!0),e.onUpload(t,n)}}},[b]);var V=(n=(0,r._)(function(t){var n,i;return(0,c.Jh)(this,function(o){switch(o.label){case 0:if(t.preventDefault(),!q()||p)return[2];n=[],o.label=1;case 1:var a;return o.trys.push([1,3,,4]),[4,Promise.all((0,s._)(t.dataTransfer.items).map((a=(0,r._)(function(e){var t;return(0,c.Jh)(this,function(r){return(t=e.webkitGetAsEntry())?[2,(0,y.C1)(t,n)]:[2]})}),function(e){return a.apply(this,arguments)})))];case 2:case 3:return o.sent(),[3,4];case 4:if(0==n.length)return[2];return i=n.length>1||n[0].type===w.Tv.FOLDER,v(!0),e.onUpload(n,i),Y(!1),[2]}})}),function(e){return n.apply(this,arguments)}),K=(0,g.useRef)(null),G=(0,o._)((0,g.useState)(!1),2),J=G[0],Y=G[1],Q=(0,g.useRef)(null);(0,g.useEffect)(function(){if(Q.current)return Q.current.style.setProperty("background-image","linear-gradient(to right,  #98A2B3  ".concat(B,"% ,#EAECF0  0 )")),Q.current.classList.add("file-progress-background"),B>=100&&(Q.current.style.removeProperty("background-image"),Q.current.classList.remove("file-progress-background")),function(){var e,t;null===(e=Q.current)||void 0===e||e.style.removeProperty("background-image"),null===(t=Q.current)||void 0===t||t.classList.remove("file-progress-background")}},[Q.current,B]);var X=(0,o._)((0,g.useState)(!1),2),$=X[0],ee=X[1];return(0,l.jsxs)(d.Z,{ref:K,className:m()(f().metaDragUploadBox,(0,i._)({},f()["upload-cover"],p)),style:{borderColor:J?"#409eff":"#D0D5DD",position:"relative"},onClick:function(){q()&&u.current&&u.current.click()},onDrop:V,onDragEnter:function(e){Y(!0)},onDragLeave:function(e){Y(!1)},onDragOver:function(e){e.preventDefault()},children:[(0,l.jsx)(d.Z,{sx:{position:"absolute",width:100,height:20,right:115,top:75},onMouseEnter:function(){ee(!0)},onMouseLeave:function(){ee(!1)},onClickCapture:(a=(0,r._)(function(t){var n,r;return(0,c.Jh)(this,function(i){switch(i.label){case 0:if(t.stopPropagation(),!q())return[2];return[4,(0,S.Z)()];case 1:return r={name:n=i.sent(),url:n,type:w.Tv.HTML,id:x()("html")},v(!0),e.onUpload([r],!1),[2]}})}),function(e){return a.apply(this,arguments)})}),(0,l.jsxs)(d.Z,{className:"fc-ac fc-jc",sx:{height:1,pointerEvents:"none",width:"100%"},children:[(0,l.jsx)(d.Z,{sx:{border:"1px solid var(--border-color2)",borderRadius:"8px",width:48,height:48,boxShadow:"0px 1px 2px 0px #1018280D"},className:m()("fr-ac fr-jc",(0,i._)({},f()["cover-hide"],p)),children:(0,l.jsx)(j.Z,{})}),p?(0,l.jsxs)("div",{style:{textAlign:"center"},children:[(0,l.jsx)("div",{className:m()(f().centerText,f()["cover-hide"]),children:"拖拽/点击上传文档，或填写在线网页"}),(0,l.jsxs)("div",{className:f().supportText,style:{color:"#175CD3",fontWeight:700},children:["上传中 ",R.finish,"/",R.total||1]})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:f().centerText,children:["拖拽/点击上传文档，",(0,l.jsx)(d.Z,{sx:{color:"#409eff",display:"inline-block",textDecoration:$?"underline":"none"},children:"或填写在线网页"})]}),(0,l.jsx)("div",{className:f().supportText,children:"支持PDF、DOCX、PPTX、PPT等文件"}),(0,l.jsx)(E,{ref:u,multiple:!0,type:"file",accept:T,onChange:function(e){for(var t=[],n=0;n<e.target.files.length;n++)t.push(e.target.files[n]);P(t)}})]})]})]})})},63080:function(e,t,n){"use strict";n.d(t,{Df:function(){return i},Kn:function(){return o},Vl:function(){return a},bm:function(){return s}});var r=(0,n(29081).Z)(),i={OpenSourceDrawer:"openSourceDrawer"},o=function(e,t){r.emit(e,t)},a=function(e,t){r.on(e,t)},s=function(e,t){r.off(e,t)}},36706:function(e,t,n){"use strict";n.d(t,{T0:function(){return m},U4:function(){return f},dC:function(){return o},hr:function(){return p},vC:function(){return g}});var r,i,o,a=n(2403),s=n(5853),c=n(7870),l=n(75825),u=n(39207),d=n(76492),h=n(47812),f=function(e){e.push(l.l.Home)},p=function(e,t,n){var r=(0,c.gY)(l.l.Search,{id:t});n?window.open(r,"_blank"):e.push((0,u.amx)(r))},m=(r=(0,a._)(function(e,t,n,r,i){var o,a,h,f,p=arguments;return(0,s.Jh)(this,function(s){switch(s.label){case 0:if(o=p.length>5&&void 0!==p[5]&&p[5],a=p.length>6?p[6]:void 0,h=p.length>7?p[7]:void 0,f=(0,u.amx)((0,c.gY)(l.l.Search,{id:n})+"?q="+encodeURIComponent(i.substring(0,100))+"&hideMenu=1"),f=(0,d.Qn)({fromSubject:!1,subjectId:r,fromCard:o},f).href,!(a&&n))return[3,2];return[4,(0,c.i9)(n,a)];case 1:s.sent(),s.label=2;case 2:return t?e.push(f):window.open(f,h?"_blank":"_self"),[2]}})}),function(e,t,n,i,o){return r.apply(this,arguments)});(i=o||(o={}))[i.CREATE_TOPIC_FILE=0]="CREATE_TOPIC_FILE",i[i.EDIT_SEARCH_RESULT=1]="EDIT_SEARCH_RESULT";var g=function(e,t,n,r,i){var o=(0,c.gY)(l.l.DocEdit,{id:t});r&&(o=o+"?dst="+r.type,0===r.type?(o+="&new=true&topicId=".concat(r.topicId),r.fileName&&(o+="&fileName="+encodeURIComponent(r.fileName))):1===r.type&&(o+="&searchResultId=".concat(r.searchResultId))),o=n?(0,u.SkV)(o,[{pageUrlParamName:h.Vp.SEARCH_TOPIC_SHARE_KEY,requestUrlParamName:h.Vp.COMMON}]):(0,u.x$_)(o),i?window.open(o,"_blank"):e.push(o)}},76492:function(e,t,n){"use strict";n.d(t,{Dq:function(){return c},Qn:function(){return s},p2:function(){return l}});var r=n(50059),i=n(99376),o=n(2265),a={openPdfViewer:{title:"",page:1,totalPage:0,snippet:{},url:"",displayUrl:"",_id:"",file_path:"",sessionId:"",tag:"",author:"",publishDate:"",showFront:!1,internalFile:!1,downloadUrl:"",sourceId:"",topicId:"",type:null,onlyPreview:!1,noComplain:!1,share:!0,bookId:"",readMode:!1,chapterId:"",autoOpenPPT:!1},paymentStatus:{status:"success",msg:"",order_no:"",token:""},subject:{fromSubject:!1,subjectId:"",fromCard:!1},shareSession:{ssi:null},previewPdfViewer:{sourceId:"",page:1,totalPage:1,bookId:"",fontSize:"中",bgColor:"#eee",translateMode:n(54892).R.ORIGINAL,columns:2,paddingTop:40,name:""},interactiveHtml:{dataId:"",webpageUrl:"",isWebview:null,ssi:null,targetType:null,reportId:""},openAppPpt:{chapterId:"",shareQuery:{ssi:"",shareType:""}},pptPoster:{pptId:"",isWebview:null,ssi:null,id:"",title:"",type:""},presentation:{ssi:""}};function s(e,t,n){var r=new URL(t||("undefined"!=typeof location?location.href:""),"undefined"!=typeof location?location.origin:"https://metaso.cn"),i=!0,o=!1,a=void 0;try{for(var s,c=Object.keys(e)[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value,u=e[l];"string"!=typeof u?n&&null==u||r.searchParams.set(l,JSON.stringify(u)):r.searchParams.set(l,u)}}catch(e){o=!0,a=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}return r}function c(e,t){var n=new URLSearchParams(t),i=a[e],o={},s=!0,c=!1,l=void 0;try{for(var u,d=Object.entries(i)[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var h=(0,r._)(u.value,2),f=h[0],p=h[1],m=n.get(f),g=void 0;if(null===m)g=p;else if("undefined"===m)g=void 0;else if("string"!=typeof p)try{g=JSON.parse(m)}catch(e){g=m}else g=m;o[f]=g}}catch(e){c=!0,l=e}finally{try{s||null==d.return||d.return()}finally{if(c)throw l}}return o}function l(e){var t=(0,i.useSearchParams)();return(0,o.useMemo)(function(){return c(e,t)},[t])}},54892:function(e,t,n){"use strict";var r,i;n.d(t,{R:function(){return r}}),(i=r||(r={}))[i.ORIGINAL=0]="ORIGINAL",i[i.CHINESE=1]="CHINESE",i[i.ORIGINAL_CHINESE=2]="ORIGINAL_CHINESE",i[i.CHINESE_ORIGINAL=3]="CHINESE_ORIGINAL"},83644:function(){},23665:function(e){e.exports={"search-box-left":"Search_search-box-left__j_kvq","search-box-left-img":"Search_search-box-left-img__PmVWC","copy-btn":"Search_copy-btn__tznnR","result-field-title":"Search_result-field-title__1r2hs","search-result-container":"Search_search-result-container__AUm_K","search-result":"Search_search-result__louwQ",recommendedQuestionList:"Search_recommendedQuestionList__BN9Fu",recommendedQuestionBox:"Search_recommendedQuestionBox__MOE29","right-float-box":"Search_right-float-box__beAzg","right-float-box--collapse":"Search_right-float-box--collapse__eNQ6I","right-float-box-not-visible":"Search_right-float-box-not-visible__IIGf6","right-float-box-not-finished":"Search_right-float-box-not-finished__Hy6EJ","image-result":"Search_image-result__UYyeV","search-tip-label-container":"Search_search-tip-label-container__Ncu7e","sub-title":"Search_sub-title__leVkw","menu-footer":"Search_menu-footer__H77q4","menu-footer--expand":"Search_menu-footer--expand__jokfa","skeleton-container":"Search_skeleton-container__uku66",sk:"Search_sk__yuMN6","arrow-icon":"Search_arrow-icon__qTY_d","arrow-down":"Search_arrow-down__KG7C8","more-btn":"Search_more-btn__pXMWr","session-item":"Search_session-item__8YciN","delete-btn":"Search_delete-btn__XlhFS","menu-item":"Search_menu-item___Vw7a","empty-item":"Search_empty-item__dLKuN","session-menu":"Search_session-menu__D9Sya","fixed-float-btn":"Search_fixed-float-btn__KOEds","progress-container":"Search_progress-container__di6DZ","height-0":"Search_height-0__ko9Gy","text-btn":"Search_text-btn__18X9q","session-text":"Search_session-text__PQnkG","menu-item-text":"Search_menu-item-text__uUWQO","relation-count":"Search_relation-count__l0jnA","answer-link-btn":"Search_answer-link-btn__Od5C7","ai-write-container":"Search_ai-write-container__HZESN","ai-write-header":"Search_ai-write-header__2G_z7","ai-write-button":"Search_ai-write-button__w64ep","about-footer":"Search_about-footer__weziF","result-expand-btn":"Search_result-expand-btn__lU_3X","weather-hourly-panel":"Search_weather-hourly-panel__AOj_1","left-content":"Search_left-content__TReOI","hidde-left":"Search_hidde-left__kGWOl",divider:"Search_divider__xeOmz","collapse-content-btn":"Search_collapse-content-btn__BloB7","expand-content-btn":"Search_expand-content-btn__fWmFL","splitter-container":"Search_splitter-container__niJ5U",splitter:"Search_splitter__Fvyig",active:"Search_active___868G",scroller:"Search_scroller__v8uZs","search-dialog":"Search_search-dialog__T419Q","workflow-outline":"Search_workflow-outline__yQCeS",disable:"Search_disable__qOFPU",highlight:"Search_highlight__fY7Fp","workflow-outline-title":"Search_workflow-outline-title__kIoq8","topic-tag":"Search_topic-tag__b8ZOm","add-icon":"Search_add-icon__FlQog","edit-topic-icon":"Search_edit-topic-icon__txyuL","tag-container":"Search_tag-container__CRluE","subject-manage-margin-horizontal":"Search_subject-manage-margin-horizontal__4Ld4m","subject-manage-margin-horizontal__mini":"Search_subject-manage-margin-horizontal__mini__wIdKc",tag:"Search_tag__vqExP","files-operate-menus":"Search_files-operate-menus__KfyAw","hover-show-sort":"Search_hover-show-sort__M6C6C","sort-btn":"Search_sort-btn__HxfH7","show-sort":"Search_show-sort__r99ph","icon-container":"Search_icon-container__sPPEd"}},31557:function(e){e.exports={"animation-wrap":"shapes_animation-wrap__UohrO","text-box":"shapes_text-box__hzqMb",highlight:"shapes_highlight__ClobT","dot-entry":"shapes_dot-entry__mv107","dot-circle":"shapes_dot-circle__LZB_Z","filled-text-circle":"shapes_filled-text-circle__7pnTw","filled-text-circle--selected":"shapes_filled-text-circle--selected__zMtTb","text-box--text":"shapes_text-box--text__kreE4","dot-text":"shapes_dot-text__K3FZ9","relative-line":"shapes_relative-line__4A0eC","text-circle":"shapes_text-circle__slEu0","text-circle--text":"shapes_text-circle--text__8Z6PF","text-box-badge--rect":"shapes_text-box-badge--rect__psqxn","text-box-badge--text":"shapes_text-box-badge--text__2Ugjl"}},75219:function(e){e.exports={metaDragUploadBox:"MetaDragUpload_metaDragUploadBox__6YQJQ",centerText:"MetaDragUpload_centerText__Xjm09",supportText:"MetaDragUpload_supportText__vi67e","upload-cover":"MetaDragUpload_upload-cover__KxgK4","cover-hide":"MetaDragUpload_cover-hide__NeCdu"}},60068:function(e,t,n){"use strict";n.d(t,{_:function(){return o}});var r=n(56277);let i=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function o(e,t,n,o){if(e===t&&n===o)return r.Z;let a=t=>(function(e,t,n,r,o){let a,s;let c=0;do(a=i(s=t+(n-t)/2,r,o)-e)>0?n=s:t=s;while(Math.abs(a)>1e-7&&++c<12);return s})(t,0,1,e,n);return e=>0===e||1===e?e:i(a(e),t,o)}},94943:function(e,t,n){"use strict";n.d(t,{Vv:function(){return o},YQ:function(){return i},mZ:function(){return a}});var r=n(60068);let i=(0,r._)(.42,0,1,1),o=(0,r._)(0,0,.58,1),a=(0,r._)(.42,0,.58,1)},56277:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=e=>e}},function(e){e.O(0,[97703,78187,21100,4637,15196,39780,18223,53824,67254,78693,78130,46387,53410,57587,80871,34138,94746,77919,64293,94786,32525,90077,39155,59832,71632,72972,15438,33145,53335,46746,48467,52657,35398,97404,32796,99205,10638,43646,10261,48022,32767,76054,77467,51568,81214,4274,53820,83724,26948,95171,96339,15708,88872,69161,84277,24757,26398,55833,62917,98255,96839,18810,32559,43757,23362,1744],function(){return e(e.s=91169)}),_N_E=e.O()}]);