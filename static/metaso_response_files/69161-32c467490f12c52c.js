(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[69161],{14003:function(e,t,n){"use strict";var r,a,o,i=n(94746);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:36,height:36,fill:"none",viewBox:"2 2 32 30"},e),r||(r=i.createElement("rect",{width:30,height:30,x:3,y:2,fill:"currentColor",rx:15})),a||(a=i.createElement("rect",{width:29,height:29,x:3.5,y:2.5,stroke:"currentColor",rx:14.5})),o||(o=i.createElement("path",{fill:"#fff",d:"M24.664 17.719a.964.964 0 0 0 0-1.407l-5-5a.964.964 0 0 0-1.406 0 .964.964 0 0 0 0 1.407L21.539 16h-9.562c-.563 0-1 .469-1 1 0 .563.437 1 1 1h9.562l-3.281 3.313a.964.964 0 0 0 0 1.406.964.964 0 0 0 1.406 0z",className:"arrow-tail-filled-icon-arrow"})))}},20144:function(e,t,n){"use strict";var r,a=n(94746);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return a.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),r||(r=a.createElement("path",{stroke:"#1570EF",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16.667 5 7.5 14.167 3.334 10"})))}},8085:function(e,t,n){"use strict";var r=n(50059),a=n(45008),o=n(57437),i=n(2265),s=n(99038),c=n(36760),l=n.n(c),u=n(78693),h=n(46387),d=n(97312),f=n(16210),_=n(52659),v=n(54632),p=n(84741),x=n(25550),g=n(38301),m=n(75825),k=n(53245),w=n(45594),b=n(7870),y=n(24095);function C(){var e=(0,a._)(["\n    font-size: 18px;\n    white-space: nowrap;\n    color: #1570ef;\n    font-weight: 700;\n    .top-up-card--h5 &{\n        font-size: 14px;\n        color: var(--black2);\n        font-weight: normal;\n    }\n"]);return C=function(){return e},e}function S(){var e=(0,a._)(["\n    font-size: 16px;\n    font-weight: 700;\n\n    .top-up-card--h5 & {\n        font-size: 27px;\n        color: var(--meta-primary-blue);\n        font-weight: normal;\n    }\n\n"]);return S=function(){return e},e}function j(){var e=(0,a._)(["\n    font-size: 12px;\n    .top-up-card--h5 &{\n        font-size: 10px;\n    }\n    color: var(--Gary-Group1-500);\n"]);return j=function(){return e},e}function M(){var e=(0,a._)(["\n    height: 100px;\n    width: 150px;\n    \n    &.top-up-card--h5[class][class]{\n        box-sizing: border-box;\n        min-width: 120px;\n        width: auto;\n        height: 120px;\n        border-radius: 4px;\n        &.top-up-card--checked{\n            outline: var(--meta-primary-blue) solid 1px;\n        }\n    }\n    \n    flex: none;\n"]);return M=function(){return e},e}function Z(){var e=(0,a._)(["\n    display: flex;\n    align-items: center;\n    font-size: 24px;\n"]);return Z=function(){return e},e}function T(){var e=(0,a._)(["\n    font-weight: bold;\n    margin: 12px 0 8px 0;\n"]);return T=function(){return e},e}function E(){var e=(0,a._)(["\n    font-size: 14px;\n    color: #1570ef;\n    cursor: pointer;\n    text-decoration: none;\n    &:hover{\n        text-decoration: underline;\n    }\n"]);return E=function(){return e},e}var I=(0,i.memo)(function(e){var t=e.isH5,n=(0,r._)((0,i.useState)(!0),2),a=n[0],c=n[1],f=(0,r._)((0,i.useState)(!1),2),w=f[0],C=f[1],S=(0,r._)((0,i.useState)(null),2),j=S[0],M=S[1],Z=(0,g.f)({includePpt:!1,filter:function(e){return e.name.startsWith("meta_ai_search_bundle_deepresearch")}}),T=(0,k.W)();(0,i.useEffect)(function(){Z.data.length>0&&M(Z.data[0])},[Z.data]);var E=(0,i.useMemo)(function(){var e=new URL(m.l.UserPolicy,"http://dummy.cn");return e.searchParams.set("client",T),T!==k.Z.H5&&e.searchParams.set("noheader","1"),e.href.replace(e.origin,"")},[]),I=(0,i.useCallback)(function(){(0,b.dW)("purchase-product",{product:j,query:T}),T===k.Z.Ios?(0,y.ZP)({type:"purchase-product",value:j}):C(!0)},[T,j]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"mb-4",children:"购买搜索额度（有效期一年）"}),Z.data.map(function(e){var n=(10*e.price/e.origin_price).toFixed(1);return(0,o.jsxs)(R,{className:l()({"top-up-card--h5":t}),noCheckedBadge:t,checked:(null==j?void 0:j._id)===e._id,onClick:function(){return M(e)},children:[(0,o.jsxs)(D,{children:[function(e){var t=String(e);if(t.length>4){var n=t.slice(1),r=Math.floor(n.length/3),a=n.length%3;return"1"+"0".repeat(a)+",000".repeat(r)}return t}(e.extra.unit),"额度"]}),(0,o.jsxs)(P,{children:[(0,o.jsx)("span",{style:{fontSize:"inherit"},children:"￥"}),e.price/100]}),e.price<e.origin_price&&(0,o.jsxs)(L,{children:[n,"折"]})]},e._id)}),t?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(u.Z,{component:"label",sx:{},className:"fr-ac",children:[(0,o.jsx)(_.t,{sx:{ml:-1,svg:{width:20,height:20}},onChange:function(e,t){c(t)},checked:a}),(0,o.jsxs)(h.Z,{sx:{fontSize:12,color:"var(--black4)"},children:["已阅读并同意",(0,o.jsx)(d.Z,{href:E,style:{color:"var(--blue-1)"},children:"用户服务协议"})]})]}),(0,o.jsx)(v.Z,{sx:{mt:1,borderRadius:1,width:1,height:40},onClick:I,disabled:!j||!a,variant:"contained",children:"立即购买"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(N,{children:"支付方式："}),(0,o.jsx)(u.Z,{mt:1,mb:2,children:(0,o.jsx)(p.jg,{value:a,setValue:c})}),a&&(0,o.jsx)(u.Z,{children:(0,o.jsx)(x.D,{onPaid:e.onPaid,product:j})})]})]}),j&&T!==k.Z.Ios&&(0,o.jsx)(s.s,{open:w,product:j,onPay:function(e){C(!1)},onClose:function(){return C(!1)}})]})});t.Z=I;var D=(0,f.ZP)(h.Z)(C()),P=(0,f.ZP)(h.Z)(S()),L=(0,f.ZP)(h.Z)(j()),R=(0,f.ZP)(w.M)(M());(0,f.ZP)("h2")(Z());var N=(0,f.ZP)("p")(T());(0,f.ZP)(d.Z)(E())},5108:function(e,t,n){"use strict";n.d(t,{o4:function(){return B}});var r,a,o,i=n(2403),s=n(5194),c=n(1780),l=n(46796),u=n(50059),h=n(5853),d=n(57437),f=n(75624),_=n(19643),v=n(46387),p=n(78693),x=n(59832),g=n(2265),m=n(39207),k=n(7870),w=n(2473),b=n(60225),y=n(85735),C=function(){function e(t,n,r,a,o){(0,w._)(this,e),this.url=t,this.recordSocketClient=null,this.audioContext=null,this.stream=null,this.scriptProcessor=null,this.mediaSource=null,this.audioData=[],this.recordAppid="a9cf33fa",this.recordStatus=S.END,this.handlerInterval=null,this.resultText="",this.resultTextTemp="",this.delegate=n,this.canvasId=r,this.canvasWidth=a,this.canvasHeight=o,this.recorderStart()}return(0,b._)(e,[{key:"recording",get:function(){return this.recordStatus===S.ING}},{key:"toBase64",value:function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,a=0;a<r;a++)t+=String.fromCharCode(n[a]);return window.btoa(t)}},{key:"connect",value:function(){var e=this;this.recordSocketClient=new WebSocket(this.url),this.recordSocketClient.onopen=function(t){e.delegate.onOpen(),e.recordStatus=S.ING,setTimeout(function(){e.recordWebSocketSend()},200),e.drawAcousticWave()},this.recordSocketClient.onmessage=function(t){e.recordResult(t.data)},this.recordSocketClient.onerror=function(t){e.delegate.onError("socket连接失败")},this.recordSocketClient.onclose=function(t){e.recorderStop()}}},{key:"recordWebSocketSend",value:function(){var e=this;if(null!=this.recordSocketClient&&1===this.recordSocketClient.readyState){var t=this.audioData.splice(0,1280),n={common:{app_id:this.recordAppid},business:{language:"zh_cn",domain:"iat",accent:"mandarin",vad_eos:200,dwa:"wpgs"},data:{status:0,format:"audio/L16;rate=16000",encoding:"raw",audio:this.toBase64(t)}};this.recordSocketClient.send(JSON.stringify(n)),this.handlerInterval=setInterval(function(){if(null==e.recordSocketClient||1!==e.recordSocketClient.readyState){e.audioData=[],clearInterval(e.handlerInterval);return}if(0===e.audioData.length)return e.recordStatus===S.END&&(e.recordSocketClient.send(JSON.stringify({data:{status:2,format:"audio/L16;rate=16000",encoding:"raw",audio:""}})),e.audioData=[],clearInterval(e.handlerInterval)),!1;t=e.audioData.splice(0,1280),e.recordSocketClient.send(JSON.stringify({data:{status:1,format:"audio/L16;rate=16000",encoding:"raw",audio:e.toBase64(t)}}))},40)}}},{key:"recordResult",value:function(e){var t=JSON.parse(e);if(t.data&&t.data.result){for(var n=t.data.result,r="",a=n.ws,o=0;o<a.length;o++)r+=a[o].cw[0].w;n.pgs?("apd"===n.pgs&&(this.resultText=this.resultTextTemp),this.resultTextTemp=this.resultText+r,this.delegate.onRefreshMsg(this.resultTextTemp)):(this.resultText=this.resultText+r,this.delegate.onRefreshMsg(this.resultText))}0===t.code&&2===t.data.status&&(this.delegate.onMsg(this.resultText),this.delegate.onEnd(),this.recordStatus=S.END,this.recordSocketClient.close(),clearInterval(this.handlerInterval)),0!==t.code&&(this.recordSocketClient.close(),clearInterval(this.handlerInterval))}},{key:"setRecordResultText",value:function(e,t){e&&(this.resultText=e,window.postMessage({key:"inputPrompt",value:this.resultText})),t&&(this.resultTextTemp=t)}},{key:"recorderInit",value:function(){var e=this;navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;try{if(this.audioContext=new window.AudioContext,this.audioContext.resume(),!this.audioContext){this.delegate.onError("浏览器不支持webAudioApi相关接口");return}}catch(e){if(!this.audioContext){this.delegate.onError("浏览器不支持webAudioApi相关接口");return}}void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia;return t?new Promise(function(n,r){t.call(navigator,e,n,r)}):Promise.reject(Error("getUserMedia is not implemented in this browser"))});var t=new Date().getTime(),n=!1;if(window.navigator.mediaDevices&&window.navigator.mediaDevices.getUserMedia)window.navigator.mediaDevices.getUserMedia({audio:!0}).then(function(t){try{n=!0,a(t)}catch(t){n=!0,e.delegate.onError(t)}}).catch(function(e){n=!0,o(e)});else if(window.navigator.getUserMedia)window.navigator.getUserMedia({audio:!0}).then(function(t){try{n=!0,a(t)}catch(t){n=!0,e.delegate.onError(t)}}).catch(function(e){n=!0,o(e)});else{navigator.userAgent.toLowerCase().match(/chrome/)&&0>location.origin.indexOf("https://")?this.delegate.onError("chrome下获取浏览器录音功能，因为安全性问题，需要在localhost或127.0.0.1或https下才能获取权限"):this.delegate.onError("无法获取浏览器录音功能，请升级浏览器或使用chrome"),this.audioContext&&this.audioContext.close();return}var r=setInterval(function(){if(n){clearInterval(r);return}new Date().getTime()-t>=2e3&&(e.delegate.onError("请刷新浏览器再使用"),clearInterval(r))},500),a=function(t){e.stream=t,e.scriptProcessor=e.audioContext.createScriptProcessor(0,1,1),e.scriptProcessor.onaudioprocess=function(t){e.recordStatus===S.ING&&e.transcode(t.inputBuffer.getChannelData(0))},e.mediaSource=e.audioContext.createMediaStreamSource(t),e.mediaSource.connect(e.scriptProcessor),e.scriptProcessor.connect(e.audioContext.destination),e.connect()},o=function(t){e.delegate.onError("请求麦克风失败,请在设置中打开麦克风权限"),e.audioContext&&e.audioContext.close(),e.audioContext=null,e.recordSocketClient&&1===e.recordSocketClient.readyState&&e.recordSocketClient.close()}}},{key:"drawAcousticWave",value:function(){if(this.canvasId){var e=document.getElementById(this.canvasId),t=this.audioContext.createAnalyser();t.fftSize=256;var n=new Uint8Array(t.frequencyBinCount);this.mediaSource.connect(t);var r=this;!function a(){if(r.recordStatus===S.ING){t.getByteTimeDomainData(n),t.getByteFrequencyData(n),e.innerHTML="";for(var o=r.canvasWidth/5,i=r.sliceFromList(n,0,o/2-3),s=[],c=i.length-1;c>=0;c--)s.push(i[c]);s=s.concat(i);var l=r.getMinDataFromList(s);s.push(l),s.push(l),s.push(l),s.unshift(l),s.unshift(l),s.unshift(l);for(var u=s.length,h=l/255*r.canvasHeight,d=0;d<u;d++){var f=s[d]/255*r.canvasHeight,_=f-h+1,v=r.canvasHeight/2-(f-h)/2,p=0===d?0:2*d+3*d,x=document.createElement("div");x.style.position="absolute",x.style.background="#8e8e8e",x.style.left=p+"px",x.style.top=v+"px",x.style.height=_+"px",x.style.width="2px",e.appendChild(x)}requestAnimationFrame(a)}}()}}},{key:"getDataFromList",value:function(e,t){for(var n=[],r=e.length/t,a=0;a<e.length;a+=r)n.push(e[a]);return n}},{key:"sliceFromList",value:function(e,t,n){for(var r=[],a=t;a<e.length&&r.length<n;a++)r.push(e[a]);return r}},{key:"getMinDataFromList",value:function(e){var t=e[0],n=!0,r=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var s=o.value;s<t&&(t=s)}}catch(e){r=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}return t}},{key:"getMaxDataFromList",value:function(e){var t=e[0],n=!0,r=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var s=o.value;s>t&&(t=s)}}catch(e){r=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}return t}},{key:"transcode",value:function(e){var t,n=this.to16kHz(e);n=Array.from(new Uint8Array((n=this.to16BitPCM(n)).buffer)),(t=this.audioData).push.apply(t,(0,y._)(n))}},{key:"to16kHz",value:function(e){var t=new Float32Array(e),n=Math.round(t.length*(16e3/44100)),r=new Float32Array(n),a=(t.length-1)/(n-1);r[0]=t[0];for(var o=1;o<n-1;o++){var i=o*a,s=Math.floor(i).toFixed(),c=Math.ceil(i).toFixed(),l=i-s;r[o]=t[s]+(t[c]-t[s])*l}return r[n-1]=t[t.length-1],r}},{key:"to16BitPCM",value:function(e){for(var t=new DataView(new ArrayBuffer(2*e.length)),n=0,r=0;r<e.length;r++,n+=2){var a=Math.max(-1,Math.min(1,e[r]));t.setInt16(n,a<0?32768*a:32767*a,!0)}return t}},{key:"recorderStart",value:function(){this.resultText="",this.resultTextTemp="",this.audioData=[],clearInterval(this.handlerInterval),this.audioContext?(this.audioContext.resume(),this.connect()):this.recorderInit()}},{key:"recorderStop",value:function(){this.stream&&(this.stream.getTracks().forEach(function(e){e.stop()}),this.stream=null),this.resultText=this.resultTextTemp,this.recordStatus!=S.END&&(this.recordStatus=S.END,this.delegate.onEnd())}}]),e}(),S={ING:"ing",END:"end"},j=n(94746);function M(){return(M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var Z=function(e){return j.createElement("svg",M({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"none",viewBox:"0 0 25 25"},e),r||(r=j.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.667,d:"M19.33 10.602v2a7 7 0 0 1-7 7m-7-9v2a7 7 0 0 0 7 7m0 0v3m-4 0h8m-4-7a3 3 0 0 1-3-3v-7a3 3 0 0 1 6 0v7a3 3 0 0 1-3 3"})))},T=n(54632),E=n(22322);function I(){return(I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var D=function(e){return j.createElement("svg",I({xmlns:"http://www.w3.org/2000/svg",width:28,height:27,fill:"none",viewBox:"0 0 28 27"},e),a||(a=j.createElement("path",{fill:"currentColor",d:"M13.869 16.86c2.64 0 4.8-2.16 4.8-4.8V6.3c0-2.64-2.16-4.8-4.8-4.8s-4.8 2.16-4.8 4.8v5.76c0 2.64 2.16 4.8 4.8 4.8"})),o||(o=j.createElement("path",{fill:"currentColor",d:"M22.407 13.392a.96.96 0 0 0-.801-1.095.96.96 0 0 0-1.095.801c-.504 3.24-3.357 5.682-6.642 5.682s-6.141-2.445-6.642-5.685a.96.96 0 1 0-1.896.294 8.58 8.58 0 0 0 7.578 7.254v2.937h-2.88a.959.959 0 1 0 0 1.92h7.68a.959.959 0 1 0 0-1.92h-2.88v-2.937a8.58 8.58 0 0 0 7.578-7.251"})))},P=n(74634),L=n(26058),R=n(54493),N=n(11183);function B(e){var t,n,r,a,o,c,l,f,_,v,p,x,w,b,y,S,j,M,Z=(0,u._)((0,g.useState)(!1),2),T=Z[0],I=Z[1],D=(t=(0,g.useDeferredValue)(T),r=(n=(0,u._)((0,g.useState)(""),2))[0],a=n[1],c=(o=(0,u._)((0,g.useState)(!H),2))[0],l=o[1],_=(f=(0,u._)((0,g.useState)(!1),2))[0],v=f[1],x=(p=(0,u._)((0,g.useState)(!1),2))[0],w=p[1],b=(0,g.useRef)(!1),S=(y=(0,u._)((0,g.useState)(!1),2))[0],j=y[1],(0,g.useEffect)(function(){T&&!t&&a("")},[T]),M=(0,g.useRef)({onOpen:function(){},onError:function(e){v(!1),j(!0),(0,E.y)("语音识别异常：".concat(e),{variant:"error"})},onMsg:function(e){a(e)},onEnd:function(){if(b.current){b.current=!1;return}w(!0)},onRefreshMsg:function(e){a(e)}}),(0,g.useEffect)(function(){if(T){b.current=!1,w(!1),j(!1);var e=new AbortController;if(!F||new Date().getTime()-O>2e5)l(!0),(0,m.oTN)(e.signal).then(R.Jj).then(function(t){if(!e.signal.aborted){F=t.data.data,O=new Date().getTime();var n=window.innerWidth;H=new C(F,M.current,"waveformCanvas",n-56,80)}}).catch(function(e){if(!(0,k.D_)(e))throw e}).finally(function(){l(!1)});else{var t=window.innerWidth;H=new C(F,M.current,"waveformCanvas",t-56,80)}return function(){b.current=!0,null==H||H.recorderStop(),e.abort("cancel"),l(!1)}}},[T]),{loading:c,processedMsg:r,socketOpen:_,finished:x,initError:S}),B=D.processedMsg,U=D.loading,W=D.finished,q=D.initError;(0,g.useEffect)(function(){if(W&&T&&(I(!1),B)){var t;null===(t=e.onChange)||void 0===t||t.call(e,B)}},[W]),(0,g.useEffect)(function(){q&&I(!1)},[q]);var V=function(t){var n=t+"?1=1";return e.isFollowUpQuestion&&(n="".concat(t,"?page=").concat(window.location.href)),e.activeEngine&&(n+="&et=".concat(e.activeEngine)),e.searchTopicId&&(n+="&sti=".concat(e.searchTopicId)),n};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(A,(0,s._)({iconVariant:e.iconVariant,loading:U,sx:{color:"var(--meta-text-gray)"}},(0,P.mY)(function(){var e=(0,L.ZD)();e.isMiniWebView?(0,i._)(function(){var e;return(0,h.Jh)(this,function(t){switch(t.label){case 0:return[4,(0,N.mH)()];case 1:return null===(e=t.sent().miniProgram)||void 0===e||e.navigateTo({url:V("/pages/voice")}),[2]}})})():e.isAliApp?my.navigateTo({url:V("/pages/voice/voice")}):I(!0)}))),(0,d.jsx)(z,{open:T&&!U,processedMsg:B,onCancel:function(){I(!1)}})]})}function z(e){var t=(0,g.useCallback)(function(){var t;null===(t=e.onCancel)||void 0===t||t.call(e)},[e.onCancel]);return(0,d.jsx)(f.ZP,{open:e.open,anchor:"bottom",sx:{"&.MuiPaper-root":{borderRadius:"10px 10px 0 0",height:"min(370px, 70vh)"}},onClose:t,children:(0,d.jsx)(U,{onCancel:t,processedMsg:e.processedMsg})})}function U(e){var t=(0,g.useCallback)(function(){var t;null===(t=e.onCancel)||void 0===t||t.call(e)},[e.onCancel]);return(0,d.jsxs)(_.Z,{sx:{py:2.75,px:3.5},alignItems:"center",children:[(0,d.jsx)(v.Z,{sx:{color:"var(--black2)",textAlign:"center",fontSize:e.processedMsg&&e.processedMsg.length<20?"20px":"16px",fontStyle:"normal",fontWeight:700,lineHeight:"1.4em",height:85,overflowY:"auto"},children:e.processedMsg||"告诉我你想搜什么"}),(0,d.jsx)(p.Z,{sx:{mt:1,width:1},className:"speech-recognition-drawer-indicator",children:(0,d.jsx)("div",{id:"waveformCanvas",style:{width:"100%",height:"80px",position:"relative"}})}),(0,d.jsx)(T.Z,{sx:{mt:5,color:"var(--black)",borderRadius:"3px",border:"1px solid #475467",width:132,boxSizing:"border-box"},variant:"outlined",color:"action1",onClick:t,children:"取消"})]})}function A(e){e.loading;var t=e.iconVariant,n=(0,l._)(e,["loading","iconVariant"]);return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(x.Z,(0,c._)((0,s._)({},n),{children:"outlined"===(void 0===t?"outlined":t)?(0,d.jsx)(Z,{style:{width:24,height:24}}):(0,d.jsx)(D,{style:{width:24,height:24}})}))})}var H=null,F=null,O=new Date().getTime()},69161:function(e,t,n){"use strict";n.d(t,{HO:function(){return _}});var r,a,o=n(2403),i=n(5194),s=n(5853);n(57437);var c=n(2265),l=n(39207);n(54632),n(40100),n(53820),n(62568),n(7870),n(36760),n(23760);var u=n(75825);n(79943),n(79078),n(77630),n(99376),n(22322);var h=n(60639),d=n(64798),f=n.n(d);n(54493),n(89831),(0,o._)(function(e){var t,n,r;return(0,s.Jh)(this,function(a){switch(a.label){case 0:return new URLSearchParams(location.hash),(t=(0,i._)({},e)).tableTweakOptionMap&&(n=Object.entries(e.tableTweakOptionMap).filter(function(t){return t[0].indexOf(e.sessionId)>-1}),t.tableTweakOptionMap=Object.fromEntries(n)),[4,(0,l.mgk)(t)];case 1:return r=a.sent(),[2,location.origin+"".concat(u.l.SearchResult,"?session=")+r.data.data.id+"&share=true"]}})});var _=(0,c.createContext)(null);f()(function(e,t,n,r){(0,l.O0j)(e,t,n,r).then(function(e){})},1e3),f()(function(e,t,n,r,a){(0,l.M8n)(e,t,n,r,a).then(function(e){})},1e3),(r=a||(a={})).CASE="case",r.ANALYZE="analyze",r.LAW="law",(0,h.E)()},19120:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(57437),a=n(78693),o=n(59832),i=n(46387),s=n(44903),c=n(25590);function l(e){var t=e.showCloseBtn,n=e.showBackBtn;return(0,r.jsxs)(a.Z,{className:"fr-ac",sx:{height:50,borderBottom:"1px solid var(--border-color2)",justifyContent:"space-between"},children:[e.leftSlot||(void 0===n||n?(0,r.jsx)(o.Z,{onClick:e.onBack,children:(0,r.jsx)(s.Z,{style:{color:"var(--black)"}})}):(0,r.jsx)(a.Z,{sx:{width:40}})),e.middleSlot||(0,r.jsx)(i.Z,{sx:{fontSize:16,fontWeight:700},children:e.title}),e.rightSlot||(void 0===t||t?(0,r.jsx)(c.P,{onClick:e.onClose,placeStrategy:"static",sx:{width:40,height:40,color:"#98A2B3"}}):(0,r.jsx)(a.Z,{sx:{width:40}}))]})}},39293:function(e,t,n){"use strict";n.d(t,{M:function(){return i},Z:function(){return s}});var r=n(45008),a=n(16210);function o(){var e=(0,r._)(["\n    display: flex;\n    align-items: center ;\n"]);return o=function(){return e},e}var i={Container:"meta-selector-v2-container",List:"meta-selector-v2-list",ListItem:"meta-selector-v2-list-item",Arrow:"meta-selector-v2-arrow",Opened:"meta-selector-v2--opened",Selected:"meta-selector-v2--selected"},s=(0,a.ZP)("div")(o())},98374:function(e,t,n){"use strict";n.d(t,{k:function(){return m}});var r=n(2403),a=n(5194),o=n(46796),i=n(50059),s=n(85735),c=n(5853),l=n(57437),u=n(2265),h=n(78693),d=n(74634),f=n(2772),_=n.n(f),v=n(7870),p=n(2644),x=n.n(p),g=function(e){return[e.currentTarget.selectionStart,e.currentTarget.selectionEnd]},m=(0,u.forwardRef)(function(e,t){var n,f=e.value,p=e.classes,m=e.icon,k=e.sx,w=e.onPaste,b=e.onIconClick,y=e.onKeyDown,C=e.onChange,S=e.maxLength,j=e.onCompositionEnd,M=e.onCompositionStart,Z=(0,o._)(e,["value","classes","icon","sx","onPaste","onIconClick","onKeyDown","onChange","maxLength","onCompositionEnd","onCompositionStart"]),T=(0,d.a8)(),E=(0,u.useRef)({value:"",selection:[0,0]}),I=(0,u.useRef)(null),D=(0,i._)((0,d.j5)({value:f,selection:[0,0]},{afterStackChange:function(e,t,n,r){e&&_()(function(){var t;(t=I.current).setSelectionRange.apply(t,(0,s._)(e.selection)),I.current.blur(),I.current.focus()})}}),5),P=D[0],L=D[1],R=(D[2],D[3]);D[4],(0,u.useEffect)(function(){var e=I.current.value;e&&L({value:e,selection:[e.length,e.length]})},[]),(0,u.useEffect)(function(){T&&f!==P.value&&L({value:f,selection:[f.length,f.length]})},[f]),(0,u.useLayoutEffect)(function(){T&&(null==C||C(P.value))},[P.value]),(0,u.useRef)(null),(0,u.useImperativeHandle)(t,function(){return{clear:function(){L({value:"",selection:[0,0]})},textareaRef:I}},[]);var N=function(e){return S&&e.length>S&&(e=e.substring(0,S)),e};return(0,l.jsxs)(h.Z,{sx:(0,a._)({py:"13px"},k),className:(0,v.zk)([null==p?void 0:p.root,"textarea-root",x()["search-consult-textarea-root"]]),children:[m&&(0,l.jsx)("div",{style:{display:"flex",alignItems:"center"},className:x()["search-consult-textarea-icon"],onClick:b,children:m}),(0,l.jsx)("textarea",(0,a._)({ref:I,autoComplete:"off",value:P.value,maxLength:S,onChange:function(e){L({value:N(e.currentTarget.value),selection:g(e)})},onCompositionStart:function(e){null==M||M(e),E.current={value:N(e.currentTarget.value),selection:g(e)},R.switch(!1)},onCompositionEnd:function(e){null==j||j(e),R.switch(!0),N(e.currentTarget.value)!==E.current.value&&R.getStacks().undo.push(E.current)},onKeyDown:function(e){null==y||y(e),"Redo"===e.key?(R.redo(),e.preventDefault()):"Undo"===e.key?(R.undo(),e.preventDefault()):e.ctrlKey&&("Z"===e.key.toUpperCase()?(e.shiftKey?R.redo():R.undo(),e.preventDefault()):"Y"===e.key.toUpperCase()&&(R.redo(),e.preventDefault()))},onPaste:(n=(0,r._)(function(e){var t,n;return(0,c.Jh)(this,function(r){return e.preventDefault(),null==w||w(e),t=e.currentTarget,n=e.clipboardData.getData("text"),setTimeout(function(){try{var e=P.value.replace(/\r/g,""),r=t.value.replace(/\r/g,"");if(e===r){var a=n.replaceAll(/([\r\t]*\n){2,}/g,"\n"),o=t.value,i=t.selectionStart,s=t.selectionEnd,c=o.slice(0,i)+a+o.slice(s);c=N(c),t.value=c;var l=i+a.length;t.setSelectionRange(l,l),L({value:c,selection:[,,].fill(l)}),t.blur(),t.focus()}}catch(e){}},5),[2]})}),function(e){return n.apply(this,arguments)}),className:(0,v.zk)([null==p?void 0:p.textarea,"search-consult-textarea",x()["search-consult-textarea"]])},Z))]})});m.displayName="TextArea"},8620:function(e,t,n){"use strict";n.d(t,{ge:function(){return N},mE:function(){return R},qv:function(){return B},yV:function(){return L}});var r=n(12249),a=n(5194),o=n(1780),i=n(50059),s=n(45008),c=n(98158),l=n(57437),u=n(78693),h=n(75624),d=n(8350),f=n(19643),_=n(35108),v=n(46387),p=n(16210),x=n(2265),g=n(23760),m=n(36760),k=n.n(m),w=n(48359),b=n.n(w),y=n(54632),C=n(19120),S=n(43180),j=n(11741),M=n(39293),Z=n(20144),T=n(13708),E=n(7870),I=n(75887);function D(){var e=(0,s._)(["\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n    min-width: 0;\n\n    .","."," > & {\n        color: #1570Ef;\n    }\n"]);return D=function(){return e},e}var P=[{name:"极速",des:"快如闪电，直给答案",value:""},{name:"极速\xb7思考",des:"快速思考，智力在线",value:"fast_thinking"},{name:"长思考\xb7R1",des:"DeepSeek-R1-0528模型",value:"ds-r1"}],L=P;function R(e){return(0,l.jsxs)(y.Z,{ref:e._ref,sx:(0,a._)({p:1,cursor:"default"},e.sx),onClick:function(t){var n;null===(n=e.onClick)||void 0===n||n.call(e,t)},className:k()(b()["search-range"]),children:[(0,l.jsx)(u.Z,{sx:{margin:"0 10px 0 0"},className:b()["active-range-name"],children:e.name}),(0,l.jsx)(u.Z,{className:e.dropDownVisible?b().expand:b().collapse,children:(0,l.jsx)("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M1 1.5L6 6.5L11 1.5",stroke:"#98A2B3",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})}var N=(0,x.forwardRef)(function(e,t){var n=(0,i._)((0,x.useState)(!1),2),r=n[0],a=n[1],o=e.models;return(0,x.useImperativeHandle)(t,function(){return{setOpen:a}},[]),(0,l.jsxs)(h.ZP,{open:r,onClose:function(){var t;a(!1),null===(t=e.onDrawerClose)||void 0===t||t.call(e)},keepMounted:!0,anchor:"bottom",sx:{"& .MuiPaper-root":{maxHeight:"80vh",overflowY:"hidden"}},children:[(0,l.jsx)(C.Z,{title:"选择模型",showBackBtn:!1,onClose:function(){var t;a(!1),null===(t=e.onDrawerClose)||void 0===t||t.call(e)},showCloseBtn:!1,onBack:function(){var t;a(!1),null===(t=e.onDrawerClose)||void 0===t||t.call(e)}}),(0,l.jsx)(u.Z,{className:"flex-auto-height",sx:{p:1,overflowY:"auto"},children:e.options.map(function(t,n){var r=e.value===t.value;return(0,l.jsxs)(x.Fragment,{children:[(0,l.jsx)(T.NP,{checked:r,startSlot:(0,l.jsx)(T.db,{sx:{color:r?"primary.main":"var(--black)"},children:t.label}),sx:{height:64},onClick:function(n){e.onModelChange(t.value),a(!1)}}),n!==o.length-1&&(0,l.jsx)(d.Z,{sx:{borderColor:"var(--border-color2)"}})]},t.value)})})]})});function B(e){var t=(0,i._)((0,x.useState)(e.model||""),2),n=t[0],s=t[1];(0,x.useEffect)(function(){void 0===e.model||null===e.model?s(g.LM.getState().model||""):s(e.model)},[e.model]);var h=(0,i._)((0,x.useState)(!1),2),p=h[0],m=h[1],w=(0,x.useRef)(null),b=(0,x.useRef)(null),y=(0,i._)((0,S.gZ)(m,50,{anchor:b.current}),2)[1],C=(0,x.useMemo)(function(){return P.map(function(e,t){return{value:e.value,displayLabel:e.name,label:(0,l.jsxs)(f.Z,{children:[(0,l.jsx)(u.Z,{children:e.name}),(0,l.jsx)(u.Z,{sx:{fontSize:"12px",opacity:.5},children:e.des})]})}})},[]),T=(0,x.useMemo)(function(){return P.find(function(e){return e.value===n})||P[0]},[n]),D=(0,I.Q)().defaultMode;return"research"===D||e.isH5&&"think-research"===D?(0,l.jsx)(u.Z,{}):(0,l.jsxs)(f.Z,{ref:b,sx:e.isH5?(0,E.Vc)({marginRight:"10px"},e.sx):(0,E.Vc)({margin:"0 10px"},e.sx),className:"fr-ac",children:[(0,l.jsx)(R,{sx:e.isH5?{padding:0}:void 0,dropDownVisible:p,name:T.name,onClick:function(){if(e.isH5){var t;null===(t=w.current)||void 0===t||t.setOpen(!0)}else m(!0)}}),e.isH5?(0,l.jsx)(N,{models:P,onModelChange:function(t){e.onModelChange(t),g.LM.getState().setModel(t),s(t)},value:T.value,ref:w,options:C}):(0,l.jsx)(S.ZP,(0,o._)((0,a._)({noPortal:!1,zIndex:2202,open:p,anchor:b.current},y),{children:(0,l.jsxs)(_.Z,{children:[(0,l.jsx)(v.Z,{sx:{p:"0 12px",fontSize:"10px",fontWeight:700,color:"#98A2B3"},children:"选择模型"}),C.map(function(t,a){var o=["string","number","bigint"].includes((0,c._)(t.value))?t.value:a,i=n===t.value;return(0,l.jsxs)(x.Fragment,{children:[(0,l.jsxs)(j.Z,{className:k()(M.M.ListItem,(0,r._)({},M.M.Selected,i)),onClick:function(){g.LM.getState().setModel(t.value),s(t.value),m(!1),e.onModelChange&&e.onModelChange(t.value)},children:[(0,l.jsx)(z,{className:"meta-selector-option--label",children:t.label}),(0,l.jsx)(M.Z,{className:"meta-selector-option--suffix",sx:{pl:1,ml:"auto",width:20,height:20},children:i&&(0,l.jsx)(Z.Z,{})})]}),1===a&&(0,l.jsx)(d.Z,{sx:{borderColor:"var(--border-color2)"}})]},o)})]})}))]})}var z=(0,p.ZP)(M.Z)(D(),M.M.ListItem,M.M.Selected)},75887:function(e,t,n){"use strict";n.d(t,{Q:function(){return o}});var r=n(50059),a=n(36570);function o(){return{defaultMode:(0,r._)((0,a.Rr)("defaultMode",!0),1)[0]}}},13708:function(e,t,n){"use strict";n.d(t,{$q:function(){return T},NP:function(){return C},V9:function(){return S},cu:function(){return M},d4:function(){return y},db:function(){return Z},nQ:function(){return E},ud:function(){return j}});var r=n(5194),a=n(1780),o=n(46796),i=n(50059),s=n(45008),c=n(57437),l=n(11741),u=n(2265),h=n(16210),d=n(78693),f=n(44903),_=n(20144),v=n(43180),p=n(23048),x=n(36760),g=n.n(x),m=n(7870),k=n(75825);function w(){var e=(0,s._)(["\n    font-size: 16px;\n    font-weight: 400;\n    line-height: 24px;\n    text-wrap: nowrap;\n    margin-left: 8px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n"]);return w=function(){return e},e}function b(){var e=(0,s._)(["\n    text-overflow: ellipsis;\n    overflow: hidden;\n    flex-grow: 0;\n    font-size: 12px;\n"]);return b=function(){return e},e}var y=(0,u.forwardRef)(function(e,t){var n=e.startSlot,i=e.endSlot,s=e.sx,h=e.className,d=(0,o._)(e,["startSlot","endSlot","sx","className"]),f=(0,u.useRef)(null);return(0,u.useImperativeHandle)(t,function(){return f.current}),(0,c.jsxs)(l.Z,(0,a._)((0,r._)({ref:f,className:g()(h,"meta-setting-item"),sx:(0,r._)({p:"5px 10px",justifyContent:"space-between",alignItems:"center",overflow:"hidden",height:34},s)},d),{children:[n,i]}))});function C(e){var t=e.checked,n=(0,o._)(e,["checked"]);return(0,c.jsx)(y,(0,a._)((0,r._)({},n),{endSlot:t&&(0,c.jsx)(_.Z,{style:{flexShrink:0}})}))}function S(e){var t=e.popoverContent,n=e.beforeEndSlot,s=(0,o._)(e,["popoverContent","beforeEndSlot"]),l=(0,i._)((0,u.useState)(!1),2),h=l[0],d=l[1],_=(0,i._)((0,v.gZ)(d,200),2),x=_[0],g=_[1],m=(0,i._)((0,u.useState)(null),2),k=m[0],w=m[1];return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(y,(0,a._)((0,r._)({},s,x),{ref:w,endSlot:(0,c.jsxs)(p.K,{sx:{overflow:"hidden"},children:[n,(0,c.jsx)(f.Z,{style:{width:24,height:24,color:"#98a2b3",transform:"rotate(-180deg)",flexShrink:0},className:"popover-setting-arrow-icon"})]})})),(0,c.jsx)(v.ZP,(0,a._)((0,r._)({placement:"right-start",noPortal:!0,anchor:k,open:h},g),{sxs:{position:{marginLeft:"6px"}},children:t}))]})}function j(e){var t=e.engineType,n=(0,o._)(e,["engineType"]),a=(0,u.useMemo)(function(){return(0,m.CU)(t)},[t]);return(0,c.jsx)(C,(0,r._)({startSlot:(0,c.jsxs)(p.K,{children:[(0,c.jsx)(p.K,{sx:{width:20,height:20},children:(0,c.jsx)(M,{fill:a.fill,stroke:a.stroke})}),(0,c.jsx)(Z,{sx:{color:n.checked?"primary.main":"var(--black)"},children:a.name})]})},n))}function M(e){return(0,c.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("circle",{cx:"6",cy:"6",r:"4.5",fill:e.fill,stroke:e.stroke,strokeWidth:"3"})})}var Z=(0,h.ZP)(d.Z)(w()),T=(0,h.ZP)(Z)(b()),E=function(e){(0,u.useLayoutEffect)(function(){var t=new URL(location.href),n=t.searchParams.get("et");t.pathname===k.l.Home&&n&&e(n)},[])}},77630:function(e,t,n){"use strict";var r=n(12249),a=n(5194),o=n(1780),i=n(50059),s=n(45008),c=n(57437),l=n(2644),u=n.n(l),h=n(2265),d=n(46075),f=n.n(d),_=n(7870),v=n(78693),p=n(19643),x=n(16210),g=n(59832),m=n(54632),k=n(14003),w=n(36760),b=n.n(w),y=n(74634),C=n(5108),S=n(89051),j=n(98374),M=n(68956),Z=n(8620);function T(){var e=(0,s._)(["\n  padding:  8px;\n  color: var(--send-btn-bg);\n  & svg{\n    width: 30px;\n    height: 30px;\n  }\n  &:hover{\n    color: var(--send-btn-bg-hover);\n  }\n  &:active{\n    color: var(--send-btn-bg-active);\n  }\n  &[disabled]{\n    color: var(--meta-text-gray) !important;\n  }\n"]);return T=function(){return e},e}var E=(0,h.forwardRef)(function(e,t){var n,o,s=e.onSubmit,l=e.boxShadow,d=e.autoFocus,f=e.isH5,x=(e.enableAudio,e.placeholder),g=e.allowH5ShowBottomLeftSlot,k=e.onArgumentChange,w=e.bottomLeftSlot,b=e.sx,T=(0,i._)((0,h.useState)(""),2),E=T[0],D=T[1],P=(0,i._)((0,h.useState)(""),2),L=P[0],R=P[1],N=(0,i._)((0,h.useState)(""),2),B=N[0],z=N[1],U=(0,h.useRef)(E),A=function(){(e.allowEmpty||E.trim()||L.trim())&&(U.current="",s([E,L,B]))};(0,M.cF)();var H=(0,y.I1)(A),F=(0,y.a8)(),O=(0,i._)((0,h.useState)({}),2),W=(O[0],O[1]);(0,h.useEffect)(function(){F&&W({})},[F]);var q=(0,i._)((0,h.useState)(!1),2),V=q[0],G=q[1],K=(0,h.useRef)("external"),Q=(0,h.useRef)(null),J=(0,h.useRef)(null),Y=(0,i._)((0,h.useState)(!1),2),X=Y[0],$=Y[1],ee=(0,i._)((0,y.U8)(e.disabled,!1,{isControlled:!1}),2),et=ee[0],en=ee[1],er=(0,h.useRef)(null);return(0,h.useEffect)(function(){"external"===K.current&&F&&(L.length?G(!1):G(!0))},[L,E]),(0,h.useEffect)(function(){U.current=E},[E]),(0,h.useEffect)(function(){if(null===(t=e.cache)||void 0===t?void 0:t.open){var t,n=e.cache.id;D(sessionStorage.getItem(n)||"")}},[]),(0,h.useEffect)(function(){var e,t,n=(null===(t=Q.current)||void 0===t?void 0:null===(e=t.textareaRef.current)||void 0===e?void 0:e.value)||"";D(n),null==k||k(n)},[]),(0,h.useEffect)(function(){if(e.cache){var t=e.cache,n=t.id;if(!t.open){sessionStorage.removeItem(n);return}return function(){if(!U.current){sessionStorage.removeItem(n);return}sessionStorage.setItem(n,U.current)}}},[null===(n=e.cache)||void 0===n?void 0:n.open]),(0,h.useEffect)(function(){var t=function(){window.removeEventListener("beforeunload",t);var n,r=null===(n=e.cache)||void 0===n?void 0:n.id;r&&sessionStorage.removeItem(r)};window.addEventListener("beforeunload",t)},[null===(o=e.cache)||void 0===o?void 0:o.id]),(0,h.useImperativeHandle)(t,function(){return{setArgumentText:function(e){return K.current="external",D(e)},setLawText:function(e){return K.current="external",R(e)},setEngineType:function(e){return K.current="external",z(e)},getTexts:function(){return[E,L,B]},setDisabled:function(e){en(e)},showToolTips:function(){$(!0),er.current&&clearTimeout(er.current),er.current=setTimeout(function(){$(!1),er.current=null},3e3)},submit:A,argumentRef:Q,lawRef:J,resetCacheText:function(){return U.current=""}}},[E,L,B]),(0,c.jsxs)(v.Z,{component:"form",onSubmit:function(e){A(),e.preventDefault()},className:(0,_.zk)([u()["search-consult-input-wrapper"]],(0,r._)({},u().shadow,void 0===l||l)),sx:(0,a._)({},b),children:[(0,c.jsx)(j.k,(0,a._)({sx:{"& textarea":{width:"100%"},pl:"20px",pr:"0",color:E?"black":"#667085","&[class]":{minWidth:V?"calc(100% - 110px)":"invalid"},"& textarea::placeholder":{color:"#667085"}},icon:null,disabled:et,ref:Q,autoFocus:void 0===d||d,value:E,onKeyUp:function(t){var n;null===(n=e.onKeyUp)||void 0===n||n.call(e,t),K.current="user"},onFocus:function(){K.current="user"},onChange:function(e){"user"===K.current&&(null==k||k(e)),D(e),K.current="user"},placeholder:void 0===x?"点击输入争议焦点":x},H)),(0,c.jsxs)(p.Z,{direction:"row",justifyContent:f?"flex-end":"space-between",alignItems:"center",onClick:function(e){var t,n;e.stopPropagation(),null===(n=Q.current)||void 0===n||null===(t=n.textareaRef.current)||void 0===t||t.focus()},children:[f?(0,c.jsxs)(c.Fragment,{children:[void 0!==g&&g&&(0,c.jsx)(v.Z,{sx:{mr:"auto"},children:w}),F&&(0,c.jsx)(Z.qv,{model:e.model,onModelChange:e.onModelChange,isH5:e.isH5,sx:{mr:"auto"}}),(0,c.jsx)(v.Z,{sx:{flex:1}}),(0,c.jsx)(C.o4,{searchTopicId:e.searchTopicId,activeEngine:e.activeEngine,iconVariant:"filled",onChange:function(e){D(e),s([e,L,B])}})]}):(0,c.jsxs)(p.Z,{direction:"row",alignItems:"center",spacing:1,children:[w,E&&e.showDelete&&(0,c.jsx)(m.Z,{variant:"text",sx:{color:"var(--content-op-color)",fontSize:"14px",fontWeight:400},onClick:function(){var e,t;D(""),null===(t=Q.current)||void 0===t||null===(e=t.textareaRef.current)||void 0===e||e.focus()},children:"清空"})]}),!f&&(0,c.jsx)(v.Z,{sx:{flex:1}}),e.hideSearchIcon?(0,c.jsx)(v.Z,{sx:{height:"46px"}}):(0,c.jsxs)(c.Fragment,{children:[e.bottomRightSlot,(0,c.jsx)(S.Z,{classes:{tooltip:"custom-tooltip-popper",arrow:"custom-tooltip-arrow"},open:X,PopperProps:{style:{zIndex:9999}},placement:"top",arrow:!0,title:"点击发送问题",children:(0,c.jsx)(v.Z,{children:(0,c.jsx)(I,{sx:{mr:-1},onClick:function(e){e.stopPropagation(),e.preventDefault(),A()},disabled:!(e.allowEmpty||E.trim())})})})]})]})]})});E.displayName="SearchConsultTextarea";var I=(0,x.ZP)(function(e){return(0,c.jsx)(g.Z,(0,o._)((0,a._)({className:b()(e.className,"send-arrow-button")},f()(e,"className")),{children:(0,c.jsx)(k.Z,{})}))},{name:"sendArrow"})(T());t.Z=E},79078:function(e,t,n){"use strict";n.d(t,{MQ:function(){return y},qZ:function(){return b},Iu:function(){return C}});var r,a,o=n(50059),i=n(57437),s=n(78693),c=n(46387),l=n(40100),u=n(74634),h=n(2265),d=n(84741),f=n(25590),_=n(79943),v=n(75825),p=n(7870),x=n(26058),g=n(53820),m=n(8085),k=(0,h.memo)((0,h.forwardRef)(function(e,t){var n=e.onClose,r=(0,u.F)();return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(l.k,{maskSx:{zIndex:"299 !important"},open:!0,onClose:n,className:"".concat(r?"w-full":"w-[520px] min-h-120"),children:[(0,i.jsx)(g._$,{title:"充值",onClose:n}),(0,i.jsx)(m.Z,{isH5:r,onPaid:n})]})})}));function w(e){return(0,h.useEffect)(function(){(0,p.dW)("membership-upgrade-dialog",{client:(0,x.Fk)()})},[]),(0,i.jsxs)(l.k,{maskSx:{zIndex:"200 !important"},sx:{backgroundColor:"var(--gray)",padding:"0 !important",overflow:"hidden"},open:!0,onClose:e.onClose,children:[(0,i.jsxs)(s.Z,{sx:{height:60,justifyContent:"space-between",px:2,bgcolor:"var(--white-gray-2)",borderBottom:"1px solid var(--border-color2)"},className:"fr-ac",children:[(0,i.jsx)(s.Z,{display:"flex",alignItems:"center",children:(0,i.jsx)(c.Z,{sx:{fontSize:20,fontWeight:"bold"},mr:1,children:"升级方案"})}),(0,i.jsx)(f.P,{placeStrategy:"static",onClick:e.onClose})]}),(0,i.jsx)(s.Z,{sx:{px:3,py:2},children:(0,i.jsx)(d.kB,{})})]})}function b(){a(!0)}var y=function(){var e=(0,o._)((0,h.useState)(!1),2),t=e[0],n=e[1],c=(0,o._)((0,h.useState)(!1),2),l=c[0],d=c[1];r=n,a=d;var f=(0,h.useCallback)(function(){r(!1)},[]);(0,h.useEffect)(function(){u.mk&&l&&(m.push(v.l.h5SearchCreditCharge),a(!1))},[l]);var x=(0,h.useCallback)(function(){a(!1)},[]),g=(0,u.F)(),m=(0,_.WS)();(0,h.useEffect)(function(){u.mk&&t&&(m.push(v.l.H5Membership),r(!1))},[t]);var b=(0,h.useCallback)(function(){(0,p.dW)("UpgradeDialog-goToOrderManage",{}),m.push(v.l.OrderManage),f()},[f]);return g?(0,i.jsx)(i.Fragment,{}):(0,i.jsxs)(s.Z,{className:"meta-upgrade-root",sx:{position:"fixed",top:0,left:0},children:[t&&(0,i.jsx)(w,{onClose:f,onManage:b}),l&&(0,i.jsx)(k,{onClose:x})]})};function C(){r(!0)}},48359:function(e){e.exports={"reference-dot":"search-kits_reference-dot__0Dldr",active:"search-kits_active__Pn0cx","doc-subject-btn":"search-kits_doc-subject-btn__RcOO_","doc-reference-dot":"search-kits_doc-reference-dot__OGFwr","table-reference":"search-kits_table-reference__XHHjt","select-none-text":"search-kits_select-none-text__Bbovy","select-none-text-pc":"search-kits_select-none-text-pc__mrEI0","num-bracket":"search-kits_num-bracket__4N68S","search-box":"search-kits_search-box__x8bDM","search-box-v2":"search-kits_search-box-v2__J27j7","search-box-h5":"search-kits_search-box-h5__BSkJA","search-box-desktop":"search-kits_search-box-desktop__h7Bzi","search-box-tag":"search-kits_search-box-tag__vQXsk","menu-item":"search-kits_menu-item__D9SWz","home-search-box":"search-kits_home-search-box__k3GoF",rightToolTabTitle:"search-kits_rightToolTabTitle__wQYhR",centerBox:"search-kits_centerBox__guu55",rightToolMenuItemContainer:"search-kits_rightToolMenuItemContainer__B2HRT",divider:"search-kits_divider__zQagA",rightToolMenuItem:"search-kits_rightToolMenuItem__d2Hd_",eventDesTag:"search-kits_eventDesTag__A5Nnn","pc-event-box":"search-kits_pc-event-box__SirOb","h5-event-time-box":"search-kits_h5-event-time-box__yMZpB","h5-event-time":"search-kits_h5-event-time__dmzFG","h5-event-name":"search-kits_h5-event-name__uaWiW","search-range":"search-kits_search-range__Il_Bn",collapse:"search-kits_collapse__Ifo1q",expand:"search-kits_expand__ahTIE","range-item":"search-kits_range-item__wqRmK","range-item-name":"search-kits_range-item-name__XNakE","select-popover":"search-kits_select-popover__LzBLd",title:"search-kits_title__UX4Az",extension:"search-kits_extension__0RBqr","mode-item-container":"search-kits_mode-item-container__gyBjQ","mode-item":"search-kits_mode-item__oGeMl","list-title":"search-kits_list-title__ksXhJ","search-setting-actions":"search-kits_search-setting-actions__bEF0x","item-button":"search-kits_item-button__XMOzd","active-item-button":"search-kits_active-item-button__lybLw","primary-btn":"search-kits_primary-btn__ruYXS","ref-title":"search-kits_ref-title__IazbV","ref-link":"search-kits_ref-link__e71N8","ref-expand":"search-kits_ref-expand__JKXLu","ref-container":"search-kits_ref-container__Mguq4","academic-ref":"search-kits_academic-ref__rjlhr",div:"search-kits_div__jp7gC","ref-author":"search-kits_ref-author__apuZ9","append-setting-container":"search-kits_append-setting-container__9Ifss","append-setting-icon-button":"search-kits_append-setting-icon-button__HMlRQ","button-active":"search-kits_button-active__rsEBj","append-search-textarea":"search-kits_append-search-textarea__HrlV4","search-setting-content":"search-kits_search-setting-content___B4Lx","search-setting-popover":"search-kits_search-setting-popover__BGWV_","podcast-tabs-root":"search-kits_podcast-tabs-root__83rkD","sd--borderBtm":"search-kits_sd--borderBtm__LaquZ","pod-name":"search-kits_pod-name__IY_wD","podcast-ref":"search-kits_podcast-ref__Kl8UF","podcast-tab":"search-kits_podcast-tab__L1AOH","podcast-tab--active":"search-kits_podcast-tab--active___iPa_","max-rows-6":"search-kits_max-rows-6__v9o8a","max-rows-6-scroll":"search-kits_max-rows-6-scroll__ZukEG","content-footer-mask":"search-kits_content-footer-mask__lHULr","scroll-active":"search-kits_scroll-active__zmlbt","podcast-content":"search-kits_podcast-content___uCIC","time-line":"search-kits_time-line__rI6sm","podcast-item-title":"search-kits_podcast-item-title__IjKD5","podcast-top-tag":"search-kits_podcast-top-tag__cg9pQ","stop-btn":"search-kits_stop-btn__XxSv2",breath:"search-kits_breath__ieUcu","ios-minipro":"search-kits_ios-minipro__inQt7","home-quick-access":"search-kits_home-quick-access__6gR1I","access-active":"search-kits_access-active__RE_BS","access-detail":"search-kits_access-detail__WvmBd","access-name":"search-kits_access-name__bbetp","quick-access-loading":"search-kits_quick-access-loading__T4pc7","quick-access":"search-kits_quick-access__3_PQo","access-type":"search-kits_access-type__Y4RMA","access-icon":"search-kits_access-icon__OgHHc","access-icon-hide":"search-kits_access-icon-hide__iM811","access-link":"search-kits_access-link__zL2Xp","page-tag":"search-kits_page-tag__sv_wS","close-btn":"search-kits_close-btn__SVYJt","action-btn":"search-kits_action-btn__6Tukz","action-btn-white":"search-kits_action-btn-white__KTVRV",primary:"search-kits_primary__TWc9T","primary-border":"search-kits_primary-border___U9HX","image-search-mask":"search-kits_image-search-mask__0QfC2","mask-header":"search-kits_mask-header__cvmvJ","img-container":"search-kits_img-container__He1SF","action-container":"search-kits_action-container__eEvQa","active-range-name":"search-kits_active-range-name__nArNX","img-view-container":"search-kits_img-view-container__TkL5c","open-pdf-btn":"search-kits_open-pdf-btn__z_f3K","open-ppt-btn":"search-kits_open-ppt-btn__79ydj","academic-op-item-wrapper":"search-kits_academic-op-item-wrapper__ouyXV","mui-button":"search-kits_mui-button__wJIJC","result-table":"search-kits_result-table__4vArk","generate-table-btn":"search-kits_generate-table-btn__93e9R","generate-table-value":"search-kits_generate-table-value__ie2No","generate-table-key":"search-kits_generate-table-key__uUdJ9",inline:"search-kits_inline__YhkTC","highlight-text":"search-kits_highlight-text__WttME","select-highlight":"search-kits_select-highlight__qtMgL","flex-row-center":"search-kits_flex-row-center__8MkPK","text-hidden":"search-kits_text-hidden__dZ86l","text-hidden-row2":"search-kits_text-hidden-row2__lzg4G",podcastToTag:"search-kits_podcastToTag__Hny_U",tabLine:"search-kits_tabLine__LDuFk",h5Active:"search-kits_h5Active__Kc_x6","srsi-step1":"search-kits_srsi-step1__BYE_H","srsi-step1-item":"search-kits_srsi-step1-item__DPdbp","video-reference":"search-kits_video-reference__0KSl0","video-reference-num":"search-kits_video-reference-num__wvuUo","video-reference-line":"search-kits_video-reference-line__bFusK","video-reference-play":"search-kits_video-reference-play__YyQdl","video-reference-h5":"search-kits_video-reference-h5__qgVWi","quick-access-buttons":"search-kits_quick-access-buttons__a0TKo","play-button":"search-kits_play-button__kwLe0","play-button-has-cache":"search-kits_play-button-has-cache__M5Cpq","play-button-dark":"search-kits_play-button-dark__4hqcf"}},2644:function(e){e.exports={"search-consult-input-wrapper":"search-consult-textarea_search-consult-input-wrapper__ltqdB","search-consult-input-partition":"search-consult-textarea_search-consult-input-partition__oZHTf","search-consult-textarea":"search-consult-textarea_search-consult-textarea__kjgyz","search-consult-textarea-icon":"search-consult-textarea_search-consult-textarea-icon__twGud","search-consult-textarea-root":"search-consult-textarea_search-consult-textarea-root__y22bb"}},62568:function(e){e.exports={confirm:"SearchCountUsedUpDialog_confirm__XuvKR",content:"SearchCountUsedUpDialog_content__QaHCf",footer:"SearchCountUsedUpDialog_footer__j3lLY",mobile:"SearchCountUsedUpDialog_mobile__S7QTt"}}}]);