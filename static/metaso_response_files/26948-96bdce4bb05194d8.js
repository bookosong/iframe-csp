(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26948],{38068:function(e,t,n){"use strict";n.d(t,{i:function(){return u},q:function(){return a}});var r=n(23760),i=n(58494),o=n(36570);function a(e){if(1==i.ZP.load("register")){var t=i.ZP.load("sid");o.ZP.lastRegisterAgainstSid.set(t),r.LM.getState().logOut({desc:e,isStatic:!0})}}function u(){var e=i.ZP.load("register"),t=i.ZP.load("uid"),n=i.ZP.load("sid");return n!==o.ZP.lastRegisterAgainstSid.get()&&!!(n&&1==e&&!t)}},60639:function(e,t,n){"use strict";n.d(t,{E:function(){return o}});var r=n(57437),i=n(2265),o=function(e){var t=function(e,t){if(e&&t){if(t.current)e(t.current);else{var n=o.get(t);void 0===n?o.set(t,[e]):n.push(e)}}},n=(0,i.createContext)(null),o=new WeakMap,a=function(t,n,r){if(!n[t]){var o;n[t]={option:null===(o=r||e)||void 0===o?void 0:o[t],api:(0,i.createRef)()}}return n[t].api},u=(0,i.forwardRef)(function(e,t){var o,u,c=(null===(o=e.contextValue)||void 0===o?void 0:o.bridges)||{},s=null===(u=e.contextValue)||void 0===u?void 0:u.parent,l=(0,i.useContext)(n),d=s||l;(0,i.useImperativeHandle)(t,function(){return{bridges:c,getBridge:function(t){return a(t,c,e.options)},parent:d}},[c]);var f=(0,i.useRef)(e.contextValue||{bridges:c,parent:d,key:e.key});return(0,r.jsx)(n.Provider,{value:f.current,children:e.children})});u.displayName="Boundary";var c={bridges:{},parent:null,key:"root"},s=function(e){var t=(0,i.useContext)(n);return e||t||c};return{Boundary:u,useContextValue:function(){var e=(0,i.useContext)(n);return(0,i.useMemo)(function(){return{bridges:{},parent:e}},[])},useBoundaryRef:function(){return(0,i.useRef)(null)},useRegister:function(e,t,n,r){var u=s(r),c=a(e,u.bridges);(0,i.useImperativeHandle)(c,function(){var e;return null===(e=o.get(c))||void 0===e||e.forEach(function(e){return e(t)}),o.delete(c),t},n);var l=(0,i.useCallback)(function(e){return a(e,u.bridges)},[]);return(0,i.useMemo)(function(){return{getBridge:l,bridges:u.bridges}},[l])},useBridge:function(e,n,r){var o=s(r);return(0,i.useMemo)(function(){var r=a(e,o.bridges);return t(n,r),r},[])},useBridgeRecursively:function(e,n,r){var o=s(r),u=(0,i.useRef)(new WeakSet);return(0,i.useCallback)(function(){for(var r=o;r&&!a(e,r.bridges).current&&r.parent;)r=r.parent;var i=r?a(e,r.bridges):void 0;return u.current.has(i)||(t(n,i),u.current.add(i)),i},[])}}}},74591:function(e,t,n){"use strict";n.d(t,{dg:function(){return q},qh:function(){return Q},mw:function(){return G},po:function(){return er},jh:function(){return a},Yq:function(){return Y},YQ:function(){return z},Mm:function(){return K},Vv:function(){return en},Ai:function(){return O},x1:function(){return $},j1:function(){return et},p1:function(){return ee},G1:function(){return F},xH:function(){return H},mn:function(){return X}});var r,i,o,a,u=n(2403),c=n(5194),s=n(1780),l=n(46796),d=n(50059),f=n(5853),v=n(57437),p=n(46387),g=n(78693),h=n(2265),m=n(48365),x=n(52659),b=n(46075),y=n.n(b),w=n(85157),_=n(23656),k=n.n(_),C=n(58494),S=n(38305),P=n(54632),j=n(39207),N=n(7870),R=n(22322),E=n(23760),Z=n(94746);function I(){return(I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var A=function(e){return Z.createElement("svg",I({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"none",viewBox:"0 0 25 25"},e),i||(i=Z.createElement("g",{clipPath:"url(#clip0_26887_15785)"},Z.createElement("path",{fill:"#fff",d:"M16.41 9.175c.276 0 .548.021.82.051-.734-3.42-4.39-5.96-8.564-5.96C4.001 3.266.18 6.445.18 10.484c0 2.33 1.27 4.244 3.396 5.731l-.848 2.552 2.967-1.486c1.061.208 1.913.424 2.972.424q.4-.001.792-.032a6.4 6.4 0 0 1-.263-1.78c.002-3.708 3.185-6.718 7.216-6.718m-4.562-2.3c.642 0 1.063.42 1.063 1.06 0 .635-.421 1.06-1.063 1.06-.634 0-1.272-.425-1.272-1.06 0-.64.637-1.06 1.272-1.06m-5.94 2.12c-.636 0-1.278-.425-1.278-1.06 0-.64.642-1.06 1.279-1.06s1.06.42 1.06 1.06c0 .635-.423 1.06-1.06 1.06m18.251 6.796c0-3.393-3.396-6.159-7.21-6.159-4.04 0-7.218 2.767-7.218 6.159 0 3.402 3.18 6.158 7.218 6.158.845 0 1.698-.21 2.546-.424l2.328 1.277-.639-2.122c1.704-1.28 2.975-2.975 2.975-4.89m-9.551-1.063c-.422 0-.849-.42-.849-.848 0-.423.427-.848.849-.848.644 0 1.062.425 1.062.848 0 .429-.418.848-1.062.848m4.668 0c-.418 0-.843-.42-.843-.848 0-.423.424-.848.843-.848.639 0 1.063.425 1.063.848 0 .429-.424.848-1.063.848"}))),o||(o=Z.createElement("defs",null,Z.createElement("clipPath",{id:"clip0_26887_15785"},Z.createElement("path",{fill:"#fff",d:"M.179.672h24v24h-24z"})))))},M=n(26058),L=n(60639),W={src:"https://static-1.metaso.cn/_next/static/media/loading-qrcode.a578f98f.png"},U=n(54493),B=n(89831),T=n(95597),V=n(36570),D=n(38068),J=n(74634);function O(e){var t=(0,d._)((0,h.useState)(!1),2),n=t[0],r=t[1],i=(0,d._)((0,h.useState)(!0),2),o=i[0],a=i[1],u=(0,M.ND)();(0,h.useEffect)(function(){var e=function(){(0,N.oh)("WxQrCode-login-in"),(0,N.dW)("login-in","WxQrCode-login-in")};return window.addEventListener("pagehide",e),function(){window.removeEventListener("pagehide",e)}},[]);var c=function(){if(u){var t=new window.URL(e.redirectUri,location.origin),n=new window.URL(window.location.href);n.pathname===t.pathname&&n.searchParams.forEach(function(e,n){null===t.searchParams.get(n)&&"login"!=n&&t.searchParams.set(n,e)}),t.searchParams.set("origin","pc");var i=t.href;i=i.replace("#","@").replace(/&/g,","),localStorage.setItem("needAutoLogin","true"),localStorage.setItem("keepSession","true");try{a(!0),s(),window.WxLogin({self_redirect:!1,id:"wechatcode",appid:u.appid,scope:"snsapi_login",redirect_uri:u.redirect_uri,state:i,style:"black",href:"data:text/css;base64,Ym9keSB7bWFyZ2luOiAwO30NCi5pbXBvd2VyQm94IHt3aWR0aDogYXV0bzt9DQouaW1wb3dlckJveCAucXJjb2RlIHt3aWR0aDogMTc1cHg7Ym9yZGVyOm5vbmU7bWFyZ2luLXRvcDogMDt9DQouaW1wb3dlckJveCAudGl0bGUge2Rpc3BsYXk6IG5vbmU7fQ0KLmltcG93ZXJCb3ggLmluZm8ge3dpZHRoOiAyMjBweDsgZGlzcGxheTogbm9uZTt9DQouc3RhdHVzX2ljb24ge2Rpc3BsYXk6IG5vbmV9DQouaW1wb3dlckJveCAuc3RhdHVzIHt0ZXh0LWFsaWduOiBjZW50ZXI7fQ=="})}catch(t){r(!0),localStorage.removeItem("keepSession"),e.loadError()}}},s=function(){var e=document.getElementById("wechatcode"),t=setInterval(function(){e.children.length>0&&(a(!1),clearInterval(t))},500)};return(0,h.useEffect)(function(){setTimeout(function(){c()})},[]),(0,v.jsxs)("div",{className:k()["wx-login-body"],children:[(0,v.jsxs)("div",{style:{display:n?"block":"none"},className:k()["wxlogin-failed-wrap"],children:[(0,v.jsx)("span",{children:"微信二维码暂时无法加载"}),(0,v.jsx)("span",{children:"请使用其他登录方式或刷新页面"})]}),(0,v.jsx)("div",{style:{display:n||o?"none":"block"},className:k().wechatcode,id:"wechatcode"}),o&&(0,v.jsx)("div",{style:{width:"100%",height:"185px",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,v.jsx)("img",{src:W.src,alt:"",style:{width:"50px",height:"50px",display:"block"},className:"loadingImg"})})]})}function q(e){var t=e._ref,n=(0,l._)(e,["_ref"]),r=(0,d._)((0,h.useState)(!1),2),i=r[0],o=r[1],a=m.BZ.useAPI("controller"),u=(0,d._)((0,h.useState)(!1),2),s=u[0],f=u[1],g=(0,h.useContext)(m.q3),b=void 0===e.disabled?g.disabled:e.disabled,_=(0,m.bc)().fieldState;m.BZ.useRegister("inputBox",function(){return{optStatusSet:function(e,t){f("error"===e&&"add"===t)}}},[]);var k=(0,h.useRef)(null);return(0,h.useImperativeHandle)(t,function(){return{labelRef:k}},[]),(0,v.jsxs)("label",{ref:k,style:{cursor:"default"},children:[(0,v.jsx)(x.t,(0,c._)({disabled:b,inputProps:{"aria-describedby":null==_?void 0:_.contextProps["aria-describedby"]},name:"policy-checkbox",checked:i,value:i,onChange:function(e,t){var n,r;null==a||null===(r=a.current)||void 0===r||null===(n=r.setValue)||void 0===n||n.call(r,t?"checked":""),o(t)},size:"small",sx:(0,c._)({ml:-1,my:-1},s?{"& svg":{boxShadow:"0 0 0px 3px #eb3a2d3d",borderRadius:"7px"}}:{})},y()(n,"disabled"))),(0,v.jsxs)(p.Z,{component:"span",sx:{userSelect:"none"},fontSize:12,children:["我已阅读并同意",(0,v.jsx)(w.F,{}),"和",(0,v.jsx)(w.w,{})]})]})}function F(e){var t=(0,h.useMemo)(function(){return(0,D.i)()},[]),n=(0,h.useState)(e||(t?"signUp":"wxQRCode")),r=(0,d._)(n,2),i=r[0],o=r[1];return(0,h.useEffect)(function(){(0,N.dW)("login-way",i)},[i]),[i,function(e){var t=T.N.get(e);1==C.ZP.load("register")&&"signUp"!==t&&(0,N.MU)({event_name:"metasoai-register-way-error",text:"检测到此时应该是使用注册(register)方式,但设置的是".concat(t,"方式")}),o(e)}]}function H(){(0,h.useEffect)(function(){if(1==C.ZP.load("register")){var e=V.ZP.registerTimes.get();Date.now()-e.lastUpdateDate<=18e5?(e.count>=1&&(0,N.dW)("duplicate-register-detected",{times:e.count,client:(0,M.Fk)()}),V.ZP.registerTimes.set((0,s._)((0,c._)({},e),{count:e.count+1}))):V.ZP.registerTimes.set({lastUpdateDate:Date.now(),count:1})}},[])}(r=a||(a={})).phoneCode="phoneCode",r.wxQRCode="wxQRCode",r.account="account",r.signUp="signUp";var Q=[S.n,{validate:function(e){e.focused,e.dirty,e.empty;var t=e.value;return e.contextProps,/(^[\w.\-]+@(?:[a-z0-9]+(?:-[a-z0-9]+)*\.)+[a-z]{2,4}$)|(^1[3|4|5|7|8|9]\d{9}$)/i.test(t)||!/@/.test(t)},isSkip:function(e){var t=e.focused,n=e.dirty,r=e.empty,i=e.value;return!/@/.test(i)||!n||r||t},message:"请输入正确格式的邮箱"},{validate:function(e){e.focused;var t=e.value;return e.empty,e.dirty,e.contextProps,/^\d+$/.test(t)||/@/.test(t)},isSkip:function(e){var t=e.focused,n=e.dirty,r=e.empty,i=e.value;return/@/.test(i)||!n||r||t},message:"请输入正确格式的手机号"}],z=[S.n,{validate:function(e){e.focused;var t=e.value;return e.empty,e.dirty,e.contextProps,/(?:\(?[0\+]?\d{1,3}\)?)[\s-]?(?:0|\d{1,4})[\s-]?(?:(?:13\d{9})|(?:\d{7,8}))/.test(t)},isSkip:function(e){var t=e.focused,n=e.dirty,r=e.empty,i=e.value;return/@/.test(i)||!n||r||t},message:"请输入正确格式的手机号"}],G=[S.n,{validate:function(e){e.focused,e.dirty,e.empty;var t=e.value;return e.contextProps,/(^[\w.\-]+@(?:[a-z0-9]+(?:-[a-z0-9]+)*\.)+[a-z]{2,4}$)/i.test(t)},isSkip:function(e){var t=e.focused,n=e.dirty;return e.empty,e.value,!n||t},message:"请输入正确格式的邮箱"}],X=[S.n,{validate:function(e){e.focused;var t=e.value;return e.empty,e.dirty,e.contextProps,!isNaN(Number(t))&&4===t.length},isSkip:function(e){var t=e.focused,n=e.empty,r=e.dirty;return t||!r||n},message:"请输入4位有效数字的验证码"}];function Y(e){e.onClick;var t=e.onTap,n=e.fieldName,r=(0,l._)(e,["onClick","onTap","fieldName"]),i=(0,m.bc)(),o=(i.controllerAPI,i.fieldState),a=(0,h.useContext)(m.q3),u=(0,d._)((0,h.useState)(!1),2),f=u[0],p=u[1],g=(0,h.useDeferredValue)(f),x=(0,d._)((0,h.useState)(60),2),b=x[0],y=x[1],w=(0,h.useRef)();er.useRegister("getCodeButton",{resetCounter:function(){p(!1)}},[]);var _=(0,h.useCallback)(function(){var e=function(){y(function(t){return 0===t?(p(!1),0):(w.current=setTimeout(e,1e3),t-1)})};w.current=setTimeout(e,1e3)},[]);return(0,h.useEffect)(function(){return!g&&f&&(y(60),_()),function(){clearTimeout(w.current)}},[f]),(0,v.jsx)(P.Z,(0,s._)((0,c._)({disabled:f||(null==o?void 0:o.disabled)},r),{onClick:function(e){var r,i=!0;a&&(i=(null===(r=a.fieldMap.get(n||"phone"))||void 0===r?void 0:r.validate().length)===0);var o=!f&&i;null==t||t(o),o&&((0,N.dW)("click-send-phoneCode-btn",{client:(0,M.Fk)()}),p(!0))},children:f?"".concat(b,"秒后重发"):"发送验证码"}))}function K(e){var t=e.children,n=e.sx,r=(0,l._)(e,["children","sx"]),i=(0,h.useContext)(m.q3),o=void 0===e.disabled?i.disabled:!!e.disabled;return(0,v.jsx)(P.Z,(0,s._)((0,c._)({sx:(0,c._)({height:40},n),type:"submit",disabled:o,variant:"contained"},r),{children:t}))}var $=function(e,t){return Object.fromEntries(e.current.validate(t).map(function(e,t,n){return"country_code"===e.name?[e.name,e.value||"86"]:[e.name,e.value]}))};function ee(e){var t,r,i=(0,M.ND)(),o=e.inviteCode,a=e.loginWay,s=e.getFormValue,l=e.source,v=(0,d._)((0,h.useState)(!0),2),p=v[0],g=v[1],m=(0,d._)((0,h.useState)(!1),2),x=m[0],b=m[1],y=(0,d._)((0,h.useState)(!0),2),w=y[0],_=y[1],k=(0,E.LM)(function(e){return e.updateVerify}),S=(0,h.useCallback)(function(){(0,j.Gum)({type:"invite_code",content:"SYS-OPN00000000"}).then(function(e){b(0===e.data.code)})},[]),P=(0,h.useCallback)((t=(0,u._)(function(e,t){var r,i,o,a,u,c,s,l,d,v;return(0,f.Jh)(this,function(f){switch(f.label){case 0:if(!("account"===e&&"account"in t))return[3,2];return r=t.account,i=t.password,o="MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCX4kRYjU6XclWT4mwxgQ55JerRar8CPEHp4uZRITqZuk8p0z5UTL02muequw2dgvgNlJkE8C7eyXf1S8TH+MvbVkHnCoKKigAPb08PtqcvVIqnZn+kNDpiQZapkpHrEXeR+rWfj3etTwMHYbV+zTaKOdxa7fm3oO4CWbgmfkSC8wIDAQAB",[4,n.e(89965).then(n.bind(n,89965))];case 1:return(a=new(f.sent()).JSEncrypt).setPublicKey(o),u={login_by:"account",account:r,pwd:a.encrypt(i)},c={},[2,(0,j.HQW)(u,c).then(U.Jj)];case 2:if("phoneCode"===e&&"country_code"in t)return s=t.verification,l=t.country_code,d=t.phone,v={login_by:"sms",phone:"".concat(l,"-").concat(d),sms_code:parseInt(s)},[2,(0,j.Cso)(v).then(U.Jj)];f.label=3;case 3:return[2]}})}),function(e,n){return t.apply(this,arguments)}),[]),Z=(0,h.useCallback)((r=(0,u._)(function(e,t,n){var r,a,u,c,s;return(0,f.Jh)(this,function(d){switch(d.label){case 0:if(!i)return[2];return r=t.verification,a=t.country_code,u=t.phone,c={type:"signup",content:r},(0,N.dW)("register-step","check-phone-code"),[4,(0,j.tWx)(c).then(U.Jj)];case 1:return d.sent(),s={country_code:a,phone:u,phonecode:r,email:"",password:"",invite_code:T.N.get(o),interest:["其他"],method:void 0},"phone"===e&&(s.method="phone"),(0,N.dW)("register-step","request-login"),[2,(0,j.Pwy)(s,function(r){0===r.user.code?(C.ZP.load("register")&&C.ZP.remove("register",{domain:i.domain}),null==n||n(),(0,N.oh)("register"),(0,N.dW)("register",{client:(0,M.Fk)()})):r&&r.user&&"非法注册,非微信扫码注册!"===r.user.msg?((0,R.y)("请检查是否安装秘塔AI搜索插件，如有安装请更新插件后重新注册",{variant:"error",autoHideDuration:3e3}),(0,N.MU)({event_name:"metasoai-requestLogin-fail",text:"failed 非法注册  result:"+JSON.stringify(r)+"  con:"+e+"  data:"+JSON.stringify(t)+"  pa:"+JSON.stringify(s)+"  source:"+l})):((0,R.y)("服务器繁忙，请稍后再试",{variant:"error",autoHideDuration:1500}),(0,N.MU)({event_name:"metasoai-requestLogin-fail",text:"failed  result:"+JSON.stringify(r)+"  con:"+e+"  data:"+JSON.stringify(t)+"  pa:"+JSON.stringify(s)+"  source:"+l}))})]}})}),function(e,t,n){return r.apply(this,arguments)}),[o]),I=(0,h.useCallback)(function(){var e="signUp"===a?"signup":"login_sms",t=s(["country_code","phone"]),n=t.country_code,r=t.phone,i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"signup";"signup"!==e&&(document.cookie="sid=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/;",document.cookie="sid=; domain=.".concat(location.host,"; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/;"),g(!0)),(0,N.MU)({event_name:"metasoai-getPhoneCode",text:JSON.stringify({type:e,phone:"".concat(n,"-").concat(r)})}),(0,j.Sy$)({type:e},{phone:"".concat(n,"-").concat(r)}).then(function(e){return(0,U.Jj)(e,{ignore:[B.Cq.SAFE,B.Cq.NOT_EXIST_PHONE,B.Cq.UNCLASSIFIED_2704]})}).then(function(e){if((0,N.MU)({event_name:"metasoai-getPhoneCode-success",text:JSON.stringify(e)}),e.data.code===B.Cq.NOT_EXIST_PHONE){if("手机号不存在,请先注册!"===e.data.msg)_(!0),S(),i("signup"),g(!1);else throw Error(e.data.msg)}else if(e.data.code===B.Cq.UNCLASSIFIED_2704){var t=JSON.parse(localStorage.getItem("chat-next-web-store-user")).state.verify,n=Object.assign({},t);n.params=(0,c._)({phone:r},t.params),k(n),setTimeout(function(){I()},1e3)}else{var o=(0,j.ejW)("sid");localStorage.setItem("getPhoneCodeSid",o)}}).catch(function(e){(0,N.MU)({event_name:"metasoai-getPhoneCode-fail",text:JSON.stringify(e)}),(0,R.y)(e.message||"发送手机验证码失败，请稍后再试",{variant:"error",autoHideDuration:5e3})})};i(e)},[S,s,a,k]),A=(0,h.useCallback)((0,u._)(function(){var e;return(0,f.Jh)(this,function(t){switch(t.label){case 0:switch(a){case"account":return[3,1];case"phoneCode":return[3,3];case"signUp":return[3,8];case"wxQRCode":return[3,10]}return[3,11];case 1:return[4,P("account",s(["account","password"]))];case 2:return t.sent(),[3,11];case 3:if(e=s(["verification","phone","country_code"]),!p)return[3,5];return[4,P("phoneCode",e)];case 4:return t.sent(),[3,7];case 5:return[4,Z("phone",e,function(){g(!0)})];case 6:t.sent(),t.label=7;case 7:return[3,11];case 8:return[4,Z("wx",s(["verification","phone","country_code"]),function(){g(!0)})];case 9:return t.sent(),[3,11];case 10:t.label=11;case 11:return[2]}})}),[s,p,P,a,Z]);return{isRegistered:p,validCodeControl:x,cfVerifySuccess:w,getPhoneCode:I,submit:A,registerSubmit:Z,loginSubmit:P}}function et(){var e=(0,E.LM)(function(e){return e.login}),t=(0,J.F)();(0,h.useEffect)(function(){e&&localStorage.getItem("needAutoLogin")&&"true"===localStorage.getItem("needAutoLogin")&&(localStorage.removeItem("needAutoLogin"),t||(0,N.VL)((0,j.ejW)("sid")))},[e])}function en(e){var t=(0,M.ND)(),n=(0,h.useCallback)(function(){if(t){var n=new URL(e.redirectUrl,location.origin);n.searchParams.set("origin","mb");var r=n.href;r=r.replace("#","@").replace(/&/g,",");var i="https://open.weixin.qq.com/connect/oauth2/authorize?appid=".concat(t.publicAppId,"&redirect_uri=").concat(t.redirect_uri,"&response_type=code&scope=snsapi_userinfo&state=").concat(r,"#wechat_redirect");window.location.href=i}},[]);return(0,v.jsxs)(P.Z,{onClick:function(){e.onBeforeClick?e.onBeforeClick(n):n()},color:"success",sx:{mt:7,alignSelf:"stretch",height:40,backgroundColor:"#05c161"},variant:"contained",children:[(0,v.jsx)(A,{}),(0,v.jsx)(g.Z,{component:"span",sx:{ml:1},children:"微信一键登录"})]})}var er=(0,L.E)()},85157:function(e,t,n){"use strict";n.d(t,{F:function(){return d},w:function(){return f}});var r=n(5194),i=n(1780),o=n(45008),a=n(57437),u=n(16210),c=n(75825),s=n(98633);function l(){var e=(0,o._)(["\n  color: #2E90FA;\n  text-decoration: none;\n  &:hover{\n    text-decoration: revert;\n  }\n"]);return l=function(){return e},e}function d(){return(0,a.jsx)(v,{href:"".concat(c.l.UserPolicy),children:"《用户协议》"})}function f(){return(0,a.jsx)(v,{href:"".concat(c.l.PrivatePolicy),children:"《隐私政策》"})}var v=(0,u.ZP)(function(e){return(0,a.jsx)(s.T,(0,i._)((0,r._)({prefetch:!0,target:"_blank"},e),{children:e.children}))},{name:"BlankLink"})(l())},52659:function(e,t,n){"use strict";n.d(t,{t:function(){return c}});var r=n(5194),i=n(1780),o=n(57437),a=n(11953),u=n(88416),c=function(e){return(0,o.jsx)(a.Z,(0,i._)((0,r._)({},e),{indeterminateIcon:(0,o.jsx)(u.Z,{sx:{verticalAlign:"bottom"},children:(0,o.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("rect",{x:"0.5",y:"0.5",width:"19",height:"19",rx:"5.5",fill:"#F7FAFF"}),(0,o.jsx)("path",{d:"M5.91602 10H14.0827",stroke:"#0070FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("rect",{x:"0.5",y:"0.5",width:"19",height:"19",rx:"5.5",stroke:"#0070FF"})]})}),checkedIcon:(0,o.jsx)(u.Z,{sx:{verticalAlign:"bottom"},children:(0,o.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("rect",{x:"0.5",y:"0.5",width:"19",height:"19",rx:"5.5",fill:"var(--checkbox-active)"}),(0,o.jsx)("path",{d:"M14.6667 6.5L8.25004 12.9167L5.33337 10",stroke:"#155EEF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("rect",{x:"0.5",y:"0.5",width:"19",height:"19",rx:"5.5",stroke:"#155EEF"})]})}),icon:(0,o.jsx)(u.Z,{sx:{verticalAlign:"bottom"},children:(0,o.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("rect",{x:"0.5",y:"0.5",width:"19",height:"19",rx:"5.5",fill:"var(--white)"}),(0,o.jsx)("rect",{x:"0.5",y:"0.5",width:"19",height:"19",rx:"5.5",stroke:"var(--border-color3)"})]})})}))}},38305:function(e,t,n){"use strict";n.d(t,{R:function(){return x},n:function(){return m}});var r=n(5194),i=n(1780),o=n(46796),a=n(50059),u=n(45008),c=n(57437),s=n(7870),l=n(2265),d=n(16210),f=n(46387),v=n(48365),p=n(95597),g=n(52836);function h(){var e=(0,u._)(["\n    color: #F64C4C;\n    font-size: 12px;\n    position: absolute;\n    bottom: 0;\n    transform: translateY(calc(100% + 3px));\n    opacity: 0;\n    transition: opacity .3s, transform .2s;\n\n    &.helpText--show {\n        opacity: 1;\n        transform: translateY(100%);\n    }\n"]);return h=function(){return e},e}var m={validate:function(e){e.focused,e.dirty;var t=e.empty;return e.contextProps,!t},message:function(e){return"请输入".concat(e.contextProps.cnName||"内容")},isSkip:function(e){var t=e.focused;return!e.dirty||t}},x=(0,d.ZP)((0,l.forwardRef)(function(e,t){e.children;var n,u=e.className,d=e.rules,h=void 0===d?[]:d,m=(0,o._)(e,["children","className","rules"]),x=(0,v.bc)(),b=x.controllerAPI,y=x.fieldState,w=(0,l.useRef)(new Map),_=v.BZ.useTools(),k=_.getUpperAPI,C=_.getAPI,S=function(){var e;return C("inputBox").current||(null===(e=k("inputBox",{shouldForwardYield:function(e){var t;return!!(null===(t=e.allAPI.inputBox)||void 0===t?void 0:t.current)}}))||void 0===e?void 0:e.current)},P=(0,v.Gc)(),j=(0,l.useCallback)(function(){var e,t,n=!(arguments.length>0)||void 0===arguments[0]||arguments[0],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=h.filter(function(e){return!e.validate(y)}),o=i;n&&(o=i.filter(function(e){return!p.N.get(e.isSkip,[y])}));var a=o[0];if(!r){E(a?{rule:a,judgeSkip:n}:null);var u,c,s=o.length?"add":"delete";Array.from(w.current.values()).forEach(function(e){e(o)}),null===(c=S())||void 0===c||c.optStatusSet("error",s)}return null==P||P.fieldMap.set(y.contextProps.name,{validate:function(e){return j(!1,e)},cnName:null!==(e=y.contextProps.cnName)&&void 0!==e?e:"",value:y.value,hitRule:a,defaultValue:null==y?void 0:y.defaultValue}),a&&a.id&&(null===(t=b.current)||void 0===t||t.getRecordHitRuleIds().add(a.id)),null==P||null===(u=P.onValidated)||void 0===u||u.call(P,y,a),o},[S,y,null==P?void 0:P.onValidated,h]);v.BZ.useRegister("helpText",function(){return{validate:j,onValidated:function(e,t){return w.current.set(e,t),function(){w.current.delete(e)}}}},[j]);var N=(0,a._)((0,l.useState)(null),2),R=N[0],E=N[1],Z=null!==(n=null==R?void 0:R.rule)&&void 0!==n?n:null,I=(0,l.useRef)(null),A=(0,l.useRef)(!1);(0,l.useEffect)(function(){if(P&&y&&!A.current){A.current=!0;var e,t=y.contextProps,n=y.value;P.fieldMap.set(t.name,{validate:function(e){return j(!1,e)},cnName:null!==(e=t.cnName)&&void 0!==e?e:"",value:n,hitRule:Z,defaultValue:null==y?void 0:y.defaultValue}),I.current=function(){P.fieldMap.delete(t.name)}}},[Z,j,null==y?void 0:y.value]),(0,l.useEffect)(function(){return function(){var e;null===(e=I.current)||void 0===e||e.call(I)}},[]);var M=!!Z&&(!(null==R?void 0:R.judgeSkip)||!y||!Z.isMessageVisible||p.N.get(Z.isMessageVisible,[y])),L=(0,a._)((0,l.useState)(""),2),W=L[0],U=L[1];(0,l.useLayoutEffect)(function(){if(Z&&y){var e=p.N.get(Z.message,[y]);e&&(M||B.current)&&U(e)}},[Z,y]),(0,l.useEffect)(function(){y&&j()},[null==y?void 0:y.focused,null==y?void 0:y.value]);var B=(0,l.useRef)(!0);return(0,c.jsx)(g.ZP,{timeout:{enter:10,exit:300},in:M,onEnter:function(){return B.current=!1},onExited:function(){return B.current=!0},children:function(e){return"exited"!==e&&(0,c.jsx)(f.Z,(0,i._)((0,r._)({id:Z?null==y?void 0:y.contextProps["aria-describedby"]:"",ref:t,className:(0,s.zk)([u],{"helpText--show":"entered"===e})},m),{children:W}))}})}))(h())},98633:function(e,t,n){"use strict";n.d(t,{T:function(){return v},Z:function(){return f}});var r=n(5194),i=n(46796),o=n(57437),a=n(97312),u=n(99305),c=n(2265),s=n(27648),l=n(57497),d=n(79943);function f(e){var t=e.onLinkClick,n=e.snackbarContent,s=e.useCopySibling,l=void 0===s||s,d=e.preventCopy,f=e.snackbarProps,v=e._onClick,p=e.target,g=(0,i._)(e,["onLinkClick","snackbarContent","useCopySibling","preventCopy","snackbarProps","_onClick","target"]);return(0,c.useEffect)(function(){var t;"_self"===e.target&&(null===(t=e.href)||void 0===t||t.startsWith(location.host))},[e.href,e.target]),(0,o.jsx)(a.Z,(0,r._)({onClick:function(r){if(v){v(r);return}var i=(0,u.Uq)(e.href,l?r.currentTarget:void 0,{snackbarContent:n,snackbarProps:f},d);return i&&r.preventDefault(),null==t?void 0:t(r,i)},target:void 0===p?"_blank":p},g))}function v(e){var t=e.onClick,n=e.replace,a=e.href,u=(0,i._)(e,["onClick","replace","href"]);return(0,o.jsx)(s.default,(0,r._)({onClick:function(e){var i,o=(i="undefined"==typeof location?"https://metaso.cn":location.href,"string"==typeof a?new URL(a,i).href:(a.hostname||a.host||(a.host=new URL(i).host),(0,l.formatUrl)(a))),u=(0,d.YU)();n?d.C$.currentNavigationInfo=(0,r._)({action:"replace",href:o},u):d.C$.currentNavigationInfo=(0,r._)({action:"push",href:o},u),null==t||t(e)},href:a,replace:n},u))}},30979:function(e,t,n){"use strict";n.d(t,{J:function(){return o}});var r=n(50059),i=n(2265),o=function(e,t,n){var o=(0,r._)((0,i.useState)(void 0===e?n:e),2),a=o[0],u=o[1],c=(0,i.useRef)(!1);return(0,i.useEffect)(function(){if(!c.current){c.current=!0;return}void 0===e&&(null==t||t(a))},[a]),(0,i.useMemo)(function(){return void 0!==e?[e,function(e){"function"==typeof e?u(function(n){var r=e(n);return null==t||t(r),r}):null==t||t(e)}]:[a,u]},[t,e,a])}},99305:function(e,t,n){"use strict";n.d(t,{I2:function(){return f},Jf:function(){return v},Uq:function(){return l},pv:function(){return d}}),n(57437),n(2265),n(74634);var r=n(26058),i=n(7870),o=n(22322),a=n(23006),u=n.n(a),c=n(75825),s=n(56275);function l(e,t,n,a){var c,s,l=u()({snackbarContent:"网页链接已经复制到剪贴板，请粘贴到其他浏览器中打开此链接",snackbarProps:{variant:"info"}},n),d=l.snackbarContent,f=l.snackbarProps;return(null!==(c=(0,r.ZD)())&&void 0!==c&&!!c.isMiniWebView||null!==(s=(0,r.ZD)())&&void 0!==s&&!!s.isAliApp)&&!!(e&&"string"==typeof e&&e.startsWith("http"))&&!e.startsWith(location.origin)&&(a&&a()||((0,i.vQ)(e,!0,t),(0,o.y)(d,f)),!0)}function d(){(0,o.y)("网页链接已经复制到剪贴板，请粘贴到其他浏览器中打开此链接",{variant:"info"})}function f(e){var t=!0,n=!1,r=void 0;try{for(var i,o=Object.keys(c.l)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;if((0,s.q)(c.l[a],e))return c.t[c.l[a]]||null}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return null}function v(e){var t,n;return null!==(n=null===(t=f(e))||void 0===t?void 0:t.noNeedAuth)&&void 0!==n&&n}},23656:function(e){e.exports={"login-content":"login_login-content__QkIkN","wx-login-body":"login_wx-login-body___KnhX",wechatcode:"login_wechatcode__hkv1d","wxlogin-failed-wrap":"login_wxlogin-failed-wrap___Lje9","forget-box":"login_forget-box__9892b"}}}]);